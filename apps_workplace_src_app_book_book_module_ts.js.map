{"version":3,"file":"apps_workplace_src_app_book_book_module_ts.js","mappings":"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","sources":["./apps/workplace/src/app/book/book.component.ts","./apps/workplace/src/app/book/book.module.ts","./apps/workplace/src/app/book/code-flow-error.component.ts","./apps/workplace/src/app/book/code-flow-success.component.ts","./apps/workplace/src/app/book/code-flow.component.ts","./apps/workplace/src/app/book/desk-flow.component.ts","./apps/workplace/src/app/book/desk-flow/confirm.component.ts","./apps/workplace/src/app/book/desk-flow/detailed-form.component.ts","./apps/workplace/src/app/book/desk-flow/form.component.ts","./apps/workplace/src/app/book/desk-flow/map.component.ts","./apps/workplace/src/app/book/flow-success.component.ts","./apps/workplace/src/app/book/locker-flow.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-confirm.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-form.component.ts","./apps/workplace/src/app/book/locker-flow/locker-flow-success.component.ts","./apps/workplace/src/app/book/locker-flow/locker-form-details.component.ts","./apps/workplace/src/app/book/meeting-flow.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-confirm-modal.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-confirm.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-form.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-flow-success.component.ts","./apps/workplace/src/app/book/meeting-flow/meeting-form-details.component.ts","./apps/workplace/src/app/book/new-desk-flow.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-confirm.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-form.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-flow-success.component.ts","./apps/workplace/src/app/book/new-desk-flow/new-desk-form-details.component.ts","./apps/workplace/src/app/book/new-parking-flow.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-confirm.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-form.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-flow-success.component.ts","./apps/workplace/src/app/book/new-parking-flow/parking-form-details.component.ts","./apps/workplace/src/app/book/parking-flow.component.ts","./apps/workplace/src/app/book/parking-flow/parking-flow-confirm.component.ts","./apps/workplace/src/app/book/parking-flow/parking-flow-map.component.ts","./apps/workplace/src/app/book/space-flow.component.ts","./apps/workplace/src/app/book/space-flow/confirm.component.ts","./apps/workplace/src/app/book/space-flow/detailed-form.component.ts","./apps/workplace/src/app/book/space-flow/find-item.component.ts","./apps/workplace/src/app/book/space-flow/find.component.ts","./apps/workplace/src/app/book/space-flow/form.component.ts","./apps/workplace/src/app/book/visitor-flow.component.ts","./libs/catering/src/index.ts","./libs/catering/src/lib/catering-import-menu-modal.component.ts","./libs/catering/src/lib/catering-item-modal.component.ts","./libs/catering/src/lib/catering-list-field.component.ts","./libs/catering/src/lib/catering-menu.component.ts","./libs/catering/src/lib/catering-option-modal.component.ts","./libs/catering/src/lib/catering-order-item.component.ts","./libs/catering/src/lib/catering-order-list.component.ts","./libs/catering/src/lib/catering-order-modal.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-details.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-filters.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-list-item.component.ts","./libs/catering/src/lib/catering-order-modal/catering-item-list.component.ts","./libs/catering/src/lib/catering-order-modal/catering-order-state.service.ts","./libs/catering/src/lib/catering-order-modal/new-catering-order-modal.component.ts","./libs/catering/src/lib/catering-order-options-modal.component.ts","./libs/catering/src/lib/catering-orders.service.ts","./libs/catering/src/lib/catering-state.service.ts","./libs/catering/src/lib/catering.interfaces.ts","./libs/catering/src/lib/catering.module.ts","./libs/catering/src/lib/catering.ts","./libs/catering/src/lib/catering.vars.ts","./libs/catering/src/lib/charge-code-list-modal.component.ts","./libs/catering/src/lib/utilities.ts","./node_modules/qr-scanner/qr-scanner.min.js"],"sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n    selector: 'placeos-book',\n    template: `\n        <topbar *ngIf=\"!hide_nav\"></topbar>\n        <div class=\"flex-1 flex sm:flex-row flex-col-reverse h-1/2\">\n            <main\n                class=\"flex flex-col flex-1 h-1/2 sm:h-auto overflow-hidden\"\n            >\n                <router-outlet></router-outlet>\n            </main>\n        </div>\n        <footer-menu class=\"z-10\" *ngIf=\"!hide_nav\"></footer-menu>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookComponent {\n    public get hide_nav() {\n        return localStorage.getItem('PlaceOS.hide_nav') === 'true';\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Route, RouterModule } from '@angular/router';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\n\nimport { SharedExploreModule } from '@placeos/explore';\nimport { SharedBookingsModule } from '@placeos/bookings';\nimport { SharedCateringModule } from '@placeos/catering';\n\nimport { BookComponent } from './book.component';\nimport { BookCodeFlowComponent } from './code-flow.component';\nimport { BookDeskFlowComponent } from './desk-flow.component';\nimport { DeskFlowConfirmComponent } from './desk-flow/confirm.component';\nimport { DeskFlowFormComponent } from './desk-flow/form.component';\nimport { DeskFlowDetailedFormComponent } from './desk-flow/detailed-form.component';\nimport { DeskFlowMapComponent } from './desk-flow/map.component';\nimport { FlowSuccessComponent } from './flow-success.component';\nimport { BookSpaceFlowComponent } from './space-flow.component';\nimport { SpaceFlowConfirmComponent } from './space-flow/confirm.component';\nimport { DetailBookSpaceFormComponent } from './space-flow/detailed-form.component';\nimport { SpaceFlowFindItemComponent } from './space-flow/find-item.component';\nimport { SpaceFlowFindComponent } from './space-flow/find.component';\nimport { SpaceFlowFormComponent } from './space-flow/form.component';\nimport { SharedComponentModule } from '../components/shared.module';\nimport { BookParkingFlowComponent } from './parking-flow.component';\nimport { ParkingFlowMapComponent } from './parking-flow/parking-flow-map.component';\nimport { ParkingFlowConfirmComponent } from './parking-flow/parking-flow-confirm.component';\nimport { BookMeetingFlowComponent } from './meeting-flow.component';\nimport { MeetingFlowFormComponent } from './meeting-flow/meeting-flow-form.component';\nimport { MeetingFormDetailsComponent } from './meeting-flow/meeting-form-details.component';\nimport { MeetingFlowConfirmComponent } from './meeting-flow/meeting-flow-confirm.component';\nimport { MeetingFlowSuccessComponent } from './meeting-flow/meeting-flow-success.component';\nimport { NewDeskFlowComponent } from './new-desk-flow.component';\nimport { NewDeskFlowFormComponent } from './new-desk-flow/new-desk-flow-form.component';\nimport { NewDeskFormDetailsComponent } from './new-desk-flow/new-desk-form-details.component';\nimport { NewDeskFlowConfirmComponent } from './new-desk-flow/new-desk-flow-confirm.component';\nimport { NewDeskFlowSuccessComponent } from './new-desk-flow/new-desk-flow-success.component';\nimport { VisitorFlowComponent } from './visitor-flow.component';\nimport { NewParkingFlowComponent } from './new-parking-flow.component';\nimport { ParkingFlowFormComponent } from './new-parking-flow/parking-flow-form.component';\nimport { ParkingFlowSuccessComponent } from './new-parking-flow/parking-flow-success.component';\nimport { ParkingFormDetailsComponent } from './new-parking-flow/parking-form-details.component';\nimport { MeetingFlowConfirmModalComponent } from './meeting-flow/meeting-flow-confirm-modal.component';\nimport { NewParkingFlowConfirmComponent } from './new-parking-flow/parking-flow-confirm.component';\nimport { CodeFlowSuccessComponent } from './code-flow-success.component';\nimport { CodeFlowErrorComponent } from './code-flow-error.component';\nimport { BookLockerFlowComponent } from './locker-flow.component';\nimport { BookLockerFlowSuccessComponent } from './locker-flow/locker-flow-success.component';\nimport { BookLockerFlowFormComponent } from './locker-flow/locker-flow-form.component';\nimport { BookLockerFlowConfirmComponent } from './locker-flow/locker-flow-confirm.component';\nimport { LockerFormDetailsComponent } from './locker-flow/locker-form-details.component';\n\nconst ROUTES: Route[] = [\n    {\n        path: '',\n        component: BookComponent,\n        children: [\n            { path: 'code', component: BookCodeFlowComponent },\n            { path: 'code/success', component: CodeFlowSuccessComponent },\n            { path: 'code/error', component: CodeFlowErrorComponent },\n            { path: 'new-desk', redirectTo: 'new-desks/form' },\n            { path: 'new-desks', redirectTo: 'new-desks/form' },\n            { path: 'new-desks/:step', component: NewDeskFlowComponent },\n            { path: 'new-desk', redirectTo: 'new-desks/form' },\n            { path: 'desks', redirectTo: 'desks/form' },\n            { path: 'desks/:step', component: BookDeskFlowComponent },\n            { path: 'spaces', redirectTo: 'spaces/form' },\n            { path: 'spaces/:step', component: BookSpaceFlowComponent },\n            { path: 'meeting', redirectTo: 'meeting/form' },\n            { path: 'meeting/:step', component: BookMeetingFlowComponent },\n            { path: 'parking', redirectTo: 'parking/form' },\n            { path: 'parking/:step', component: BookParkingFlowComponent },\n            { path: 'new-parking', redirectTo: 'new-parking/form' },\n            { path: 'new-parking/:step', component: NewParkingFlowComponent },\n            { path: 'visitor', redirectTo: 'visitor/form' },\n            { path: 'visitor/:step', component: VisitorFlowComponent },\n            { path: 'locker', redirectTo: 'locker/form' },\n            { path: 'locker/:step', component: BookLockerFlowComponent },\n            { path: '*', redirectTo: 'spaces/form' },\n        ],\n    },\n    { path: '*', redirectTo: 'spaces/form' },\n];\n\n@NgModule({\n    declarations: [\n        BookComponent,\n        BookSpaceFlowComponent,\n        SpaceFlowFormComponent,\n        SpaceFlowFindComponent,\n        SpaceFlowFindItemComponent,\n        SpaceFlowConfirmComponent,\n        DetailBookSpaceFormComponent,\n        BookDeskFlowComponent,\n        DeskFlowFormComponent,\n        DeskFlowDetailedFormComponent,\n        DeskFlowMapComponent,\n        DeskFlowConfirmComponent,\n        BookCodeFlowComponent,\n        CodeFlowSuccessComponent,\n        CodeFlowErrorComponent,\n        BookParkingFlowComponent,\n        ParkingFlowMapComponent,\n        ParkingFlowConfirmComponent,\n        FlowSuccessComponent,\n        BookMeetingFlowComponent,\n        MeetingFlowFormComponent,\n        MeetingFormDetailsComponent,\n        MeetingFlowConfirmComponent,\n        MeetingFlowConfirmModalComponent,\n        MeetingFlowSuccessComponent,\n        NewDeskFlowFormComponent,\n        NewDeskFormDetailsComponent,\n        NewDeskFlowComponent,\n        NewDeskFlowConfirmComponent,\n        NewDeskFlowSuccessComponent,\n        VisitorFlowComponent,\n\n        NewParkingFlowComponent,\n        ParkingFlowFormComponent,\n        NewParkingFlowConfirmComponent,\n        ParkingFlowSuccessComponent,\n        ParkingFormDetailsComponent,\n\n        BookLockerFlowComponent,\n        BookLockerFlowFormComponent,\n        BookLockerFlowConfirmComponent,\n        BookLockerFlowSuccessComponent,\n        LockerFormDetailsComponent,\n    ],\n    imports: [\n        CommonModule,\n        SharedComponentModule,\n        FormsModule,\n        SharedCateringModule,\n        SharedExploreModule,\n        ReactiveFormsModule,\n        MatButtonToggleModule,\n        MatBottomSheetModule,\n        SharedBookingsModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class BookModule {}\n","import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\nconst VALID_TYPES = ['not_started', 'wrong_resource', 'other'];\n\n@Component({\n    selector: 'code-flow-success',\n    template: `\n        <div class=\"absolute inset-0 bg-base-100 flex flex-col z-50\">\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.RESOURCE_CHECKED_IN_FAILED' | translate }}\n                </h2>\n                <div class=\"py-4\">\n                    <img src=\"assets/icons/not-found.svg\" class=\"h-64\" />\n                </div>\n                <p class=\"text-center max-w-[32rem]\" [ngSwitch]=\"type\">\n                    <ng-container *ngSwitchCase=\"'not_started'\">\n                        Booking has not started yet. Please try again once the\n                        booking has commenced.\n                    </ng-container>\n                    <ng-container *ngSwitchCase=\"'wrong_resource'\">\n                        You have booking with a difference resource.\n                    </ng-container>\n                    <ng-container *ngSwitchDefault>\n                        You do not have a booking. Would you like to book the\n                        set resource?\n                    </ng-container>\n                </p>\n            </main>\n            <footer\n                class=\"p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center space-x-2\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/book', 'code']\"\n                    [queryParams]=\"{ asset_id: asset_id }\"\n                    *ngIf=\"type === 'not_started'\"\n                >\n                    {{ 'WPA.TRY_AGAIN' | translate }}\n                </a>\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/book', 'new-desk']\"\n                    [queryParams]=\"{ asset_id: asset_id }\"\n                    *ngIf=\"type === 'no_booking'\"\n                >\n                    {{ 'WPA.BOOK' | translate }}\n                </a>\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem] inverse\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'COMMON.CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class CodeFlowErrorComponent extends AsyncHandler {\n    public type = 'other';\n    public asset = null;\n    public asset_id = '';\n\n    constructor(\n        private _route: ActivatedRoute,\n        private _state: BookingFormService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                this.type = params.get('type') as any;\n                this.asset_id = params.get('asset_id') as any;\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'code-flow-success',\n    template: `\n        <div class=\"absolute inset-0 bg-base-100 flex flex-col z-50\">\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.RESOURCE_CHECKED_IN' | translate }}\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center max-w-[32rem]\">\n                    {{ 'WPA.CHECKED_IN' | translate }}\n                </p>\n            </main>\n            <footer\n                class=\"p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'WPA.BOOKING_DONE_CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class CodeFlowSuccessComponent {}\n","import {\n    Component,\n    OnInit,\n    Output,\n    EventEmitter,\n    ViewChild,\n    ElementRef,\n    OnDestroy,\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n    Booking,\n    BookingFormService,\n    BookingType,\n    checkinBooking,\n    queryBookings,\n} from '@placeos/bookings';\nimport { AsyncHandler, currentUser, notifyError } from '@placeos/common';\nimport {\n    CalendarEvent,\n    checkinEventGuest,\n    EventFormService,\n    queryEvents,\n} from '@placeos/events';\nimport { showSystem } from '@placeos/ts-client';\nimport { addMinutes, endOfDay, getUnixTime } from 'date-fns';\nimport QrScanner from 'qr-scanner';\n\n@Component({\n    selector: 'book-code-flow',\n    template: `\n        <div\n            class=\"flex-1 overflow-hidden flex items-center justify-center bg-neutral relative\"\n            *ngIf=\"!loading; else load_state\"\n        >\n            <video\n                class=\"min-w-full min-h-full object-cover\"\n                id=\"video\"\n                #video\n            ></video>\n            <div\n                class=\"absolute text-white text-center inset-0 flex flex-col items-center justify-center\"\n            >\n                <div\n                    class=\"flex flex-col z-10 justify-end items-center relative\"\n                    *ngIf=\"is_scanning\"\n                >\n                    <h2 class=\"text-3xl mb-1 uppercase subpixel-antialiased\">\n                        Scan QR Code\n                    </h2>\n                    <span class=\" mb-4 \">\n                        Scan the QR code outisde a PlaceOS room or space.\n                    </span>\n                </div>\n                <div\n                    class=\"flex flex-col z-10 justify-end items-center relative\"\n                    *ngIf=\"!is_scanning\"\n                >\n                    <h2 class=\"text-3xl mb-1 uppercase subpixel-antialiased\">\n                        Enter Room ID\n                    </h2>\n                    <span class=\"mb-4\">\n                        Enter the room ID number outisde a PlaceOS room or\n                        space.\n                    </span>\n                </div>\n                <div class=\"flex items-center justify-center\">\n                    <div\n                        box\n                        class=\"rounded-2xl h-64 w-64 transition-all flex items-center justify-center p-8 m-8 space-x-2\"\n                        [class.input]=\"!is_scanning\"\n                    >\n                        <span class=\"uppercase\">Booking ID</span>\n                        <input\n                            matInput\n                            class=\"border-none bg-none w-full text-3xl text-left\"\n                            [(ngModel)]=\"room_code\"\n                            name=\"booking-id\"\n                            placeholder=\"e.g. 12102910\"\n                        />\n                    </div>\n                </div>\n                <div\n                    class=\"m-4 p-2 flex items-center space-x-2 bg-base-100 bg-opacity-50 rounded\"\n                >\n                    <button\n                        matRipple\n                        [class]=\"\n                            'flex-1 text-black border-none w-40 ' +\n                            (is_scanning\n                                ? 'bg-base-100'\n                                : 'bg-transparent hover:bg-base-100 hover:dark:bg-neutral-600 bg-opacity-50')\n                        \"\n                        (click)=\"is_scanning = true\"\n                    >\n                        Scan Code\n                    </button>\n                    <button\n                        matRipple\n                        [class]=\"\n                            'flex-1 text-black border-none w-40 ' +\n                            (!is_scanning\n                                ? 'bg-base-100'\n                                : 'bg-transparent hover:bg-base-100 hover:dark:bg-neutral-600 bg-opacity-50')\n                        \"\n                        (click)=\"is_scanning = false\"\n                    >\n                        Enter Code\n                    </button>\n                </div>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Checking in booking...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                width: 100%;\n                height: 100vh;\n                display: flex;\n                flex-direction: column;\n                background: #f0f0f0;\n            }\n\n            [box] {\n                box-shadow: 0px 0px 0px 100vw rgba(0, 0, 0, 0.5);\n            }\n\n            [box] > * {\n                display: none;\n            }\n\n            [box].input {\n                width: 32rem !important;\n                max-width: calc(100% - 2rem) !important;\n                padding: 1rem !important;\n                height: 4rem !important;\n                color: black !important;\n                background: white;\n                box-shadow: 0px 0px 0px 100vw rgba(0, 0, 0, 0.8);\n            }\n\n            [box].input > * {\n                display: initial;\n            }\n\n            [box] span {\n                font-family: var(--heading-font);\n                font-weight: 500;\n                text-transform: uppercase;\n                letter-spacing: 0.05em;\n            }\n        `,\n    ],\n})\nexport class BookCodeFlowComponent\n    extends AsyncHandler\n    implements OnInit, OnDestroy\n{\n    /** Menu event */\n    @Output() public menu = new EventEmitter(false);\n    /** Boolean to toggle scan/code */\n    public is_scanning = true;\n    /** Room Code input value */\n    public room_code: string;\n    public loading = false;\n\n    private _qr_scanner;\n    /** Video element to emit camera feed */\n    @ViewChild('video')\n    private _video_el: ElementRef<HTMLVideoElement>;\n\n    constructor(\n        private _router: Router,\n        private _route: ActivatedRoute,\n        private _event_form: EventFormService,\n        private _booking_form: BookingFormService\n    ) {\n        super();\n    }\n\n    public ngOnDestroy() {\n        if (this._video_el?.nativeElement?.srcObject) {\n            (this._video_el.nativeElement.srcObject as any)\n                .getTracks()\n                .forEach((track) => track?.stop());\n        }\n        this._qr_scanner?.stop();\n    }\n\n    public ngOnInit(): void {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                if (params.has('asset_id'))\n                    this._checkinBooking(params.get('asset_id'));\n                if (params.has('space_id'))\n                    this._checkinEvent(\n                        params.get('space_id'),\n                        params.get('email')\n                    );\n            })\n        );\n    }\n\n    public ngAfterViewInit() {\n        if (!navigator.mediaDevices?.getUserMedia || this.loading) return;\n        navigator.mediaDevices\n            .getUserMedia({ video: true })\n            .then((stream) => (this._video_el.nativeElement.srcObject = stream))\n            .catch((e) => console.error('Unable to fetch media devices!', e));\n        this._qr_scanner = new QrScanner(this._video_el.nativeElement, (r) =>\n            this.handleQrCode(r)\n        );\n        this._qr_scanner.start();\n    }\n\n    private handleQrCode(result: string) {\n        const url = result;\n        const hashindex = url.indexOf('/#/');\n        // could just whole page redirect to url\n        if (hashindex > 0) {\n            const regex = /[?&]([^=#]+)=([^&#]*)/g;\n            const params = {};\n            let match;\n            while ((match = regex.exec(url))) {\n                params[match[1]] = match[2];\n            }\n            this._router.navigate([url.split('/#')[1].split('?')[0]], params);\n        }\n    }\n\n    private async _checkinBooking(\n        asset_id: string,\n        type: BookingType = 'desk'\n    ) {\n        this.loading = true;\n        let bookings = await queryBookings({\n            period_start: getUnixTime(Date.now()),\n            period_end: getUnixTime(addMinutes(Date.now(), 5)),\n            type,\n            email: currentUser().email,\n        })\n            .toPromise()\n            .catch((_) => [] as Booking[]);\n        const item = bookings.find((_) => _.asset_id === asset_id);\n        if (item) {\n            await checkinBooking(item.id, true)\n                .toPromise()\n                .catch((_) => {\n                    notifyError(\n                        `Unable to checkin booking with resource \"${asset_id}\"`\n                    );\n                    this.loading = false;\n                    throw _;\n                });\n            this._router.navigate(['/book', 'code', 'success']);\n        } else {\n            bookings = await queryBookings({\n                period_start: getUnixTime(Date.now()),\n                period_end: getUnixTime(endOfDay(Date.now())),\n                type,\n            })\n                .toPromise()\n                .catch((_) => [] as Booking[]);\n            let item = bookings.find((_) => _.asset_id === asset_id);\n            if (item) {\n                this._router.navigate(['/book', 'code', 'error'], {\n                    queryParams: { type: 'not_started', asset_id },\n                });\n                return;\n            }\n            bookings = await queryBookings({\n                period_start: getUnixTime(Date.now()),\n                period_end: getUnixTime(addMinutes(Date.now(), 5)),\n                type,\n            })\n                .toPromise()\n                .catch((_) => [] as Booking[]);\n            item = bookings.find((_) => _.asset_id === asset_id);\n            if (item) {\n                this._router.navigate(['/book', 'code', 'error'], {\n                    queryParams: { type: 'wrong_resource', asset_id },\n                });\n                return;\n            }\n            this._router.navigate(['/book', 'code', 'error'], {\n                queryParams: { type: 'no_booking', asset_id },\n            });\n            this._booking_form.newForm(new Booking({ asset_id, type }));\n            this._booking_form.setOptions({ type });\n        }\n        this.loading = false;\n    }\n\n    private async _checkinEvent(space_id: string, email?: string) {\n        if (!email) email = currentUser().email;\n        this.loading = true;\n        const bookings = await queryEvents({\n            period_start: getUnixTime(Date.now()),\n            period_end: getUnixTime(Date.now() + 5 * 60 * 1000),\n        })\n            .toPromise()\n            .catch((_) => []);\n        const item = bookings.find((_) =>\n            _.resources.find((s) => s.id === space_id || s.email === space_id)\n        );\n        if (item) {\n            await checkinEventGuest(item.id, email, true)\n                .toPromise()\n                .catch((_) => {\n                    notifyError(\n                        `Unable to checkin event with resource \"${space_id}\"`\n                    );\n                    this.loading = false;\n                    throw _;\n                });\n            this._router.navigate(['/book', 'code', 'success']);\n            this.loading = false;\n        } else {\n            const space = await showSystem(space_id).toPromise();\n            if (space) {\n                this._event_form.newForm(new CalendarEvent({ system: space }));\n            }\n            this._router.navigate(['/book', 'meeting']);\n        }\n        this.loading = false;\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { first } from 'rxjs/operators';\n\n@Component({\n    selector: 'placeos-book-desk-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'map'\">\n                    <desk-flow-map></desk-flow-map>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <desk-flow-confirm></desk-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        type=\"desk\"\n                        route=\"desks\"\n                        [calendar]=\"last_success?.user_email\"\n                        [extra]=\"\n                            last_success?.extension_data?.secondary_resource\n                                ? 'Locker E-093 has been allocated for this booking.'\n                                : ''\n                        \"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <desk-flow-form></desk-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookDeskFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this._state.form.patchValue({ booking_type: 'desk' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'desk-flow-confirm',\n    template: `\n        <div topbar class=\"\">\n            <a\n                btn\n                matRipple\n                class=\"clear h-[2.75rem] text-white\"\n                [routerLink]=\"['/book', 'desks', 'map']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n        `,\n    ],\n})\nexport class DeskFlowConfirmComponent {}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, endOfDay, format } from 'date-fns';\n\n@Component({\n    selector: 'detailed-book-desks-form',\n    template: `\n        <form *ngIf=\"form\" [formGroup]=\"form\">\n            <div\n                class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n                *ngIf=\"allow_groups\"\n            >\n                <mat-button-toggle-group\n                    class=\"w-full\"\n                    [ngModel]=\"(options | async)?.group ? 'group' : 'single'\"\n                    (ngModelChange)=\"\n                        setOptions({\n                            group: $event === 'group'\n                        })\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    <mat-button-toggle class=\"w-1/2\" value=\"single\">\n                        Single\n                    </mat-button-toggle>\n                    <mat-button-toggle class=\"w-1/2\" value=\"group\">\n                        Group\n                    </mat-button-toggle>\n                </mat-button-toggle-group>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/4\">\n                    <label>Date</label>\n                    <a-date-field [to]=\"book_until\" formControlName=\"date\">\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n                <div\n                    class=\"flex flex-col flex-1 w-full sm:w-1/4\"\n                    *ngIf=\"(buildings | async)?.length > 1\"\n                >\n                    <label>Building</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"Select building\"\n                            [(ngModel)]=\"building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event?.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div\n                    class=\"flex flex-col flex-1 w-full sm:w-1/4\"\n                    *ngIf=\"(levels | async)?.length > 1\"\n                >\n                    <label>Level</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"Any Level\"\n                            ngModel\n                            [disabled]=\"!building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event || building.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let lvl of levels | async\"\n                                [value]=\"lvl.id\"\n                            >\n                                {{ lvl.display_name || lvl.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"allow_time_changes\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Start Time</label>\n                    <a-time-field\n                        [ngModel]=\"form.value.date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3 relative\">\n                    <label>End Time</label>\n                    <a-duration-field\n                        formControlName=\"duration\"\n                        [time]=\"form.get('date')?.value\"\n                        [max]=\"10 * 60\"\n                        [min]=\"60\"\n                        [step]=\"60\"\n                        [disabled]=\"form.value.all_day\"\n                    >\n                    </a-duration-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute top-0 right-0\"\n                    >\n                        All Day\n                    </mat-checkbox>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"can_book_for_others\"\n            >\n                <label>Host</label>\n                <a-user-search-field\n                    formControlName=\"user\"\n                    class=\"mb-4\"\n                ></a-user-search-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"needs_reason\"\n            >\n                <label>Details</label>\n                <mat-form-field class=\"w-full\" appearance=\"outline\">\n                    <input\n                        matInput\n                        formControlName=\"description\"\n                        placeholder=\"Reason for booking...\"\n                    />\n                </mat-form-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"(options | async)?.group\"\n            >\n                <label>Group Members</label>\n                <a-user-list-field\n                    [simple]=\"true\"\n                    [ngModel]=\"(options | async)?.members || []\"\n                    (ngModelChange)=\"setOptions({ members: $event })\"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                ></a-user-list-field>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"can_recurr\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Recurrence Period</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            [ngModel]=\"(options | async)?.recurrence_pattern\"\n                            (ngModelChange)=\"setOptions({ pattern: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            placeholder=\"None\"\n                        >\n                            <mat-option value=\"none\">None</mat-option>\n                            <mat-option\n                                *ngFor=\"let opt of recurrence_options\"\n                                [value]=\"opt\"\n                            >\n                                <span class=\"capitalize\">{{ opt }}</span>\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Recurrence End</label>\n                    <a-date-field\n                        [disabled]=\"\n                            !(options | async)?.pattern ||\n                            (options | async)?.pattern === 'none'\n                        \"\n                        [ngModel]=\"\n                            (options | async)?.recurr_end || form?.value?.date\n                        \"\n                        (ngModelChange)=\"\n                            setOptions({\n                                recurr_end: $event\n                            })\n                        \"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [to]=\"book_until\"\n                    >\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                *ngIf=\"(features | async)?.length\"\n            >\n                <label>Desk Features</label>\n                <mat-form-field class=\"w-full\" appearance=\"outline\">\n                    <mat-select\n                        multiple\n                        [ngModel]=\"(options | async)?.features || []\"\n                        (ngModelChange)=\"\n                            setOptions({\n                                features: $event || []\n                            })\n                        \"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        placeholder=\"Any Feature\"\n                    >\n                        <mat-option\n                            *ngFor=\"let opt of features | async\"\n                            class=\"capitalize\"\n                            [value]=\"opt\"\n                        >\n                            {{ opt }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <div\n                class=\"flex flex-col flex-1 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n                *ngIf=\"can_book_lockers\"\n            >\n                <mat-checkbox\n                    [ngModel]=\"!!form.value.secondary_resource\"\n                    (ngModelChange)=\"\n                        form.patchValue({\n                            secondary_resource: $event ? 'locker' : ''\n                        })\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Require locker\n                </mat-checkbox>\n            </div>\n        </form>\n    `,\n    styles: [``],\n})\nexport class DeskFlowDetailedFormComponent {\n    @Input() public form: FormGroup;\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for desk booking */\n    public readonly options = this._state.options;\n    /** List of set options for desk booking */\n    public readonly features = this._state.features;\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get can_book_lockers() {\n        return this._settings.get('app.desks.can_book_lockers');\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.desks.can_book_for_others');\n    }\n\n    public get can_recurr() {\n        return this._settings.get('app.desks.recurrence_allowed');\n    }\n\n    public get allow_groups() {\n        return this._settings.get('app.desks.allow_groups');\n    }\n\n    public get needs_reason() {\n        return this._settings.get('app.desks.needs_reason') === true;\n    }\n\n    public get allow_time_changes() {\n        return !!this._settings.get('app.desks.allow_time_changes');\n    }\n\n    public get allow_all_day() {\n        return (\n            this.allow_time_changes &&\n            !!this._settings.get('app.desks.allow_all_day')\n        );\n    }\n\n    public get book_until() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.desks.available_period') || 90\n            )\n        );\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BookingFormService, findNearbyFeature } from '@placeos/bookings';\nimport {\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    randomInt,\n    SettingsService,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, setHours, addMinutes, roundToNearestMinutes } from 'date-fns';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'desk-flow-form',\n    template: `\n        <section form class=\"flex-1 min-h-[50%]\">\n            <h2\n                class=\"text-xl uppercase font-medium mb-2 mt-4 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                {{ is_edit ? 'Edit' : 'Detailed' }} Desk Booking\n            </h2>\n            <detailed-book-desks-form [form]=\"form\"></detailed-book-desks-form>\n            <div class=\"mb-4 border-b border-base-200 w-full\"></div>\n            <div\n                class=\"flex flex-col sm:flex-row items-center justify-center space-x-0 space-y-2 sm:space-y-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n            >\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem] inverse\"\n                    btn\n                    matRipple\n                    clear\n                    (click)=\"clearForm()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">clear</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Cancel Edit' : 'Clear Form'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    find\n                    btn\n                    matRipple\n                    *ngIf=\"!auto_allocation; else alloc_button\"\n                    (click)=\"findDesk()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">search</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Update Desk' : 'Find Desk'\n                        }}</span>\n                    </div>\n                </button>\n            </div>\n        </section>\n        <ng-template #alloc_button>\n            <button\n                class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                find\n                btn\n                matRipple\n                (click)=\"allocateDesk()\"\n            >\n                {{ is_edit ? 'Update Desk' : 'Book Desk' }}\n            </button>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                overflow: auto;\n            }\n\n            [quick] {\n                background-color: #007ac8;\n            }\n        `,\n    ],\n})\nexport class DeskFlowFormComponent implements OnInit {\n    public time = 0;\n    public level = '';\n\n    public readonly quick_times = [\n        { name: 'Now', value: 0 },\n        {\n            name: 'Tomorrow',\n            value: setHours(addDays(new Date(), 1), 9).valueOf(),\n        },\n    ];\n\n    public levels = [];\n\n    public get is_edit() {\n        return !!this.form?.get('id')?.value;\n    }\n\n    public get auto_allocation() {\n        return !!this._settings.get('app.desks.auto_allocation');\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.time = 0;\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n    }\n\n    public quickBook() {\n        this.form.patchValue({\n            date: (this.time < 24 * 60\n                ? addMinutes(\n                      roundToNearestMinutes(new Date(), { nearestTo: 5 }),\n                      this.time\n                  )\n                : setHours(addDays(new Date(), 1), 8)\n            ).valueOf(),\n            title: 'Ad-hoc Desk Booking',\n        });\n        this.findDesk();\n    }\n\n    public findDesk() {\n        this.form.markAllAsTouched();\n        this.form.patchValue({ asset_id: ' ' });\n        if (!this.form.valid) return;\n        this.form.patchValue({ asset_id: '' });\n        this._router.navigate(['/book', 'desks', 'map']);\n    }\n\n    public async allocateDesk() {\n        this.form.markAllAsTouched();\n        this.form.patchValue({ asset_id: ' ' });\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        // Find nearby desk for user's department\n        const settings = this._settings.get('app.departments') || {\n            '*': {\n                level: this._org.levelsForBuilding()[0]?.id,\n                centered_at: { x: 0.5, y: 0.5 },\n            },\n        };\n        const group = currentUser().groups.find((_) => _ in settings) ?? '*';\n        if (!settings[group]) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        const { level, centered_at } = settings[group];\n        const lvl = this._org.levelWithID([level]);\n        if (!lvl) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        const desk_list = await this._state.available_resources\n            .pipe(take(1))\n            .toPromise();\n        const desk_id = level.map_id\n            ? await findNearbyFeature(\n                  lvl.map_id,\n                  centered_at,\n                  desk_list.map((_) => _?.map_id || _?.id || '')\n              )\n            : desk_list[randomInt(desk_list.length)].id;\n        const desk = desk_list.find(\n            (_) => _.map_id === desk_id || _.id === desk_id\n        );\n        if (!desk) {\n            this._router.navigate(['/book', 'desks', 'map']);\n            return;\n        }\n        this._state.form.patchValue({\n            asset_id: desk?.id,\n            asset_name: desk.name || desk.id,\n            map_id: desk?.map_id || desk?.id,\n            description: desk.name || desk.id,\n            booking_type: 'desk',\n            zones: desk.zone ? [desk.zone?.parent_id, desk.zone?.id] : [],\n        });\n        await this._state.confirmPost().catch((_) => console.error(_));\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    AsyncHandler,\n    formatRecurrence,\n    SettingsService,\n} from '@placeos/common';\nimport { ExploreStateService } from '@placeos/explore';\nimport { Desk } from '@placeos/organisation';\nimport { format } from 'date-fns';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport { debounceTime, map, startWith } from 'rxjs/operators';\n\n@Component({\n    selector: 'desk-flow-map',\n    template: `\n        <div topbar class=\"\">\n            <a\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'desks', 'form']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div class=\"flex flex-col flex-1 h-1/2 w-full \">\n            <h2 class=\"text-2xl px-4 pt-4 text-center\">Available Desks</h2>\n            <an-action-field\n                class=\"my-4 mx-auto w-[640px] max-w-[calc(100vw-2rem)]\"\n                [matMenuTriggerFor]=\"menu\"\n            >\n                {{ (option_details | async) || 'No Filters' }}\n            </an-action-field>\n            <mat-menu #menu=\"matMenu\">\n                <div\n                    (click)=\"$event.stopPropagation(); ($event.preventDefault)\"\n                    class=\"pt-4 max-h-[65vh] overflow-auto\"\n                >\n                    <detailed-book-desks-form\n                        [form]=\"form\"\n                    ></detailed-book-desks-form>\n                </div>\n            </mat-menu>\n            <div listing class=\"flex flex-1 h-1/2 relative space-x-2\">\n                <ul\n                    class=\"list-style-none w-full sm:w-[20rem] max-w-[48rem] mx-auto bg-base-200 pb-32 overflow-auto h-full rounded-tr-lg space-y-2\"\n                    [class.!w-full]=\"hide_map\"\n                    [class.rounded-tl-lg]=\"hide_map\"\n                >\n                    <div\n                        class=\"py-2 px-4 sticky top-0 inset-x-0 bg-base-200 border-b border-base-200 z-10\"\n                    >\n                        {{ (desks | async)?.length || '0' }} matches available\n                    </div>\n                    <li\n                        matRipple\n                        *ngFor=\"let desk of desks | async\"\n                        [attr.desk-id]=\"desk.id\"\n                        class=\"flex items-center p-2 mx-2 bg-base-100 rounded shadow cursor-pointer space-x-2 min-h-[5rem] border\"\n                        [class.border-primary]=\"active_desk?.id === desk.id\"\n                        (click)=\"setActiveDesk(desk)\"\n                    >\n                        <app-icon class=\"text-2xl\">place</app-icon>\n                        <div class=\"flex flex-col w-1/2 flex-1\">\n                            <div name class=\"\">{{ desk.name || desk.id }}</div>\n                            <div level class=\"text-xs\">\n                                {{\n                                    desk.zone?.display_name ||\n                                        desk.zone?.name ||\n                                        '&lt;No Level&gt;'\n                                }}\n                            </div>\n                            <div features class=\"w-full flex flex-wrap\">\n                                <div\n                                    *ngFor=\"let feat of desk.features || []\"\n                                    class=\"text-xs bg-primary text-white rounded-xl px-2 py-1 mt-1 mr-2\"\n                                >\n                                    {{ feat }}\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                </ul>\n                <div\n                    class=\"hidden sm:block flex-1 bg-base-200 rounded-tl-lg border-l border-t border-base-200 relative overflow-hidden h-full\"\n                    *ngIf=\"!hide_map\"\n                >\n                    <interactive-map\n                        [src]=\"url | async\"\n                        [zoom]=\"(positions | async)?.zoom\"\n                        [center]=\"(positions | async)?.center\"\n                        [styles]=\"styles | async\"\n                        [features]=\"features | async\"\n                        [actions]=\"actions | async\"\n                        [labels]=\"labels | async\"\n                        [focus]=\"active_desk?.map_id || active_desk?.id\"\n                    ></interactive-map>\n                    <div\n                        class=\"absolute top-2 left-2 bg-base-100 rounded-3xl h-10 px-3 flex items-center border border-base-200\"\n                        *ngIf=\"level | async\"\n                    >\n                        {{\n                            (level | async)?.display_name ||\n                                (level | async)?.name\n                        }}\n                    </div>\n                </div>\n                <div\n                    *ngIf=\"loading | async\"\n                    class=\"absolute inset-0 bg-base-100 bg-opacity-60 flex flex-col items-center justify-center space-y-2 !m-0 z-20\"\n                >\n                    <mat-spinner [diameter]=\"32\"></mat-spinner>\n                    <p>{{ loading | async }}</p>\n                </div>\n                <div\n                    selection\n                    class=\"absolute bottom-2 left-1/2 transform -translate-x-1/2 p-2 bg-base-100 shadow rounded w-[24rem] max-w-[calc(100vw-1rem)] space-y-2 !m-0 border border-base-200\"\n                    *ngIf=\"active_desk\"\n                >\n                    <div class=\"\">\n                        <div name class=\"\">{{ active_desk.name }}</div>\n                        <div level class=\"text-xs\">\n                            {{\n                                active_desk.zone?.display_name ||\n                                    active_desk.zone.name ||\n                                    '&lt;No Level&gt;'\n                            }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <button\n                            matRipple\n                            class=\"inverse flex-1\"\n                            (click)=\"setActiveDesk(null)\"\n                        >\n                            Clear\n                        </button>\n                        <button\n                            matRipple\n                            class=\"flex-1\"\n                            (click)=\"makeBooking()\"\n                        >\n                            Book\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n        `,\n    ],\n})\nexport class DeskFlowMapComponent extends AsyncHandler implements OnInit {\n    /** Observable for the active map */\n    public readonly url = this._explore.map_url;\n    /** Observable for the active map */\n    public readonly styles = this._explore.map_styles;\n    /** Observable for the active map */\n    public readonly positions = this._explore.map_positions;\n    /** Observable for the active map */\n    public readonly features = this._explore.map_features;\n    /** Observable for the active map */\n    public readonly actions = this._explore.map_actions;\n    /** Observable for the labels map */\n    public readonly labels = this._explore.map_labels;\n    public readonly level = this._explore.level;\n\n    public readonly desks = this._state.available_resources;\n\n    public readonly loading = this._state.loading;\n\n    public readonly form = this._state.form;\n\n    public readonly option_details = combineLatest([\n        this._state.options,\n        this.form.valueChanges.pipe(startWith({})),\n    ]).pipe(\n        map(([options]) => {\n            const form = this._state.form;\n            const recurrence = formatRecurrence({\n                pattern: options.pattern as any,\n                end: options.recurr_end,\n                start: form.value.date,\n                interval: 1,\n                days_of_week: [],\n            });\n            const details = `${format(form.value.date, 'dd MMM yyyy')}${\n                options.pattern && options.pattern !== 'none'\n                    ? ', ' + recurrence\n                    : ''\n            }${options.group ? ', ' + options.group : ''}, ${\n                options.features?.length || 'Any'\n            } Feature${(options.features?.length || 0) < 2 ? '' : 's'}`;\n            if (options.zone_id) this._explore.setLevel(options.zone_id);\n            return details;\n        })\n    );\n\n    private _active_desk = new BehaviorSubject<Desk>(null);\n\n    public readonly makeBooking = () => this._state.confirmPost();\n\n    public get active_desk(): Desk {\n        return this._active_desk.getValue();\n    }\n\n    public get hide_map() {\n        return !!this._settings.get('app.desks.hide_map');\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService,\n        private _explore: ExploreStateService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'assets-statue',\n            combineLatest([\n                this._state.resources,\n                this._state.available_resources,\n                this._active_desk,\n            ])\n                .pipe(debounceTime(200))\n                .subscribe(([assets, available]) => {\n                    const status = {};\n                    const actions = [];\n                    for (const desk of assets) {\n                        const active =\n                            desk.bookable &&\n                            available.find((d) => d.id === desk.id);\n                        status[`#${desk.map_id || desk.id}`] = {\n                            fill: desk.bookable\n                                ? available.find((d) => d.id === desk.id)\n                                    ? '#43a047'\n                                    : '#e53935'\n                                : '#999',\n                            opacity: 0.6,\n                        };\n                        if (active)\n                            actions.push({\n                                id: desk.map_id || desk.id,\n                                action: 'click',\n                                callback: () => this.setActiveDesk(desk as any),\n                            });\n                    }\n                    this._explore.setStyles('desks', status);\n                    this._explore.setActions('desks', actions);\n                    this._explore.setFeatures(\n                        'desks',\n                        this.active_desk\n                            ? [\n                                  {\n                                      location:\n                                          this.active_desk.map_id ||\n                                          this.active_desk.id,\n                                      content: `\n                    <span class=\"flex h-4 w-4 rounded-full absolute top-1/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2 border-[3px] border-whiteå00 shadow\" >\n                        <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75\"></span>\n                        <span class=\"relative inline-flex rounded-full h-full w-full bg-primary\"></span>\n                    </span>`,\n                                  },\n                              ]\n                            : []\n                    );\n                })\n        );\n    }\n\n    public setActiveDesk(desk: Desk) {\n        this._explore.setLevel(desk?.zone?.id);\n        this._active_desk.next(desk);\n        this._state.form.patchValue({\n            asset_id: desk?.id,\n            asset_name: desk.name,\n            map_id: desk?.map_id || desk?.id,\n            description: desk.name,\n            booking_type: 'desk',\n            zones: desk.zone ? [desk.zone?.parent_id, desk.zone?.id] : [],\n        });\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { currentUser } from '@placeos/common';\n\n@Component({\n    selector: 'flow-success',\n    template: `\n        <div\n            name=\"success\"\n            class=\"fixed inset-0 flex flex-col bg-indigo-900 items-center justify-center z-50\"\n        >\n            <div class=\"text-7xl rounded-full bg-base-100 text-success mb-4\">\n                <app-icon>done</app-icon>\n            </div>\n            <div class=\"text-center text-lg text-white mb-4 leading-10\">\n                Thank you, your {{ type }} booking was successful!<br />\n                {{ extra }} <br *ngIf=\"extra\" />\n                An event has been added to {{ title }} calendar\n            </div>\n            <div class=\"flex items-center space-x-2\">\n                <a\n                    btn\n                    matRipple\n                    class=\"w-32 border border-white\"\n                    [routerLink]=\"['/book', route]\"\n                    [queryParams]=\"{}\"\n                >\n                    New Booking\n                </a>\n                <a\n                    btn\n                    matRipple\n                    class=\"w-32 border border-white\"\n                    [routerLink]=\"['/schedule']\"\n                    [queryParams]=\"{ email: calendar }\"\n                >\n                    Your Bookings\n                </a>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class FlowSuccessComponent {\n    @Input() public calendar: string;\n    @Input() public extra = '';\n    @Input() public route = 'spaces';\n    @Input() public type = 'space';\n\n    public get is_host(): boolean {\n        return this.calendar === currentUser()?.email;\n    }\n\n    public get title() {\n        return this.is_host ? 'your' : \"the host'\";\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-locker-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\" [ngSwitch]=\"view\">\n            <locker-flow-success *ngSwitchCase=\"'success'\">\n            </locker-flow-success>\n            <locker-flow-confirm *ngSwitchCase=\"'confirm'\">\n            </locker-flow-confirm>\n            <locker-flow-form *ngSwitchDefault></locker-flow-form>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookLockerFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        this._state.listenForStatusChanges();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingAsset, BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService, notifyError } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { take } from 'rxjs/operators';\n\n@Component({\n    selector: 'locker-flow-confirm',\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    template: `\n        <button\n            icon\n            name=\"close-locker-confirm\"\n            matRipple\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>\n                Confirm Locker Booking\n            </h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: time_format) +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            locker\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"assets?.length\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>{{ assets_count }} Asset(s)</h3>\n                <div class=\"flex space-x-2\" *ngFor=\"let asset of assets\">\n                    <div class=\"h-5 w-5 bg-base-200 rounded-full\">\n                        {{ asset.amount }}\n                    </div>\n                    <span>{{ asset.name }}</span>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                name=\"confirm-locker\"\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>\n    `,\n})\nexport class BookLockerFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n\n    public readonly postForm = async () => {\n        try {\n            if ((await this._state.options.pipe(take(1)).toPromise())?.group) {\n                await this._state.postFormForGroup();\n            } else {\n                await this._state.postForm();\n            }\n            this.dismiss(true);\n        } catch (e) {\n            notifyError(e);\n        }\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset as BookingAsset;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { isBefore, startOfMinute } from 'date-fns';\nimport { first } from 'rxjs/operators';\nimport { BookLockerFlowConfirmComponent } from './locker-flow-confirm.component';\n\n@Component({\n    selector: 'locker-flow-form',\n    styles: [],\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-200\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-200\"\n                    i18n\n                >\n                    Book Locker\n                </h2>\n                <new-locker-form-details\n                    [form]=\"form\"\n                ></new-locker-form-details>\n                <div class=\"sm:mb-2 border-b border-base-200 w-full\"></div>\n                <section\n                    class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2 sm:px-16 sm:mb-2\"\n                >\n                    <button\n                        btn\n                        name=\"open-locker-confirm\"\n                        matRipple\n                        confirm\n                        class=\"w-full sm:w-auto\"\n                        (click)=\"viewConfirm()\"\n                        i18n\n                    >\n                        Confirm Locker\n                    </button>\n                </section>\n            </div>\n        </div>\n    `,\n})\nexport class BookLockerFlowFormComponent implements OnInit {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public level = '';\n    public levels = [];\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    public readonly viewConfirm = () => {\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this.sheet_ref = this._bottom_sheet.open(\n            BookLockerFlowConfirmComponent\n        );\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._router.navigate(['/book', 'locker', 'success']);\n                this._state.setView('success');\n            }\n        });\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _bottom_sheet: MatBottomSheet,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this._state.setOptions({ type: 'locker' });\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n        if (isBefore(this.form.value.date, Date.now())) {\n            this.form.patchValue({ date: startOfMinute(Date.now()).valueOf() });\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport {\n    generateCalendarFileLink,\n    generateGoogleCalendarLink,\n    generateMicrosoftCalendarLink,\n} from 'libs/common/src/lib/calendar-links';\n\n@Component({\n    selector: 'locker-flow-success',\n    styles: [],\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium text-center\" i18n>\n                    {{ last_event.asset_name || last_event.asset_id\n                    }}{{ location }} Booked!\n                </h2>\n                <img src=\"assets/icons/locker-success.svg\" />\n                <p class=\"text-center\" i18n>\n                    Your\n                    <span group *ngIf=\"last_event?.attendees?.length\">\n                        group of\n                        {{ last_event?.attendees?.length + 1 }}\n                    </span>\n                    locker{{ last_event?.attendees?.length ? 's' : '' }} has\n                    been successfully booked\n                    <span\n                        assets\n                        *ngIf=\"last_event?.extension_data?.assets?.length\"\n                    >\n                        including\n                        {{ last_event?.extension_data?.assets?.length }}\n                        asset(s)\n                    </span>\n                    for the\n                    {{ last_event.date | date: 'mediumDate' }} at\n                    {{ last_event.date | date: time_format }}-{{\n                        last_event.date + last_event.duration * 60 * 1000\n                            | date: time_format\n                    }}.\n                </p>\n                <div\n                    class=\"flex flex-col items-center space-y-4 p-4 relative\"\n                    *ngIf=\"show_links\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-outlook-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"outlook_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/outlook.svg\" class=\"w-6\" />\n                        <span i18n>Add to Outlook</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-google-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"google_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/gcal.svg\" class=\"w-6\" />\n                        <span i18n>Add to Google Calendar</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"locker-ical-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"ical_link | safe: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <app-icon class=\"text-xl\">download</app-icon>\n                        <span i18n>Download iCal File</span>\n                    </a>\n                </div>\n            </main>\n            <footer\n                class=\"sticky bottom-0 bg-base-100 p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"locker-confirm-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem] mx-auto\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n})\nexport class BookLockerFlowSuccessComponent {\n    public outlook_link = '';\n    public google_link = '';\n    public ical_link = '';\n    public get location() {\n        const locker = this.last_event?.extension_data?.booking_asset;\n        if (!locker) return '';\n        return locker.zone\n            ? `, ${\n                  locker.zone.display_name || locker.zone.name || locker.zone.id\n              }`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get show_links() {\n        return this._settings.get('app.lockers.show_calendar_links');\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public readonly viewCalendarLinks = () =>\n        this._state.openBookingLinkModal();\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {}\n\n    public ngOnInit() {\n        this.outlook_link = generateMicrosoftCalendarLink(\n            this.last_event as any\n        );\n        this.google_link = generateGoogleCalendarLink(this.last_event as any);\n        this.ical_link = generateCalendarFileLink(this.last_event as any);\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService, Locker } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'new-locker-form-details',\n    styles: [],\n    template: `\n        <div\n            class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n            *ngIf=\"form\"\n            [formGroup]=\"form\"\n        >\n            <section class=\"p-2\" [class.!border-none]=\"allow_groups\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        1\n                    </div>\n                    <div class=\"text-xl\" i18n>Details</div>\n                </h3>\n                <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"date\" i18n>Building<span>*</span></label>\n                        <mat-form-field appearance=\"outline\" class=\"w-full\">\n                            <mat-select\n                                [(ngModel)]=\"building\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                                placeholder=\"Select Building\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let b of buildings | async\"\n                                    [value]=\"b\"\n                                >\n                                    {{ b.display_name || b.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"date\" i18n>Date<span>*</span></label>\n                        <a-date-field name=\"date\" formControlName=\"date\" i18n>\n                            Date and time must be in the future\n                        </a-date-field>\n                    </div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"start-time\" i18n>\n                            Start Time<span>*</span>\n                        </label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            [use_24hr]=\"use_24hr\"\n                            [disabled]=\"form.value.duration > 24 * 60 - 1\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3 relative\">\n                        <label for=\"end-time\" i18n>\n                            End Time<span>*</span>\n                        </label>\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.get('date')?.value\"\n                            [max]=\"10 * 60\"\n                            [min]=\"60\"\n                            [step]=\"60\"\n                            [use_24hr]=\"use_24hr\"\n                            [custom_options]=\"custom_durations\"\n                        >\n                        </a-duration-field>\n                    </div>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"form.contains('resources')\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 3 : 2 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Locker</div>\n                </h3>\n                <locker-list-field\n                    formControlName=\"resources\"\n                ></locker-list-field>\n            </section>\n        </div>\n    `,\n})\nexport class LockerFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n    @Output() public find = new EventEmitter<void>();\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for locker booking */\n    public readonly options = this._state.options;\n    /** List of set options for locker booking */\n    public readonly features = this._state.features;\n\n    /** Selected locker for booking */\n    public selected_locker: Locker;\n    public from_id = false;\n    public custom_durations = [];\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.form && this.form) {\n            this.subscription(\n                'change',\n                this.form\n                    .get('resources')\n                    ?.valueChanges?.subscribe((list) =>\n                        list?.length ? this.setBookingAsset(list[0]) : ''\n                    )\n            );\n            this.subscription(\n                'date',\n                this.form\n                    .get('date')\n                    ?.valueChanges?.subscribe((d) =>\n                        this._setCustomDateOptions()\n                    )\n            );\n            this._setCustomDateOptions();\n        }\n    }\n\n    private _setCustomDateOptions() {\n        for (const i of [1, 2, 3, 4, 5, 6, 7]) {\n            this.custom_durations.push(i * 24 * 60);\n        }\n    }\n\n    private setBookingAsset(locker: Locker) {\n        this._state.form.patchValue({ asset_id: undefined });\n        if (!locker) return;\n        this.selected_locker = locker;\n        this._state.form.patchValue({\n            asset_id: locker?.id,\n            asset_name: locker.name,\n            map_id: locker?.bank_id || locker?.id,\n            description: locker.name,\n            booking_type: 'locker',\n            zones: [this.building.id],\n            booking_asset: locker,\n        });\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-meeting-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\" [ngSwitch]=\"view\">\n            <meeting-flow-success *ngSwitchCase=\"'success'\">\n            </meeting-flow-success>\n            <meeting-flow-confirm *ngSwitchCase=\"'confirm'\">\n            </meeting-flow-confirm>\n            <meeting-flow-form *ngSwitchDefault></meeting-flow-form>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookMeetingFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        this._state.listenForStatusChanges();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { validateAssetRequestsForResource } from '@placeos/assets';\nimport { CateringItem, CateringOrder } from '@placeos/catering';\nimport {\n    AsyncHandler,\n    SettingsService,\n    notifyError,\n    openConfirmModal,\n} from '@placeos/common';\nimport { EventFormService, formatRecurrence } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { addMinutes, endOfDay, startOfDay } from 'date-fns';\nimport { AssetRequest } from 'libs/assets/src/lib/asset-request.class';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Component({\n    selector: 'meeting-flow-confirm-modal',\n    template: `\n        <div\n            header\n            class=\"p-4 flex items-center justify-center border-b border-base-200 relative\"\n        >\n            <button\n                icon\n                name=\"close-meeting-confirm\"\n                matRipple\n                mat-dialog-close\n                *ngIf=\"show_close\"\n                class=\"absolute left-2 top-1/2 -translate-y-1/2\"\n            >\n                <app-icon>close</app-icon>\n            </button>\n            <h2 class=\"text-xl font-medium\" i18n>Confirm Meeting booking</h2>\n            <mat-spinner\n                diameter=\"32\"\n                class=\"absolute right-2 top-1/2 -translate-y-1/2\"\n                [class.opacity-0]=\"!(loading | async)\"\n            ></mat-spinner>\n        </div>\n        <main\n            class=\"flex-1 min-w-[48rem] divide-y divide-base-200 p-4 space-y-4 max-h-[65vh] overflow-auto\"\n        >\n            <div class=\"flex divide-x divide-base-200\">\n                <div class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\">\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\">\n                        {{ event.title || 'Meeting Details' }}\n                    </h3>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>today</app-icon>\n                        <div date>{{ event.date | date: 'fullDate' }}</div>\n                    </div>\n                    <div\n                        class=\"flex items-center space-x-2\"\n                        *ngIf=\"event.recurrence?.pattern\"\n                    >\n                        <app-icon>update</app-icon>\n                        <div date>{{ formatted_recurrence }}</div>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>schedule</app-icon>\n                        <div time>\n                            {{\n                                is_multiday\n                                    ? (event.date | date: 'MMM d') +\n                                      (event.all_day\n                                          ? ''\n                                          : (event.date\n                                            | date: ', ' + time_format)) +\n                                      ' - ' +\n                                      (event.date_end | date: 'MMM d') +\n                                      (event.all_day\n                                          ? ''\n                                          : (event.date_end\n                                            | date: ', ' + time_format))\n                                    : event.all_day\n                                      ? 'All Day'\n                                      : (event.date | date: time_format) +\n                                        ' - ' +\n                                        (event.date + event.duration * 60 * 1000\n                                            | date: time_format + ' (z)')\n                            }}\n                        </div>\n                    </div>\n                </div>\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"event.resources.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Booked Room</h3>\n                    <ng-container *ngFor=\"let s of event.resources\">\n                        <div class=\"flex items-center space-x-2\">\n                            <app-icon>layers</app-icon>\n                            <div>\n                                {{ level?.display_name || level?.name }},\n                                {{ s.display_name || s.name }}\n                            </div>\n                        </div>\n                    </ng-container>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>place</app-icon>\n                        <div>{{ location }}</div>\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"pr-4 py-4 pl-16 relative space-y-2\"\n                *ngIf=\"event.attendees.length\"\n            >\n                <div\n                    class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                >\n                    <app-icon>done</app-icon>\n                </div>\n                <h3 class=\"text-xl !mt-0\" i18n>\n                    {{ event.attendees.length }}\n                    {event.attendees.length, plural,\n                        =1 {Attendee }\n                        other {Attendees }\n                    }\n                </h3>\n                <div attendee-list>\n                    <mat-chip-list #chipList aria-label=\"User selection\">\n                        <mat-chip *ngFor=\"let user of event.attendees\">\n                            <div class=\"flex items-center\">\n                                <app-icon class=\"mr-2\">business</app-icon>\n                                {{ user.name || user.email }}\n                            </div>\n                        </mat-chip>\n                    </mat-chip-list>\n                </div>\n            </div>\n            <div\n                class=\"flex divide-x divide-base-200\"\n                *ngIf=\"event.catering?.length || event.assets?.length\"\n            >\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"event.catering?.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                    >\n                        <app-icon>done</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Catering</h3>\n                    <div class=\"flex flex-col space-y-2\">\n                        <div\n                            order\n                            *ngFor=\"let order of catering_orders\"\n                            class=\"border bg-base-100 rounded-xl overflow-hidden\"\n                            [class.border-error]=\"end_time < order.deliver_at\"\n                            [class.border-base-300]=\"\n                                end_time >= order.deliver_at\n                            \"\n                        >\n                            <div class=\"flex items-center space-x-2 p-3\">\n                                <div class=\"flex-1 flex items-center space-x-2\">\n                                    <div class=\"text-sm\">\n                                        Order at\n                                        {{\n                                            order.deliver_at\n                                                | date: 'MMM d, ' + time_format\n                                        }}\n                                    </div>\n                                    <div\n                                        class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                        [matTooltip]=\"err_tooltip\"\n                                        *ngIf=\"end_time < order.deliver_at\"\n                                    >\n                                        <app-icon>priority_high</app-icon>\n                                    </div>\n                                    <div class=\"flex-1\"></div>\n                                    <div\n                                        class=\"text-xs bg-success text-success-content px-2 py-1 rounded\"\n                                    >\n                                        {{ order.item_count }} item(s)\n                                    </div>\n                                    <div\n                                        class=\"text-xs bg-info text-info-content px-2 py-1 rounded\"\n                                    >\n                                        Total:\n                                        {{\n                                            order.total_cost / 100\n                                                | currency: currency_code\n                                        }}\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                            >\n                                <div\n                                    class=\"flex items-center px-3 py-1 space-x-2 hover:opacity-90\"\n                                    *ngFor=\"let item of order.items\"\n                                >\n                                    <div class=\"flex items-center flex-1\">\n                                        <span class=\"text-sm\">{{\n                                            item.name || 'Item'\n                                        }}</span>\n                                        <span\n                                            class=\"text-xs opacity-60 ml-4 font-normal\"\n                                            *ngIf=\"item.option_list?.length\"\n                                            [matTooltip]=\"optionList(item)\"\n                                        >\n                                            {{\n                                                item.option_list?.length || '0'\n                                            }}\n                                            option(s)\n                                        </span>\n                                    </div>\n                                    <div\n                                        class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                                    >\n                                        x{{ item.quantity }}\n                                    </div>\n                                    <div\n                                        class=\"rounded bg-info text-info-content text-xs px-2 py-1\"\n                                    >\n                                        {{\n                                            item.unit_price_with_options / 100\n                                                | currency: currency_code\n                                        }}\n                                        ea\n                                    </div>\n                                    <div\n                                        class=\"rounded bg-info text-info-content text-xs px-2 py-1\"\n                                    >\n                                        {{\n                                            item.total_cost / 100\n                                                | currency: currency_code\n                                        }}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div\n                    class=\"pr-4 py-4 pl-16 relative space-y-2 flex-1\"\n                    *ngIf=\"assets?.length\"\n                >\n                    <div\n                        class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                        [class.!border-error]=\"has_conflict\"\n                        [class.!text-error]=\"has_conflict\"\n                    >\n                        <app-icon>{{\n                            has_conflict ? 'close' : 'done'\n                        }}</app-icon>\n                    </div>\n                    <h3 class=\"text-xl !mt-0\" i18n>Assets</h3>\n                    <div\n                        request\n                        *ngFor=\"let request of assets\"\n                        class=\"border bg-base-100 rounded-xl overflow-hidden\"\n                        [class.border-error]=\"end_time < request.deliver_at\"\n                        [class.border-base-300]=\"end_time >= request.deliver_at\"\n                    >\n                        <div class=\"flex items-center space-x-2 p-3\">\n                            <div class=\"flex-1 flex items-center space-x-2\">\n                                <div class=\"text-sm\">\n                                    Requested for\n                                    {{\n                                        request.deliver_at_time\n                                            | date: 'MMM d, ' + time_format\n                                    }}\n                                </div>\n                                <div\n                                    class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                    [matTooltip]=\"err_tooltip(request)\"\n                                    *ngIf=\"\n                                        end_time < request.deliver_at ||\n                                        request.conflict\n                                    \"\n                                >\n                                    <app-icon>priority_high</app-icon>\n                                </div>\n                                <div class=\"flex-1\"></div>\n                                <div\n                                    class=\"text-xs bg-success text-success-content px-2 py-1 rounded\"\n                                >\n                                    {{ request.item_count }} item(s)\n                                </div>\n                            </div>\n                        </div>\n                        <div\n                            class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                        >\n                            <div\n                                class=\"flex items-center px-3 py-1 space-x-2 hover:opacity-90\"\n                                *ngFor=\"let item of request.items\"\n                            >\n                                <div class=\"flex items-center flex-1\">\n                                    <span class=\"text-sm\">{{\n                                        item.name || 'Item'\n                                    }}</span>\n                                </div>\n                                <div\n                                    class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                                >\n                                    x{{ item.quantity }}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"pr-4 py-4 pl-16 relative space-y-2\" *ngIf=\"event.body\">\n                <div\n                    class=\"absolute top-4 left-4 flex items-center justify-center rounded-full border border-success text-success text-2xl\"\n                >\n                    <app-icon>done</app-icon>\n                </div>\n                <h3 class=\"text-xl !mt-0\" i18n>Notes</h3>\n                <div [innerHTML]=\"event.body | sanitize\"></div>\n            </div>\n        </main>\n        <footer\n            class=\"p-2 border-t border-base-200 flex items-center justify-end\"\n            *ngIf=\"!(loading | async)\"\n        >\n            <button\n                btn\n                name=\"confirm-meeting\"\n                matRipple\n                class=\"w-32\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n            <!-- <button\n                btn\n                matRipple\n                class=\"inverse w-32\"\n                *ngIf=\"loading | async\"\n                (click)=\"cancelPost()\"\n                i18n\n            >\n                Undo\n            </button> -->\n        </footer>\n    `,\n    styles: [``],\n    providers: [SpacePipe],\n})\nexport class MeetingFlowConfirmModalComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    private _loading = new BehaviorSubject(false);\n\n    public readonly loading = combineLatest([\n        this._event_form.loading,\n        this._loading,\n    ]).pipe(map(([a, b]) => a || b));\n    public readonly catering_orders;\n    public readonly assets;\n    public err_tooltip(request: AssetRequest) {\n        return request.conflict\n            ? 'Some of the items are not available for the selected date and time.'\n            : 'Delivery time is outside of the event time.\\nThis order will be ignored.';\n    }\n\n    public get has_conflict() {\n        return this.assets?.some((_) => _.conflict);\n    }\n\n    public readonly postForm = async () => {\n        if (!this.space) {\n            const result = await openConfirmModal(\n                {\n                    title: 'Make Booking without a Room',\n                    content:\n                        'You are creating a booking without a room, are you sure?',\n                    icon: { content: 'event_available' },\n                },\n                this._dialog,\n            );\n            if (result.reason !== 'done') return;\n            result.close();\n        }\n        const resp = await this._event_form.postForm().catch((_) => {\n            notifyError(_);\n            return false;\n        });\n        if (resp) this.dismiss(true);\n    };\n    public readonly cancelPost = () => this._event_form.cancelPostForm();\n    public readonly dismiss = (e?) => this._dialog_ref?.close(e);\n\n    private _space = this.event.resources[0];\n\n    public get is_multiday() {\n        return this.event.duration > 24 * 60;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get end_time() {\n        return this.event.all_day\n            ? endOfDay(this.event.date_end).valueOf()\n            : this.event.date_end;\n    }\n\n    public get event() {\n        return this._event_form.form.getRawValue() as any;\n    }\n\n    public get space(): Space {\n        return this.event.resources[0];\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space.zones);\n    }\n\n    public get location() {\n        const building = this._org.buildings.find((_) =>\n            this.space.zones.includes(_.id),\n        );\n        return building?.address || building?.display_name || building?.name;\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    public get formatted_recurrence() {\n        return formatRecurrence({\n            ...this.event.recurrence,\n            start: this.event.date || this.event.recurrence.start,\n        });\n    }\n\n    constructor(\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _space_pipe: SpacePipe,\n        @Optional()\n        private _dialog_ref: MatDialogRef<MeetingFlowConfirmModalComponent>,\n        private _dialog: MatDialog,\n        private _settings: SettingsService,\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        const date = this.event.all_day\n            ? startOfDay(this.event.date).valueOf()\n            : this.event.date;\n        (this as any).catering_orders = this.event.catering?.map(\n            (order) =>\n                new CateringOrder({\n                    ...order,\n                    event: {\n                        ...this.event,\n                        date: date,\n                        date_end: addMinutes(\n                            date,\n                            this.event.duration,\n                        ).valueOf(),\n                    },\n                }),\n        );\n        (this as any).assets = this.event.assets?.map(\n            (_) => new AssetRequest({ ..._, event: this.event }),\n        );\n        this._space =\n            (await this._space_pipe.transform(\n                this.event.resources[0]?.email,\n            )) || this._space;\n        const changed_spaces =\n            !this._event_form.event ||\n            this.event.resources[0]?.id !== this._event_form.event?.space?.id;\n        const changed_times =\n            !this._event_form.event ||\n            this.event.date !== this._event_form.event.date ||\n            this.event.date_end !== this._event_form.event.date_end;\n        const event = this._event_form.form.value;\n        this._loading.next(true);\n        await validateAssetRequestsForResource(\n            this._event_form.event || {},\n            {\n                date: this.event.date,\n                duration: this.event.duration,\n                host: this.event.host,\n                all_day: this.event.all_day,\n                location_name:\n                    this._space?.display_name || this._space?.name || '',\n                location_id: this._space?.id || '',\n                zones: this._space?.level?.parent_id\n                    ? [this._space?.level?.parent_id]\n                    : [this._org.building?.id],\n                reset_state: changed_times,\n            },\n            event.assets,\n            changed_spaces || changed_times,\n        ).catch((e) => notifyError(e));\n        this.timeout(\n            'update_assets',\n            () => {\n                (this as any).assets = event.assets?.map(\n                    (_) => new AssetRequest({ ..._, event }),\n                );\n                this._event_form.form.patchValue({ assets: event.assets });\n            },\n            100,\n        );\n        this._loading.next(false);\n    }\n\n    public optionList(item: CateringItem) {\n        return item.option_list?.map((_) => _.name).join('\\n');\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { MatDialog } from '@angular/material/dialog';\nimport { CateringItem } from '@placeos/catering';\nimport {\n    AsyncHandler,\n    SettingsService,\n    notifyError,\n    openConfirmModal,\n} from '@placeos/common';\nimport {\n    CalendarEvent,\n    EventFormService,\n    formatRecurrence,\n} from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\n\n@Component({\n    selector: 'meeting-flow-confirm',\n    template: `\n        <button\n            icon\n            matRipple\n            name=\"close-meeting-confirm\"\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 i18n>Confirm Meeting booking</h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 px-2\">\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ event.title || 'Meeting Details' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>today</app-icon>\n                    <div date>{{ event.date | date: 'fullDate' }}</div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"event.recurrence?.pattern\"\n                >\n                    <app-icon>update</app-icon>\n                    <div date>{{ formatted_recurrence }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            is_multiday\n                                ? (event.date | date: 'MMM d') +\n                                  (event.all_day\n                                      ? ''\n                                      : (event.date\n                                        | date: ', ' + time_format)) +\n                                  ' - ' +\n                                  (event.date_end | date: 'MMM d') +\n                                  (event.all_day\n                                      ? ''\n                                      : (event.date_end\n                                        | date: ', ' + time_format))\n                                : event.all_day\n                                ? 'All Day'\n                                : (event.date | date: time_format) +\n                                  ' - ' +\n                                  (event.date + event.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            attendees\n            class=\"flex space-x-1 px-2\"\n            *ngIf=\"event.attendees.length\"\n        >\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>\n                    {{ event.attendees.length }} { event.attendees.length,\n                    plural, =1 { attendee } other { attendees } }\n                </h3>\n                <div attendee-list>\n                    <mat-chip-list #chipList aria-label=\"User selection\">\n                        <mat-chip *ngFor=\"let user of event.attendees\">\n                            <div class=\"flex items-center\">\n                                <app-icon class=\"mr-2\">business</app-icon>\n                                {{ user.name || user.email }}\n                            </div>\n                        </mat-chip>\n                    </mat-chip-list>\n                </div>\n            </div>\n        </section>\n        <section spaces class=\"flex space-x-1 px-2\" *ngIf=\"space?.id\">\n            <app-icon class=\"text-success mt-1\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>Booked Room</h3>\n                <ng-container *ngFor=\"let s of event.resources\">\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>meeting_room</app-icon>\n                        <div>\n                            {{ level?.display_name || level?.name }},\n                            {{ s.display_name || s.name }}\n                        </div>\n                    </div>\n                </ng-container>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                btn\n                name=\"confirm-meeting\"\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n            <!-- <button\n                btn\n                matRipple\n                class=\"inverse w-full\"\n                *ngIf=\"loading | async\"\n                (click)=\"cancelPost()\"\n                i18n\n            >\n                Undo\n            </button> -->\n        </footer>\n    `,\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n            }\n\n            h2 {\n                font-size: 1.5rem;\n                font-weight: medium;\n                margin-bottom: 0.5rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    providers: [SpacePipe],\n})\nexport class MeetingFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._event_form.loading;\n\n    public readonly postForm = async () => {\n        if (!this.space) {\n            const result = await openConfirmModal(\n                {\n                    title: 'Make Booking without a Room',\n                    content:\n                        'You are creating a booking without a room, are you sure?',\n                    icon: { content: 'event_available' },\n                },\n                this._dialog\n            );\n            if (result.reason !== 'done') return;\n        }\n        await this._event_form.postForm().catch((_) => {\n            notifyError(_);\n            throw _;\n        });\n        this.dismiss(true);\n    };\n    public readonly cancelPost = () => this._event_form.cancelPostForm();\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    private _space = this.event.resources[0];\n\n    public get is_multiday() {\n        return this.event.duration > 24 * 60;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get formatted_recurrence() {\n        return formatRecurrence({\n            ...this.event.recurrence,\n            start: this.event.date || this.event.recurrence.start,\n        });\n    }\n\n    public get event(): CalendarEvent {\n        return this._event_form.form.getRawValue() as any;\n    }\n\n    public get space() {\n        return this._space;\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space.zones);\n    }\n\n    public get location() {\n        const building = this._org.buildings.find((_) =>\n            this.space.zones.includes(_.id)\n        );\n        return building?.address || building?.display_name || building?.name;\n    }\n\n    constructor(\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _space_pipe: SpacePipe,\n        private _dialog: MatDialog,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        this._space =\n            (await this._space_pipe.transform(this.event.resources[0].email)) ||\n            this._space;\n    }\n\n    public optionList(item: CateringItem) {\n        return item.option_list?.map((_) => _.name).join('\\n');\n    }\n}\n","import { Component, ElementRef, TemplateRef, ViewChild } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    AsyncHandler,\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    notifyWarn,\n    openConfirmModal,\n    SettingsService,\n    UserIdleTimeService,\n} from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { FindAvailabilityModalComponent } from '@placeos/users';\nimport { CateringOrderStateService } from 'libs/catering/src/lib/catering-order-modal/catering-order-state.service';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport { debounceTime, first, map, switchMap, tap } from 'rxjs/operators';\nimport { MeetingFlowConfirmModalComponent } from './meeting-flow-confirm-modal.component';\nimport { MeetingFlowConfirmComponent } from './meeting-flow-confirm.component';\nimport { AssetStateService } from 'libs/assets/src/lib/asset-state.service';\n\n@Component({\n    selector: 'meeting-flow-form',\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-300\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-300\"\n                >\n                    {{ !!form.value.id ? 'Edit' : 'Book' }}\n                    {{ 'WPA.BOOK_MEETING_HEADING' | translate }}\n                </h2>\n                <form\n                    class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n                    [formGroup]=\"form\"\n                    *ngIf=\"form\"\n                >\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                1\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.DETAILS' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-details-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.details = !hide_block.details\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.details\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.details ? 'hide' : 'show'\"\n                        >\n                            <meeting-form-details\n                                class=\"mt-4\"\n                                [form]=\"form\"\n                            ></meeting-form-details>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"!hide_attendees\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                2\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'FORM.ATTENDEES' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                matRipple\n                                name=\"find-attendee-availability\"\n                                class=\"bg-none underline text-xs text-info\"\n                                (click)=\"findAvailableTime()\"\n                            >\n                                {{ 'WPA.AVAILABILITY' | translate }}\n                            </button>\n                            <button\n                                icon\n                                name=\"toggle-attendees-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.attendees = !hide_block.attendees\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.attendees\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.attendees ? 'hide' : 'show'\"\n                        >\n                            <a-user-list-field\n                                class=\"mt-4\"\n                                formControlName=\"attendees\"\n                                [time]=\"form.value.date\"\n                                [guests]=\"allow_externals\"\n                            ></a-user-list-field>\n                            <label for=\"visitor_entity\">Vistor's Entity:</label>\n                            <mat-form-field appearance=\"outline\" class=\"w-full\">\n                                <input\n                                    matInput\n                                    name=\"visitor_entity\"\n                                    formControlName=\"visitor_entity\"\n                                    placeholder=\"Organisational Entity of the Visior\"\n                                />\n                            </mat-form-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                3\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.ROOM' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-spaces-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.resources = !hide_block.resources\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.resources\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden flex flex-col items-center\"\n                            [@show]=\"hide_block.resources ? 'hide' : 'show'\"\n                        >\n                            <div\n                                *ngIf=\"\n                                    !strict_capacity_check &&\n                                    total_capacity &&\n                                    total_capacity <=\n                                        form.value.attendees?.length\n                                \"\n                                class=\"bg-warning text-warning-content rounded shadow p-2 text-xs mx-auto my-2 inline-flex\"\n                            >\n                                The selected room has less capacity than the\n                                number of meeting attendees.\n                            </div>\n                            <space-list-field\n                                class=\"w-full\"\n                                formControlName=\"resources\"\n                                [multiday]=\"allow_multiday\"\n                            ></space-list-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"has_catering | async\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                4\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.CATERING' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-catering-meeting\"\n                                matRipple\n                                (click)=\"\n                                    hide_block.catering = !hide_block.catering\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.catering\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.catering ? 'hide' : 'show'\"\n                        >\n                            <catering-list-field\n                                formControlName=\"catering\"\n                                [options]=\"{\n                                    date: form.getRawValue().date,\n                                    duration: form.value.duration,\n                                    all_day: form.value.all_day,\n                                    zone_id: form.value?.resources?.length\n                                        ? form.value?.resources[0]?.level\n                                              ?.parent_id\n                                        : '',\n                                }\"\n                            ></catering-list-field>\n                            <mat-form-field\n                                appearance=\"outline\"\n                                class=\"w-full mt-2\"\n                                *ngIf=\"\n                                    form.value.catering?.length && has_codes\n                                        | async\n                                \"\n                                (openedChange)=\"focusInput()\"\n                            >\n                                <mat-select\n                                    formControlName=\"catering_charge_code\"\n                                    placeholder=\"Charge Code\"\n                                >\n                                    <input\n                                        #input\n                                        class=\"sticky top-0 bg-base-100 px-4 py-3 text-base border-x-0 border-t-0 border-b focus:border-b border-base-200 w-full rounded-none z-50\"\n                                        [ngModel]=\"code_filter.getValue()\"\n                                        (ngModelChange)=\"\n                                            code_filter.next($event)\n                                        \"\n                                        [ngModelOptions]=\"{ standalone: true }\"\n                                        placeholder=\"Search charge codes...\"\n                                    />\n                                    <mat-option class=\"hidden\"></mat-option>\n                                    <mat-option\n                                        *ngFor=\"\n                                            let code of filtered_codes | async\n                                        \"\n                                        [value]=\"code\"\n                                    >\n                                        {{ code }}\n                                    </mat-option>\n                                </mat-select>\n                                <mat-error>\n                                    Catering charge code is required\n                                </mat-error>\n                            </mat-form-field>\n                            <mat-form-field\n                                appearance=\"outline\"\n                                class=\"w-full\"\n                                [class.mt-2]=\"\n                                    !(\n                                        form.value.catering?.length && has_codes\n                                        | async\n                                    )\n                                \"\n                                *ngIf=\"form.value.catering?.length\"\n                            >\n                                <textarea\n                                    matInput\n                                    formControlName=\"catering_notes\"\n                                    placeholder=\"Extra catering details...\"\n                                ></textarea>\n                                <mat-error>\n                                    Catering Order notes are required\n                                </mat-error>\n                            </mat-form-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"has_assets\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                {{ !(has_catering | async) ? '4' : '5' }}\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'WPA.ASSETS' | translate }}\n                            </div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                name=\"toggle-assets-meeting\"\n                                matRipple\n                                (click)=\"hide_block.assets = !hide_block.assets\"\n                            >\n                                <app-icon>{{\n                                    hide_block.assets\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.assets ? 'hide' : 'show'\"\n                        >\n                            <asset-list-field\n                                [options]=\"{\n                                    date: form.getRawValue().date,\n                                    duration: form.value.duration,\n                                    all_day: form.value.all_day,\n                                    zone_id: form.value?.resources?.length\n                                        ? form.value?.resources[0]?.level\n                                              ?.parent_id\n                                        : '',\n                                }\"\n                                [rejected_ids]=\"invalid_assets\"\n                                formControlName=\"assets\"\n                            ></asset-list-field>\n                        </div>\n                    </section>\n                    <section class=\"p-2\" *ngIf=\"!hide_notes\">\n                        <h3 class=\"space-x-2 flex items-center mb-4\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                {{\n                                    !(has_catering | async) || !has_assets\n                                        ? !(has_catering | async) && !has_assets\n                                            ? '4'\n                                            : '5'\n                                        : '6'\n                                }}\n                            </div>\n                            <div class=\"text-xl\">\n                                {{ 'FORM.NOTES' | translate }}\n                            </div>\n                        </h3>\n                        <div class=\"w-full flex flex-col\">\n                            <label for=\"notes\">\n                                {{ 'WPA.NOTES_INFO' | translate }}\n                            </label>\n                            <rich-text-input\n                                name=\"notes\"\n                                formControlName=\"body\"\n                                placeholder=\"Notes...\"\n                            ></rich-text-input>\n                        </div>\n                    </section>\n                    <section\n                        class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2\"\n                    >\n                        <button\n                            btn\n                            name=\"open-meeting-confirm\"\n                            matRipple\n                            confirm\n                            class=\"mb-2 sm:mb-0 w-full sm:w-auto\"\n                            (click)=\"viewConfirm()\"\n                        >\n                            {{ 'WPA.CONFIRM_MEETING' | translate }}\n                        </button>\n                        <button\n                            btn\n                            name=\"clear-form-meeting\"\n                            matRipple\n                            clear-form\n                            class=\"inverse w-full sm:w-auto\"\n                            (click)=\"clearForm()\"\n                        >\n                            {!!form.value.id, select,\n                                true {Reset }\n                                false {Clear }\n                            }\n                            {{ 'WPA.CLEAR_FORM' | translate }}\n                        </button>\n                    </section>\n                </form>\n            </div>\n        </div>\n    `,\n    styles: [],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n})\nexport class MeetingFlowFormComponent extends AsyncHandler {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public dialog_ref: MatDialogRef<any>;\n    public hide_block: Record<string, boolean> = {};\n    public code_filter = new BehaviorSubject('');\n    public invalid_assets: string[] = [];\n\n    public readonly has_catering = this._catering.available_menu.pipe(\n        map((l) => l.length > 0),\n    );\n\n    public readonly has_codes = this._catering.charge_codes.pipe(\n        map((l) => l.length > 0),\n        tap((has_codes) => {\n            if (!has_codes) {\n                this.form.get('catering_charge_code').setValidators([]);\n                this.form.updateValueAndValidity();\n            }\n        }),\n    );\n\n    public readonly filtered_codes = combineLatest([\n        this.code_filter,\n        this._catering.charge_codes,\n    ]).pipe(\n        map(([s, l]) =>\n            l.filter((_) => _.toLowerCase().includes(s.toLowerCase())),\n        ),\n    );\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get event() {\n        return this._state.event;\n    }\n\n    public get has_assets() {\n        return !!this._settings.get('app.events.has_assets');\n    }\n\n    public get hide_notes() {\n        return !!this._settings.get('app.events.hide_notes');\n    }\n\n    public get hide_attendees() {\n        return !!this._settings.get('app.events.hide_attendees');\n    }\n\n    public get allow_externals() {\n        return this._settings.get('app.events.allow_externals');\n    }\n\n    public get strict_capacity_check() {\n        return this._settings.get('app.events.strict_capacity_check');\n    }\n\n    public get total_capacity() {\n        return (\n            this.form.value.resources?.reduce((c, i) => c + i.capacity, 0) || 0\n        );\n    }\n\n    public get allow_multiday() {\n        return (\n            this._settings.get('app.events.allow_multiday') ||\n            this._state.is_multiday\n        );\n    }\n\n    public get attendee_count() {\n        const user = currentUser();\n        let count = this.form.value.attendees?.length || 0;\n        if (\n            !this.form.value.attendees.find(\n                (_) => _.email.toLowerCase() === user.email.toLowerCase(),\n            )\n        ) {\n            count += 1;\n        }\n        return count;\n    }\n\n    private _space_list = new BehaviorSubject<Space[]>([]);\n\n    private _assets_available = this._space_list.pipe(\n        debounceTime(300),\n        switchMap((space_list) => {\n            if (!space_list?.length) return of(false);\n            const value = this.form.getRawValue();\n            this._assets.setOptions({\n                date: value.date,\n                duration: value.duration,\n                resources: space_list,\n                zone_id: this._org.levelWithID(space_list[0].zones)?.parent_id,\n                tags: [],\n                categories: [],\n            } as any);\n            return combineLatest([\n                this._assets.filtered_assets,\n                this._assets.disabled_rooms,\n            ]).pipe(\n                map(([items, disabled_rooms]) => {\n                    const assets_available = space_list.every(\n                        (s) =>\n                            items.filter(\n                                (_) =>\n                                    !(_ as any).hide_for_zones?.find((z) =>\n                                        s.zones.includes(z),\n                                    ),\n                            ).length > 0,\n                    );\n                    if (\n                        assets_available &&\n                        !disabled_rooms.find((_) =>\n                            space_list.find((i) => i.id === _),\n                        )\n                    )\n                        return true;\n                    const event = this._state.event;\n                    const { id, assets, date, date_end } =\n                        this.form.getRawValue();\n                    const time_changed =\n                        !id ||\n                        (assets?.length &&\n                            (date !== event.date ||\n                                date_end !== event.date_end));\n                    if (time_changed) {\n                        this.form.patchValue({ assets: [] });\n                        notifyWarn(\n                            `Assets are unavailable for some of the selected spaces.`,\n                        );\n                    }\n                    return false;\n                }),\n            );\n        }),\n    );\n\n    private _catering_available = combineLatest([\n        this._space_list,\n        this.has_catering,\n    ]).pipe(\n        debounceTime(300),\n        switchMap(([space_list, has_catering]) => {\n            if (!space_list?.length || !has_catering) return of(false);\n            const value = this.form.getRawValue();\n            this._catering.setFilters({\n                search: '',\n                date: value.date,\n                duration: value.duration,\n                resources: space_list,\n                zone_id: this._org.levelWithID(space_list[0].zones)?.parent_id,\n                tags: [],\n                categories: [],\n            });\n            return combineLatest([\n                this._catering.filtered_menu,\n                this._catering.availability,\n            ]).pipe(\n                map(([menu, disabled_rooms]) => {\n                    const can_cater = space_list.every(\n                        (s) =>\n                            menu.filter(\n                                (_) =>\n                                    !_.hide_for_zones.find((z) =>\n                                        s.zones.includes(z),\n                                    ),\n                            ).length > 0,\n                    );\n                    if (\n                        can_cater &&\n                        !disabled_rooms.find((_) =>\n                            space_list.find((i) => i.id === _),\n                        )\n                    )\n                        return true;\n                    const event = this._state.event;\n                    const { id, catering, date, date_end } =\n                        this.form.getRawValue();\n                    const time_changed =\n                        !id ||\n                        (catering?.length &&\n                            (date !== event.date ||\n                                date_end !== event.date_end));\n                    if (time_changed) {\n                        this.form.patchValue({ catering: [] });\n                        notifyWarn(\n                            `Catering is unavailable for some of the selected spaces.`,\n                        );\n                    }\n                    return false;\n                }),\n            );\n        }),\n    );\n\n    public readonly clearForm = () => this._state.resetForm();\n\n    public readonly viewConfirm = () => {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        if (\n            this.strict_capacity_check &&\n            this.attendee_count > this.total_capacity\n        ) {\n            return notifyError(\n                'Attendee count is greater than the capacity of the selected rooms',\n            );\n        }\n        this.form.markAllAsTouched();\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', ',\n                )}]`,\n            );\n        if (\n            this._settings.get('app.events.no_standalone') &&\n            !this.form.value.resources.length\n        )\n            return notifyError('You need to select a room to make a booking');\n        if (this._settings.get('app.events.booking_unavailable'))\n            return this._state.openEventLinkModal();\n        if (window.innerWidth >= 768) {\n            this.dialog_ref = this._dialog.open(\n                MeetingFlowConfirmModalComponent,\n            );\n            this.dialog_ref.componentInstance.show_close = true;\n            this.dialog_ref.afterClosed().subscribe((value) => {\n                if (value) {\n                    this.unsubWith('idle');\n                    this._router.navigate(['/book', 'meeting', 'success']);\n                    this._state.setView('success');\n                }\n            });\n        } else {\n            this.sheet_ref = this._bottom_sheet.open(\n                MeetingFlowConfirmComponent,\n            );\n            this.sheet_ref.instance.show_close = true;\n            this.sheet_ref.afterDismissed().subscribe((value) => {\n                if (value) {\n                    this.unsubWith('idle');\n                    this._router.navigate(['/book', 'meeting', 'success']);\n                    this._state.setView('success');\n                }\n            });\n        }\n    };\n\n    @ViewChild('confirm_ref') private _confirm_ref: TemplateRef<any>;\n    @ViewChild('input') private _input_el: ElementRef<HTMLInputElement>;\n\n    constructor(\n        private _state: EventFormService,\n        private _catering: CateringOrderStateService,\n        private _assets: AssetStateService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _dialog: MatDialog,\n        private _bottom_sheet: MatBottomSheet,\n        private _org: OrganisationService,\n        private _idle: UserIdleTimeService,\n    ) {\n        super();\n    }\n\n    private _updateValidAssets() {\n        this.invalid_assets = [];\n        if (!this.event?.id) return;\n        const requested_assets = this.form.value.assets || [];\n        const linked_bookings = this.event?.linked_bookings || [];\n        this.invalid_assets = requested_assets\n            .filter(\n                (_) =>\n                    !_._changed &&\n                    !linked_bookings.find(\n                        (bkn) => bkn.extension_data?.request_id === _.id,\n                    ),\n            )\n            .map((_) => _.id);\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this.subscription(\n            'asset_changes',\n            this.form.controls.assets.valueChanges.subscribe(() =>\n                this._updateValidAssets(),\n            ),\n        );\n        for (const key of ['resources', 'date', 'duration', 'date_end']) {\n            this.subscription(\n                `${key}_changes`,\n                this.form.controls[key].valueChanges.subscribe(() =>\n                    this.timeout('check_resources', () =>\n                        this._space_list.next(this.form.value.resources || []),\n                    ),\n                ),\n            );\n        }\n        this._catering.setOptions({ zone: '' });\n        this._space_list.next(this.form.value.resources || []);\n        this.subscription(\n            'assets_available',\n            this._assets_available.subscribe((a) => {\n                if (!a) this.form.controls.assets.disable();\n                else this.form.controls.assets.enable();\n            }),\n        );\n        this.subscription(\n            'catering_available',\n            this._catering_available.subscribe((a) => {\n                if (!a) this.form.controls.catering.disable();\n                else this.form.controls.catering.enable();\n            }),\n        );\n        this.subscription(\n            'idle-listen',\n            this._idle\n                .idleFor(\n                    (this._settings.get('app.idle_timeout') || 5) * 60 * 1000,\n                )\n                .subscribe(async () => {\n                    this.unsub('idle');\n                    await openConfirmModal(\n                        {\n                            title: 'Idle Timeout',\n                            content: 'Your form data is out of date',\n                            icon: { content: 'update' },\n                            confirm_text: 'Refresh',\n                        },\n                        this._dialog,\n                    );\n                    this._state.newForm();\n                    location.reload();\n                }),\n        );\n        this.timeout(\n            'init_valid_assets',\n            () => this._updateValidAssets(),\n            1000,\n        );\n    }\n\n    public focusInput() {\n        this.timeout(\n            'input-focus',\n            () => {\n                this._input_el.nativeElement.value = '';\n                this._input_el?.nativeElement?.focus();\n            },\n            300,\n        );\n    }\n\n    public findAvailableTime() {\n        const { attendees, organiser, date, duration } = this.form.value;\n        const ref = this._dialog.open(FindAvailabilityModalComponent, {\n            data: {\n                users: attendees,\n                host: organiser || currentUser(),\n                date,\n                duration,\n            },\n        });\n        ref.afterClosed().subscribe((d) => {\n            if (!d) return;\n            this.form.patchValue({\n                date: ref.componentInstance.date,\n                attendees: ref.componentInstance.users.getValue(),\n                duration: ref.componentInstance.duration,\n            });\n        });\n    }\n}\n","import { Component } from '@angular/core';\nimport { SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'meeting-flow-success',\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\">\n                    {{ 'WPA.BOOKING_CONFIRMED' | translate }}\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center max-w-[32rem]\" i18n>\n                    Your\n                    <span *ngIf=\"space\">\n                        room booking for\n                        {{ level?.display_name || level?.name\n                        }}<span *ngIf=\"level\">,</span>\n                        {{ space?.display_name || space?.name }}\n                    </span>\n                    <span *ngIf=\"!space\">meeting</span> has been successfully\n                    booked for {{ last_event.date | date: 'mediumDate'\n                    }}<span *ngIf=\"!last_event?.all_day\">\n                        at {{ last_event.date | date: time_format }}-{{\n                            last_event.date + last_event.duration * 60 * 1000\n                                | date: time_format\n                        }}</span\n                    >.\n                </p>\n                <p *ngIf=\"true\">\n                    Please allow up to 5 minutes for you booking to be approved.\n                </p>\n            </main>\n            <footer\n                class=\"sticky bottom-0 bg-base-100 p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"meeting-created-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                >\n                    {{ 'WPA.BOOKING_DONE_CONTINUE' | translate }}\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class MeetingFlowSuccessComponent {\n    public get last_event() {\n        return this._event_form.last_success;\n    }\n\n    public get space() {\n        return this.last_event.space;\n    }\n\n    public get level() {\n        return this._org.levelWithID(this.space?.zones);\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, Input, SimpleChanges } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { PlaceMetadata, showMetadata } from '@placeos/ts-client';\nimport {\n    addDays,\n    addMinutes,\n    differenceInMinutes,\n    endOfDay,\n    format,\n    formatDuration,\n    set,\n    startOfDay,\n} from 'date-fns';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    map,\n    shareReplay,\n    startWith,\n    switchMap,\n} from 'rxjs/operators';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'meeting-form-details',\n    template: `\n        <div *ngIf=\"form\" [formGroup]=\"form\">\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\">{{ 'FORM.TITLE' | translate }}</label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <input\n                            matInput\n                            name=\"title\"\n                            formControlName=\"title\"\n                            placeholder=\"e.g. Team Meeting\"\n                        />\n                        <mat-error>{{\n                            'FORM.TITLE_ERROR' | translate\n                        }}</mat-error>\n                    </mat-form-field>\n                </div>\n                <div\n                    class=\"flex-1 min-w-[256px] relative\"\n                    *ngIf=\"!allow_multiday\"\n                >\n                    <label for=\"date\">\n                        {{ 'FORM.DATE' | translate }}<span>*</span>\n                    </label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date\"\n                        [to]=\"end_date\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-2\"\n                    >\n                        {{ 'FORM.ALL_DAY' | translate }}\n                    </mat-checkbox>\n                </div>\n            </div>\n            <div\n                class=\"flex items-center flex-wrap sm:space-x-2\"\n                *ngIf=\"allow_multiday\"\n            >\n                <div class=\"flex-1 min-w-[256px] relative\">\n                    <label for=\"date\">\n                        {{ 'FORM.DATE' | translate }}<span>*</span>\n                    </label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date\"\n                        [to]=\"end_date\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-2\"\n                    >\n                        {{ 'FORM.ALL_DAY' | translate }}\n                    </mat-checkbox>\n                </div>\n                <div class=\"flex-1 min-w-[256px] relative\">\n                    <label for=\"date\">\n                        {{ 'FORM.END_DATE' | translate }}<span>*</span>\n                    </label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date_end\"\n                        [from]=\"start_date\"\n                        [to]=\"end_date\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                </div>\n            </div>\n            <div\n                class=\"flex items-center space-x-2\"\n                *ngIf=\"!form.value.all_day\"\n            >\n                <div class=\"flex-1 w-1/3\">\n                    <label for=\"start-time\">\n                        {{ 'FORM.START_TIME' | translate }}\n                        <span>*</span>\n                    </label>\n                    <a-time-field\n                        name=\"start-time\"\n                        [ngModel]=\"form.getRawValue().date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [use_24hr]=\"use_24hr\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3\" *ngIf=\"allow_multiday\">\n                    <label for=\"end-time\">\n                        {{ 'FORM.END_TIME' | translate }}<span>*</span>\n                    </label>\n                    <a-time-field\n                        name=\"end-time\"\n                        [ngModel]=\"form.value.date_end\"\n                        (ngModelChange)=\"form.patchValue({ date_end: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [from]=\"form?.getRawValue()?.date + 30 * 60 * 1000\"\n                        [use_24hr]=\"use_24hr\"\n                        [extra_info_fn]=\"duration_info\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3\" *ngIf=\"!allow_multiday\">\n                    <label for=\"end-time\">\n                        {{ 'FORM.END_TIME' | translate }}<span>*</span>\n                    </label>\n                    <a-duration-field\n                        name=\"end-time\"\n                        formControlName=\"duration\"\n                        [time]=\"form?.getRawValue()?.date\"\n                        [max]=\"max_duration\"\n                        [use_24hr]=\"use_24hr\"\n                    ></a-duration-field>\n                </div>\n            </div>\n            <div *ngIf=\"can_book_for_others\" class=\"w-full flex flex-col\">\n                <label for=\"host\">\n                    {{ 'FORM.HOST' | translate }}<span>*</span>\n                </label>\n                <host-select-field\n                    name=\"host\"\n                    formControlName=\"organiser\"\n                ></host-select-field>\n            </div>\n            <div *ngIf=\"can_book_for_anyone\" class=\"w-full flex flex-col\">\n                <label for=\"host\">\n                    {{ 'FORM.HOST' | translate }}<span>*</span>\n                </label>\n                <a-user-search-field\n                    name=\"host\"\n                    formControlName=\"organiser\"\n                    class=\"mb-4\"\n                ></a-user-search-field>\n                <div class=\"flex flex-col flex-1\">\n                    <label for=\"host_entity\">Host's Entity:</label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <input\n                            matInput\n                            name=\"host_entity\"\n                            formControlName=\"host_entity\"\n                            placeholder=\"Organisational Entity of the Host\"\n                            [matAutocomplete]=\"auto\"\n                        />\n                    </mat-form-field>\n                    <mat-autocomplete #auto=\"matAutocomplete\" class=\"w-full\">\n                        <mat-option\n                            *ngFor=\"let option of filtered_entities | async\"\n                            [value]=\"option\"\n                        >\n                            {{ option }}\n                        </mat-option>\n                    </mat-autocomplete>\n                </div>\n            </div>\n            <div *ngIf=\"allow_recurrence\" class=\"w-full flex flex-col\">\n                <label for=\"recurrence\">\n                    {{ 'FORM.RECURRENCE' | translate }}<span>*</span>\n                </label>\n                <recurrence-field\n                    name=\"recurrence\"\n                    [date]=\"form.getRawValue().date\"\n                    formControlName=\"recurrence\"\n                ></recurrence-field>\n                <mat-checkbox\n                    *ngIf=\"form.value.id\"\n                    formControlName=\"update_master\"\n                >\n                    Update all future events\n                </mat-checkbox>\n            </div>\n        </div>\n    `,\n    styles: [],\n})\nexport class MeetingFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n\n    public readonly host_entity_list: Observable<string[]> =\n        this._org.initialised.pipe(\n            filter((_) => !!_),\n            switchMap((_) =>\n                showMetadata(this._org.organisation.id, 'host_entities').pipe(\n                    catchError(() => of({ details: [] } as any)),\n                ),\n            ),\n            map((_: PlaceMetadata) =>\n                _.details instanceof Array ? _.details : [],\n            ),\n            shareReplay(1),\n        );\n\n    private _host_entity = new BehaviorSubject<string>('');\n\n    public filtered_entities = combineLatest([\n        this.host_entity_list,\n        this._host_entity,\n    ]).pipe(\n        map(([list, entity]) =>\n            entity\n                ? list.filter((_) =>\n                      _.toLowerCase().includes(entity.toLowerCase()),\n                  )\n                : list,\n        ),\n    );\n\n    public readonly force_time = set(Date.now(), {\n        hours: 6,\n        minutes: 0,\n    }).valueOf();\n\n    public get max_duration() {\n        return this._settings.get('app.events.max_duration') || 480;\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.events.can_book_for_others');\n    }\n\n    public get can_book_for_anyone() {\n        return this._settings.get('app.events.can_book_for_anyone');\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.events.allow_all_day');\n    }\n\n    public get allow_recurrence() {\n        return (\n            this._settings.get('app.events.allow_recurrence') &&\n            this.form.value.duration <= 24 * 60\n        );\n    }\n\n    public get allow_multiday() {\n        return (\n            this._settings.get('app.events.allow_multiday') ||\n            this._event_form.is_multiday\n        );\n    }\n\n    public get start_date() {\n        const date = this.form.getRawValue().date;\n        const date_end = this.form.getRawValue().date_end;\n        const is_next_day =\n            format(date, 'yyyy-MM-dd') !== format(date_end, 'yyyy-MM-dd');\n        return is_next_day\n            ? startOfDay(date).valueOf()\n            : addMinutes(date, 30).valueOf();\n    }\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.events.allowed_future_days') || 180,\n            ),\n        ).valueOf();\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public readonly duration_info = (time: number) => {\n        const date = this.form.getRawValue().date;\n        if (format(date, 'yyyy-MM-dd') !== format(time, 'yyyy-MM-dd'))\n            return '';\n        const diff = differenceInMinutes(time, date);\n        return ` (${formatDuration({\n            hours: Math.floor(diff / 60),\n            minutes: diff % 60,\n        })})`;\n    };\n\n    constructor(\n        private _settings: SettingsService,\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n    ) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.form && this.form) {\n            this.subscription(\n                'host_entity_change',\n                this.form.valueChanges.subscribe(() =>\n                    this._host_entity.next(this.form.getRawValue().host_entity),\n                ),\n            );\n            this._host_entity.next(this.form.getRawValue().host_entity);\n        }\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, notifyInfo } from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'placeos-new-book-desk-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full z-50\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <new-desk-flow-success></new-desk-flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <new-desk-flow-form></new-desk-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class NewDeskFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.loadForm();\n        this._state.setOptions({ type: 'desk' });\n        this._state.form.patchValue({ booking_type: 'desk' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe(async (params) => {\n                if (params.has('success')) {\n                    this._state.setView(params.get('success') as any);\n                }\n                if (params.has('asset_id')) {\n                    const id = params.get('asset_id');\n                    const resources = await this._state.resources\n                        .pipe(take(1))\n                        .toPromise();\n                    let asset = resources.find((_) => _.id === id);\n                    if (!asset) {\n                        return notifyInfo(\n                            'Unable to find desk with given asset ID.'\n                        );\n                    }\n                    this._state.form.patchValue({\n                        resources: [\n                            new Desk({\n                                id: asset.id,\n                                name: asset.name || asset.id,\n                            }),\n                        ],\n                    });\n                }\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService, notifyError } from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { addMinutes, endOfDay } from 'date-fns';\nimport { map, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'new-desk-flow-confirm',\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n    template: `\n        <button\n            icon\n            name=\"close-desk-confirm\"\n            matRipple\n            class=\"absolute right-2 top-2 bg-base-200\"\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-4 pt-4\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>Confirm Desk Booking</h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: time_format) +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            desk\n            class=\"flex space-x-1 py-4 px-2 border-t border-neutral\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>person</app-icon>\n                    <span i18n>{{\n                        (is_group | async) ? 'Multiple Desks' : 'Single desk'\n                    }}</span>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t max-h-[50vh] overflow-auto\"\n            *ngIf=\"assets.length\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"flex-1 leading-6 w-1/2 pr-2\">\n                <h3 i18n>Asset Requests</h3>\n                <div\n                    request\n                    *ngFor=\"let request of assets\"\n                    class=\"border bg-base-100 rounded-xl overflow-hidden\"\n                    [class.border-error]=\"end_time < request.deliver_at\"\n                    [class.border-base-300]=\"end_time >= request.deliver_at\"\n                >\n                    <div class=\"flex items-center space-x-2 p-3\">\n                        <div class=\"flex-1 flex items-center space-x-2\">\n                            <div class=\"text-sm\">\n                                Requested for\n                                {{\n                                    request.deliver_at_time\n                                        | date: 'MMM d, ' + time_format\n                                }}\n                            </div>\n                            <div\n                                class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                [matTooltip]=\"err_tooltip\"\n                                *ngIf=\"end_time < request.deliver_at\"\n                            >\n                                <app-icon>priority_high</app-icon>\n                            </div>\n                            <div class=\"flex-1\"></div>\n                            <div\n                                class=\"text-xs bg-success text-success-content px-2 py-1 rounded\"\n                            >\n                                {{ request.item_count }} item(s)\n                            </div>\n                        </div>\n                    </div>\n                    <div\n                        class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                    >\n                        <div\n                            class=\"flex items-center px-3 py-1 space-x-2 hover:opacity-90\"\n                            *ngFor=\"let item of request.items\"\n                        >\n                            <div class=\"flex items-center flex-1\">\n                                <span class=\"text-sm\">{{\n                                    item.name || 'Item'\n                                }}</span>\n                            </div>\n                            <div\n                                class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                            >\n                                x{{ item.quantity }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            locker\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"needs_locker\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>Requested Locker</h3>\n                <div class=\"flex space-x-2\">\n                    <span>Locker E-043</span>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                name=\"confirm-desk\"\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>\n    `,\n})\nexport class NewDeskFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n    public readonly is_group = this._state.options.pipe(map((_) => _.group));\n\n    public readonly postForm = async () => {\n        try {\n            if ((await this._state.options.pipe(take(1)).toPromise())?.group) {\n                await this._state.postFormForGroup();\n            } else {\n                await this._state.postForm();\n            }\n            this.dismiss(true);\n        } catch (e) {\n            notifyError(\n                typeof e === 'string'\n                    ? e\n                    : `Desk unavailable at the selected time`,\n            );\n        }\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get end_time() {\n        const end = addMinutes(\n            this.booking.date,\n            this.booking.duration,\n        ).valueOf();\n        return this.booking.all_day ? endOfDay(end).valueOf() : end;\n    }\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get needs_locker() {\n        return !!this.booking.secondary_resource;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset as Desk;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id,\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id,\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _settings: SettingsService,\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {\n    MatBottomSheet,\n    MatBottomSheetRef,\n} from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport {\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { isBefore, startOfMinute } from 'date-fns';\nimport { first } from 'rxjs/operators';\nimport { NewDeskFlowConfirmComponent } from './new-desk-flow-confirm.component';\n\n@Component({\n    selector: 'new-desk-flow-form',\n    styles: [],\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-200\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-200\"\n                    i18n\n                >\n                    Book Desk\n                </h2>\n                <new-desk-form-details [form]=\"form\"></new-desk-form-details>\n                <div class=\"sm:mb-2 border-b border-base-200 w-full\"></div>\n                <section\n                    class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2 sm:px-16 sm:mb-2\"\n                >\n                    <button\n                        btn\n                        name=\"open-desk-confirm\"\n                        matRipple\n                        confirm\n                        class=\"w-full sm:w-auto\"\n                        (click)=\"viewConfirm()\"\n                        i18n\n                    >\n                        Confirm Desk\n                    </button>\n                </section>\n            </div>\n        </div>\n    `,\n})\nexport class NewDeskFlowFormComponent implements OnInit {\n    public sheet_ref: MatBottomSheetRef<any>;\n    public level = '';\n    public levels = [];\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public readonly clearForm = () => {\n        this.level = this._org.building.id;\n        this._state.clearForm();\n    };\n\n    public readonly viewConfirm = () => {\n        const { asset_id, resources } = this.form.getRawValue();\n        if (resources?.length && !asset_id) {\n            this.form.patchValue({ asset_id: resources[0].id });\n        }\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this.sheet_ref = this._bottom_sheet.open(NewDeskFlowConfirmComponent);\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._state.setView('success');\n                this._router.navigate(['/book', 'new-desks', 'success']);\n            }\n        });\n    };\n\n    constructor(\n        private _state: BookingFormService,\n        private _router: Router,\n        private _org: OrganisationService,\n        private _bottom_sheet: MatBottomSheet,\n        private _settings: SettingsService\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _));\n        await this._org.active_levels.pipe(first((_) => _?.length > 0));\n        this._state.setOptions({ type: 'desk' });\n        this.level = this._org.building?.id;\n        this.levels = [\n            { id: this._org.building?.id, name: 'Any Level' },\n            ...this._org.levelsForBuilding(this._org.building),\n        ];\n        if (isBefore(this.form.value.date, Date.now())) {\n            this.form.patchValue({ date: startOfMinute(Date.now()).valueOf() });\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\nimport {\n    generateCalendarFileLink,\n    generateGoogleCalendarLink,\n    generateMicrosoftCalendarLink,\n} from 'libs/common/src/lib/calendar-links';\n\n@Component({\n    selector: 'new-desk-flow-success',\n    styles: [],\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium text-center\" i18n>\n                    {{ last_event.asset_name || last_event.asset_id\n                    }}{{ location }} Booked!\n                </h2>\n                <img src=\"assets/icons/success.svg\" />\n                <p class=\"text-center\" i18n>\n                    Your\n                    <span group *ngIf=\"last_event?.attendees?.length\">\n                        group of\n                        {{ last_event?.attendees?.length + 1 }}\n                    </span>\n                    desk{{ last_event?.attendees?.length ? 's' : '' }} has been\n                    successfully booked\n                    <span\n                        assets\n                        *ngIf=\"last_event?.extension_data?.assets?.length\"\n                    >\n                        including\n                        {{ last_event?.extension_data?.assets?.length }}\n                        asset(s)\n                    </span>\n                    for {{ last_event.date | date: 'mediumDate' }}\n                    <span *ngIf=\"!last_event?.all_day\">\n                        at {{ last_event.date | date: time_format }}-{{\n                            last_event.date + last_event.duration * 60 * 1000\n                                | date: time_format\n                        }}</span\n                    >.\n                </p>\n                <p *ngIf=\"true\">\n                    Please allow up to 5 minutes for you booking to be approved.\n                </p>\n                <div\n                    class=\"flex flex-col items-center space-y-4 p-4 relative\"\n                    *ngIf=\"show_links\"\n                >\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-outlook-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"outlook_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/outlook.svg\" class=\"w-6\" />\n                        <span i18n>Add to Outlook</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-google-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"google_link | sanitize: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <img src=\"assets/icons/gcal.svg\" class=\"w-6\" />\n                        <span i18n>Add to Google Calendar</span>\n                    </a>\n                    <a\n                        btn\n                        matRipple\n                        name=\"desk-ical-link\"\n                        class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                        [href]=\"ical_link | safe: 'url'\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferer\"\n                    >\n                        <app-icon class=\"text-xl\">download</app-icon>\n                        <span i18n>Download iCal File</span>\n                    </a>\n                </div>\n            </main>\n            <footer\n                class=\"sticky bottom-0 p-2 w-full border-t bg-base-100 border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    name=\"desk-confirm-continue\"\n                    matRipple\n                    class=\"w-full max-w-[32rem] mx-auto\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n})\nexport class NewDeskFlowSuccessComponent {\n    public outlook_link = '';\n    public google_link = '';\n    public ical_link = '';\n    public get location() {\n        const desk = this.last_event?.extension_data?.booking_asset;\n        if (!desk) return '';\n        return desk.zone\n            ? `, ${desk.zone.display_name || desk.zone.name || desk.zone.id}`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get show_links() {\n        return this._settings.get('app.desks.show_calendar_links');\n    }\n\n    public readonly viewCalendarLinks = () =>\n        this._state.openBookingLinkModal();\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {}\n\n    public ngOnInit() {\n        const event: any = {\n            ...this.last_event,\n            location: `${this.location}, ${this.last_event.asset_name || ''}`,\n        };\n        this.outlook_link = generateMicrosoftCalendarLink(event);\n        this.google_link = generateGoogleCalendarLink(event);\n        this.ical_link = generateCalendarFileLink(event);\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { Desk, OrganisationService } from '@placeos/organisation';\nimport { addDays, endOfDay, set } from 'date-fns';\n\n@Component({\n    selector: 'new-desk-form-details',\n    styles: [],\n    template: `\n        <!-- <div class=\"m-2 bg-warning p-2 text-center rounded shadow text-sm\">\n            The selected desk hasn't been booked. Please book the desk to be\n            able to check-in.\n        </div> -->\n        <div\n            class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n            *ngIf=\"form\"\n            [formGroup]=\"form\"\n        >\n            <section class=\"flex items-center\" *ngIf=\"allow_groups\">\n                <button\n                    matRipple\n                    class=\"relative h-16 flex items-center justify-center flex-1 space-x-2\"\n                    [class.text-secondary]=\"!(options | async)?.group\"\n                    (click)=\"setOptions({ group: false, members: [] })\"\n                >\n                    <app-icon class=\"text-2xl\">person</app-icon>\n                    <div class=\"\" i18n>Single</div>\n                    <div\n                        class=\"absolute h-1 inset-x-0 bottom-0 !m-0\"\n                        [class.bg-base-200]=\"(options | async)?.group\"\n                        [class.bg-secondary]=\"!(options | async)?.group\"\n                    ></div>\n                </button>\n                <button\n                    matRipple\n                    class=\"relative h-16 flex items-center justify-center flex-1 space-x-2\"\n                    [class.text-secondary]=\"(options | async)?.group\"\n                    (click)=\"setOptions({ group: true })\"\n                >\n                    <app-icon class=\"text-2xl\">group_add</app-icon>\n                    <div class=\"\" i18n>Group</div>\n                    <div\n                        class=\"absolute h-1 inset-x-0 bottom-0 !m-0\"\n                        [class.bg-base-200]=\"!(options | async)?.group\"\n                        [class.bg-secondary]=\"(options | async)?.group\"\n                    ></div>\n                </button>\n            </section>\n            <section class=\"p-2\" [class.!border-none]=\"allow_groups\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        1\n                    </div>\n                    <div class=\"text-xl\" i18n>Details</div>\n                </h3>\n                <div\n                    class=\"w-full\"\n                    *ngIf=\"can_book_for_others && !(options | async)?.group\"\n                >\n                    <label for=\"title\">Host<span>*</span></label>\n                    <a-user-search-field\n                        formControlName=\"user\"\n                        class=\"mb-4\"\n                    ></a-user-search-field>\n                </div>\n                <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                    <div class=\"flex-1 min-w-[256px]\">\n                        <label for=\"title\">Add Title<span>*</span></label>\n                        <mat-form-field appearance=\"outline\" class=\"w-full\">\n                            <input\n                                matInput\n                                name=\"title\"\n                                formControlName=\"title\"\n                                placeholder=\"e.g. Focus Time\"\n                            />\n                            <mat-error i18n\n                                >Booking title is required.</mat-error\n                            >\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex-1 min-w-[256px] relative\">\n                        <label for=\"date\" i18n>Date<span>*</span></label>\n                        <a-date-field\n                            name=\"date\"\n                            formControlName=\"date\"\n                            [to]=\"end_date\"\n                            i18n\n                        >\n                            Date and time must be in the future\n                        </a-date-field>\n                        <mat-checkbox\n                            formControlName=\"all_day\"\n                            *ngIf=\"allow_all_day\"\n                            class=\"absolute -top-2 right-0\"\n                            i18n\n                        >\n                            All Day\n                        </mat-checkbox>\n                    </div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"!form.value.all_day\"\n                >\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"start-time\" i18n>\n                            Start Time<span>*</span>\n                        </label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            [use_24hr]=\"use_24hr\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"end-time\" i18n>\n                            End Time<span>*</span>\n                        </label>\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.get('date')?.value\"\n                            [max]=\"10 * 60\"\n                            [min]=\"60\"\n                            [step]=\"60\"\n                            [use_24hr]=\"use_24hr\"\n                        >\n                        </a-duration-field>\n                    </div>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2\"\n                    *ngIf=\"can_book_lockers\"\n                >\n                    <div class=\"flex-1 w-1/3\">\n                        <mat-checkbox\n                            [ngModel]=\"!!form.value.secondary_resource\"\n                            (ngModelChange)=\"\n                                form.patchValue({\n                                    secondary_resource: $event ? 'locker' : ''\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            i18n\n                        >\n                            Require locker\n                        </mat-checkbox>\n                    </div>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"(options | async)?.group\">\n                <h3 class=\"space-x-2 flex items-center\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        2\n                    </div>\n                    <div class=\"text-xl\" i18n>Group Members</div>\n                    <div class=\"flex-1 w-px\"></div>\n                </h3>\n                <div class=\"overflow-hidden\">\n                    <a-user-list-field\n                        class=\"mt-4\"\n                        [ngModel]=\"(options | async)?.members || []\"\n                        (ngModelChange)=\"setOptions({ members: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></a-user-list-field>\n                </div>\n            </section>\n            <section class=\"p-2\" *ngIf=\"form.contains('resources')\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 3 : 2 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Desk</div>\n                </h3>\n                <desk-list-field formControlName=\"resources\"></desk-list-field>\n                <p\n                    *ngIf=\"(options | async)?.group\"\n                    class=\"text-center rounded px-2 py-1 bg-warning shadow text-xs\"\n                >\n                    Desks nearby to the selected desk will booked for group\n                    members\n                </p>\n            </section>\n            <section class=\"p-2\" *ngIf=\"has_assets\">\n                <h3 class=\"space-x-2 flex items-center mb-4\">\n                    <div\n                        class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                    >\n                        {{ (options | async)?.group ? 4 : 3 }}\n                    </div>\n                    <div class=\"text-xl\" i18n>Request Asset</div>\n                </h3>\n                <asset-list-field\n                    [options]=\"{\n                        date: form.getRawValue().date,\n                        duration: form.value.duration,\n                        all_day: form.value.all_day,\n                    }\"\n                    formControlName=\"assets\"\n                ></asset-list-field>\n            </section>\n        </div>\n    `,\n})\nexport class NewDeskFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n    @Output() public find = new EventEmitter<void>();\n    /** List of available buildings to select */\n    public readonly buildings = this._org.building_list;\n    /** List of available levels for the selected building */\n    public readonly levels = this._org.active_levels;\n    /** List of set options for desk booking */\n    public readonly options = this._state.options;\n    /** List of set options for desk booking */\n    public readonly features = this._state.features;\n\n    public readonly force_time = set(Date.now(), {\n        hours: 6,\n        minutes: 0,\n    }).valueOf();\n\n    /** Selected desk for booking */\n    public selected_desk: Desk;\n    public from_id = false;\n\n    public readonly recurrence_options = ['daily', 'weekly', 'monthly'];\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n\n    public get can_book_for_others() {\n        return this._settings.get('app.desks.can_book_for_others');\n    }\n\n    public get can_book_lockers() {\n        return this._settings.get('app.desks.can_book_lockers');\n    }\n    public get can_recurr() {\n        return this._settings.get('app.desks.recurrence_allowed');\n    }\n\n    public get allow_groups() {\n        return this._settings.get('app.desks.allow_groups');\n    }\n\n    public get has_assets() {\n        return !!this._settings.get('app.desks.has_assets');\n    }\n\n    public get needs_reason() {\n        return this._settings.get('app.desks.needs_reason') === true;\n    }\n\n    public get allow_time_changes() {\n        return !!this._settings.get('app.desks.allow_time_changes');\n    }\n\n    public get allow_all_day() {\n        return (\n            this.allow_time_changes &&\n            !!this._settings.get('app.desks.allow_all_day')\n        );\n    }\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.desks.available_period') || 90\n            )\n        ).valueOf();\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.form && this.form) {\n            if (this.selected_desk?.id) {\n                this.form.patchValue({ resources: [this.selected_desk] });\n            }\n        }\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService, ParkingService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'placeos-new-parking-flow',\n    template: `\n        <ng-container *ngIf=\"!(deny_parking_access | async); else deny_state\">\n            <ng-container\n                *ngIf=\"!(assigned_space | async); else assigned_state\"\n            >\n                <div class=\"bg-base-100 h-full w-full z-50\" [ngSwitch]=\"view\">\n                    <parking-flow-success *ngSwitchCase=\"'success'\">\n                    </parking-flow-success>\n                    <parking-flow-confirm *ngSwitchCase=\"'confirm'\">\n                    </parking-flow-confirm>\n                    <parking-flow-form *ngSwitchDefault></parking-flow-form>\n                </div>\n            </ng-container>\n        </ng-container>\n        <ng-template #assigned_state>\n            <div\n                class=\"bg-base-100 flex flex-col items-center justify-center h-full w-full z-50 space-y-4\"\n            >\n                <img src=\"assets/icons/parking-success.svg\" class=\"w-64 h-64\" />\n                <p>\n                    You are already assigned to parking space \"{{\n                        (assigned_space | async)?.name\n                    }}\"\n                </p>\n                <a btn matRipple class=\"w-48\" [routerLink]=\"['/your-bookings']\">\n                    View Your Bookings\n                </a>\n            </div>\n        </ng-template>\n        <ng-template #deny_state>\n            <div\n                class=\"bg-base-100 flex flex-col items-center justify-center h-full w-full z-50 space-y-4\"\n            >\n                <img src=\"assets/img/parking-space.svg\" class=\"w-64 h-64\" />\n                <p>\n                    Your user account is not allowed to book parking in this\n                    building.\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class NewParkingFlowComponent extends AsyncHandler implements OnInit {\n    public readonly deny_parking_access = this._parking.deny_parking_access;\n    public readonly assigned_space = this._parking.assigned_space;\n\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute,\n        private _parking: ParkingService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this._state.setOptions({ type: 'parking' });\n        this._state.form.patchValue({ booking_type: 'parking' });\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success')) this._state.setView('success');\n            })\n        );\n    }\n}\n","import { Component, Input, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler, SettingsService, notifyError } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'new-parking-flow-confirm',\n    template: ` <button\n            close\n            icon\n            matRipple\n            *ngIf=\"show_close\"\n            (click)=\"dismiss()\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n        <header class=\"flex items-center justify-between px-2\">\n            <h2 class=\"text-2xl font-medium mb-2\" i18n>\n                Confirm Parking Reservation\n            </h2>\n            <mat-spinner diameter=\"32\" *ngIf=\"loading | async\"></mat-spinner>\n        </header>\n        <section period class=\"flex space-x-1 py-4 px-2\">\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3>{{ booking.title || '~Untitled~' }}</h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>calendar_today</app-icon>\n                    <div date>{{ booking.date | date: 'fullDate' }}</div>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>schedule</app-icon>\n                    <div time>\n                        {{\n                            booking.all_day\n                                ? 'All Day'\n                                : (booking.date | date: time_format) +\n                                  ' - ' +\n                                  (booking.date + booking.duration * 60 * 1000\n                                      | date: time_format + ' (z)')\n                        }}\n                    </div>\n                </div>\n            </div>\n        </section>\n        <section\n            resource\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"booking_asset?.id\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 name>\n                    {{ booking_asset?.name || booking_asset?.id || '' }}\n                </h3>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>person</app-icon>\n                    <span i18n>Car Park</span>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <app-icon>place</app-icon>\n                    <div>{{ location }}</div>\n                </div>\n                <ng-container *ngFor=\"let feat of booking_asset.features\">\n                    <div features class=\"flex items-center space-x-2\">\n                        <app-icon>arrow_upward</app-icon>\n                        <div>{{ feat }}</div>\n                    </div>\n                </ng-container>\n            </div>\n        </section>\n        <section\n            assets\n            class=\"flex space-x-1 py-4 px-2 border-t\"\n            *ngIf=\"assets?.length\"\n        >\n            <app-icon class=\"text-success\">done</app-icon>\n            <div details class=\"leading-6\">\n                <h3 i18n>{{ assets_count }} Asset(s)</h3>\n                <div class=\"flex space-x-2\" *ngFor=\"let asset of assets\">\n                    <div class=\"h-5 w-5 bg-base-200 rounded-full\">\n                        {{ asset.amount }}\n                    </div>\n                    <span>{{ asset.name }}</span>\n                </div>\n            </div>\n        </section>\n        <footer class=\"p-2 w-full border-t border-base-200 mt-4\">\n            <button\n                confirm\n                btn\n                matRipple\n                class=\"w-full\"\n                *ngIf=\"!(loading | async)\"\n                (click)=\"postForm()\"\n                i18n\n            >\n                Confirm\n            </button>\n        </footer>`,\n    styles: [\n        `\n            section > app-icon {\n                font-size: 1.5rem;\n                margin-top: 0.3rem;\n            }\n\n            h3 {\n                font-size: 1.25rem;\n                font-weight: medium;\n                margin: 0.5rem 0;\n            }\n        `,\n    ],\n})\nexport class NewParkingFlowConfirmComponent extends AsyncHandler {\n    @Input() public show_close: boolean = false;\n\n    public readonly loading = this._state.loading;\n\n    public readonly postForm = async () => {\n        const r = await this._state.postForm().catch((_) => {\n            notifyError(`Unable to complete booking. ${_}`);\n        });\n        if (!r) return;\n        this.dismiss(true);\n    };\n    public readonly dismiss = (e?) => this._sheet_ref?.dismiss(e);\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get booking() {\n        return this._state.form.value as any;\n    }\n\n    public get assets() {\n        return this.booking.assets || null;\n    }\n\n    public get assets_count() {\n        return this.assets?.length\n            ? this.assets.reduce((a, b) => a + b.amount, 0)\n            : 0;\n    }\n\n    public get booking_asset() {\n        return this.booking.booking_asset;\n    }\n\n    public get location() {\n        const building = this._org.buildings.find(\n            (b) => b.id === this.booking_asset?.zone?.parent_id,\n        );\n        const level = this._org.levels.find(\n            (l) => l.id === this.booking_asset?.zone?.id,\n        );\n        return `${level?.display_name || level?.name}${building ? ',' : ''} ${\n            building?.address || building?.display_name || building?.name || ''\n        }`;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        @Optional() private _sheet_ref: MatBottomSheetRef,\n        private _settings: SettingsService,\n    ) {\n        super();\n    }\n}\n","import { Component } from '@angular/core';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { Router } from '@angular/router';\nimport { BookingFormService, ParkingService } from '@placeos/bookings';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    AsyncHandler,\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { NewParkingFlowConfirmComponent } from './parking-flow-confirm.component';\nimport { take } from 'rxjs/operators';\n\n@Component({\n    selector: 'parking-flow-form',\n    template: `\n        <div class=\"h-full w-full bg-base-200 overflow-auto\">\n            <div\n                class=\"max-w-full w-[48rem] mx-auto sm:my-4 bg-base-100 border border-base-200\"\n            >\n                <h2\n                    class=\"w-full p-4 sm:py-4 sm:px-16 text-2xl font-medium border-b border-base-200\"\n                    i18n\n                >\n                    {{ form.value.id ? 'Edit' : 'Book' }} Parking Reservation\n                </h2>\n                <form\n                    class=\"p-0 sm:py-4 sm:px-16 divide-y divide-base-200 space-y-2\"\n                    [formGroup]=\"form\"\n                >\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                1\n                            </div>\n                            <div class=\"text-xl\" i18n>Details</div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                matRipple\n                                (click)=\"\n                                    hide_block.details = !hide_block.details\n                                \"\n                            >\n                                <app-icon>{{\n                                    hide_block.details\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.details ? 'hide' : 'show'\"\n                        >\n                            <parking-form-details\n                                class=\"mt-4\"\n                                [form]=\"form\"\n                            ></parking-form-details>\n                        </div>\n                    </section>\n                    <section class=\"p-2\">\n                        <h3 class=\"space-x-2 flex items-center\">\n                            <div\n                                class=\"bg-base-200 rounded-full h-6 w-6 flex items-center justify-center\"\n                            >\n                                2\n                            </div>\n                            <div class=\"text-xl\" i18n>Space</div>\n                            <div class=\"flex-1 w-px\"></div>\n                            <button\n                                icon\n                                matRipple\n                                (click)=\"hide_block.space = !hide_block.space\"\n                            >\n                                <app-icon>{{\n                                    hide_block.space\n                                        ? 'expand_more'\n                                        : 'expand_less'\n                                }}</app-icon>\n                            </button>\n                        </h3>\n                        <div\n                            class=\"overflow-hidden\"\n                            [@show]=\"hide_block.space ? 'hide' : 'show'\"\n                        >\n                            <parking-space-list-field\n                                formControlName=\"resources\"\n                            ></parking-space-list-field>\n                        </div>\n                    </section>\n                    <section\n                        class=\"flex flex-col sm:flex-row items-center sm:space-x-2 p-2\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            confirm\n                            class=\"mb-2 sm:mb-0 w-full sm:w-auto\"\n                            (click)=\"viewConfirm()\"\n                            i18n\n                        >\n                            Confirm Reservation\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            clear-form\n                            class=\"inverse w-full sm:w-auto\"\n                            (click)=\"clearForm()\"\n                            i18n\n                        >\n                            {{ form.value.id ? 'Reset' : 'Clear' }} Form\n                        </button>\n                    </section>\n                </form>\n            </div>\n        </div>\n    `,\n    styles: [``],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n})\nexport class ParkingFlowFormComponent extends AsyncHandler {\n    public hide_block: Record<string, boolean> = {};\n    public sheet_ref: any;\n\n    public readonly clearForm = () => this._state.resetForm();\n\n    public get form() {\n        return this._state.form;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _bottom_sheet: MatBottomSheet,\n        private _parking: ParkingService,\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        this._state.setOptions({ type: 'parking' });\n        this.form.patchValue({ all_day: true, user: currentUser() });\n        const user = await this._parking.user_details.pipe(take(1)).toPromise();\n        if (user?.email) {\n            this.form.patchValue({ plate_number: user.plate_number });\n        }\n    }\n\n    public readonly viewConfirm = () => {\n        const { asset_id, resources } = this.form.getRawValue();\n        if (resources?.length && !asset_id) {\n            this.form.patchValue({ asset_id: resources[0].id });\n        }\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', ',\n                )}]`,\n            );\n        this.sheet_ref = this._bottom_sheet.open(\n            NewParkingFlowConfirmComponent,\n        );\n        this.sheet_ref.instance.show_close = true;\n        this.sheet_ref.afterDismissed().subscribe((value) => {\n            if (value) {\n                this._router.navigate(['/book', 'new-parking', 'success']);\n                this._state.setView('success');\n            }\n        });\n    };\n}\n","import { Component } from '@angular/core';\nimport { BookingFormService } from '@placeos/bookings';\nimport { SettingsService } from '@placeos/common';\n\n@Component({\n    selector: 'parking-flow-success',\n    template: `\n        <div\n            class=\"absolute inset-0 bg-base-100 flex flex-col z-50 overflow-auto\"\n        >\n            <main\n                class=\"flex-1 flex flex-col items-center justify-center space-y-2 p-8\"\n            >\n                <h2 class=\"text-2xl font-medium\" i18n>\n                    Parking Space Confirmed!\n                </h2>\n                <p class=\"text-center max-w-[32rem]\" i18n>\n                    Your\n                    <span>\n                        parking space reservation for\n                        {{ last_event.asset_name }} at {{ location }}, </span\n                    >has been successfully booked for the\n                    {{ last_event.date | date: 'mediumDate' }} at\n                    {{ last_event.date | date: time_format }}-{{\n                        last_event.date + last_event.duration * 60 * 1000\n                            | date: time_format\n                    }}.\n                </p>\n                <img src=\"assets/icons/parking-success.svg\" />\n            </main>\n            <footer\n                class=\"sticky bottom-0 bg-base-100 p-2 w-full border-t border-base-200 mt-4 flex items-center justify-center\"\n            >\n                <a\n                    btn\n                    matRipple\n                    class=\"w-full max-w-[32rem]\"\n                    [routerLink]=\"['/']\"\n                    i18n\n                >\n                    Great, thanks!\n                </a>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ParkingFlowSuccessComponent {\n    public get location() {\n        const resource = this.last_event?.extension_data?.booking_asset;\n        if (!resource) return '';\n        return resource.zone\n            ? `, ${\n                  resource.zone.display_name ||\n                  resource.zone.name ||\n                  resource.zone.id\n              }`\n            : '';\n    }\n\n    public get last_event() {\n        return this._state.last_success;\n    }\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, endOfDay } from 'date-fns';\n\n@Component({\n    selector: 'parking-form-details',\n    template: `\n        <div *ngIf=\"form\" [formGroup]=\"form\">\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\" i18n>Building<span>*</span></label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <mat-select\n                            [ngModel]=\"building | async\"\n                            (ngModelChange)=\"setBuilding($event)\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of building_list | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                        <mat-error i18n>Building is required</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div class=\"flex items-center flex-wrap sm:space-x-2\">\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"title\" i18n>Add Title<span>*</span></label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <input\n                            matInput\n                            name=\"title\"\n                            formControlName=\"title\"\n                            placeholder=\"e.g. Team Meeting\"\n                        />\n                        <mat-error i18n>Meeting title is required.</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"date\" i18n>Date<span>*</span></label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date\"\n                        [to]=\"end_date\"\n                        i18n\n                    >\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n            </div>\n            <div class=\"flex items-center space-x-2\" *ngIf=\"false\">\n                <div class=\"flex-1 w-1/3\">\n                    <label for=\"start-time\" i18n\n                        >Start Time<span>*</span></label\n                    >\n                    <a-time-field\n                        name=\"start-time\"\n                        [ngModel]=\"form.value.date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                        [use_24hr]=\"use_24hr\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex-1 w-1/3 relative\">\n                    <label for=\"end-time\" i18n>End Time<span>*</span></label>\n                    <a-duration-field\n                        name=\"end-time\"\n                        formControlName=\"duration\"\n                        [time]=\"form?.value?.date\"\n                        [max]=\"max_duration\"\n                        [use_24hr]=\"use_24hr\"\n                    >\n                    </a-duration-field>\n                    <mat-checkbox\n                        formControlName=\"all_day\"\n                        *ngIf=\"allow_all_day\"\n                        class=\"absolute -top-2 right-0\"\n                        i18n\n                    >\n                        All Day\n                    </mat-checkbox>\n                </div>\n            </div>\n            <div *ngIf=\"can_book_for_others\" class=\"w-full flex flex-col\">\n                <label for=\"host\">\n                    {{ 'FORM.HOST' | translate }}<span>*</span>\n                </label>\n                <host-select-field\n                    name=\"host\"\n                    formControlName=\"organiser\"\n                ></host-select-field>\n            </div>\n            <div class=\"flex flex-col\">\n                <label for=\"plate-number\" i18n>Plate Number</label>\n                <mat-form-field appearance=\"outline\" class=\"w-full\">\n                    <input\n                        matInput\n                        name=\"plate-number\"\n                        formControlName=\"plate_number\"\n                        placeholder=\"e.g. ABC123\"\n                    />\n                    <mat-error i18n>A plate number is required</mat-error>\n                </mat-form-field>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ParkingFormDetailsComponent extends AsyncHandler {\n    @Input() public form: FormGroup;\n\n    public readonly building = this._org.active_building;\n    public readonly building_list = this._org.building_list;\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.parking.available_period') || 7,\n            ),\n        );\n    }\n\n    public get max_duration() {\n        return this._settings.get('app.bookings.max_duration') || 480;\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.bookings.allow_all_day');\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.bookings.can_book_for_others');\n    }\n\n    public readonly setBuilding = (bld) => (this._org.building = bld);\n\n    constructor(\n        private _settings: SettingsService,\n        private _org: OrganisationService,\n    ) {\n        super();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'placeos-book-parking-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <parking-flow-confirm></parking-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        [calendar]=\"last_success?.host\"\n                        route=\"parking\"\n                        type=\"parking\"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <parking-flow-map></parking-flow-map>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookParkingFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: BookingFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.setOptions({ type: 'parking' });\n        this._state.loadForm();\n        if (!this._state.form) this._state.newForm();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: 'parking-flow-confirm',\n    template: ``,\n    styles: [``]\n})\nexport class ParkingFlowConfirmComponent {\n    \n}","import { Component, Inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BookingFormService } from '@placeos/bookings';\nimport { AsyncHandler } from '@placeos/common';\nimport { MAP_FEATURE_DATA } from '@placeos/components';\nimport { ExploreParkingService, ExploreStateService } from '@placeos/explore';\nimport { OrganisationService } from '@placeos/organisation';\nimport { addDays, format, startOfDay } from 'date-fns';\nimport { BehaviorSubject } from 'rxjs';\nimport { first, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'space-ping',\n    template: `\n        <div\n            class=\"absolute inset-0 pointer-events-auto\"\n            [style.transform]=\"'scale(' + zoom * ratio + ')'\"\n        >\n            <div\n                class=\"absolute inset-0 animate-ping border-4 border-green-600\"\n            ></div>\n        </div>\n    `,\n})\nclass SpacePingComponent extends AsyncHandler {\n    public zoom = 1;\n    public ratio = 1;\n    constructor(@Inject(MAP_FEATURE_DATA) private _details: any) {\n        super();\n        this.subscription(\n            'zoom',\n            this._details.zoom$?.subscribe((_) => (this.zoom = _))\n        );\n        this.subscription(\n            'ratio',\n            this._details.ratio$?.subscribe((_) => (this.ratio = _))\n        );\n    }\n}\n\n@Component({\n    selector: 'parking-flow-map',\n    template: `\n        <div\n            class=\"w-full h-full flex flex-col items-center relative\"\n            *ngIf=\"!(loading | async); else load_state\"\n        >\n            <div\n                class=\"p-4 flex items-center justify-center bg-secondary w-full shadow z-10 text-white space-x-2\"\n            >\n                <button\n                    matRipple\n                    *ngFor=\"let date of dates\"\n                    [class.selected]=\"date.id === (options | async)?.date\"\n                    class=\"border border-white flex flex-col items-center justify-center h-24 w-28 rounded\"\n                    (click)=\"setDate(date.id)\"\n                >\n                    <p class=\"mb-2 font-medium\">{{ date.name }}</p>\n                    <p class=\"text-2xl\">\n                        {{ ((counts | async) || {})[date.id] || '0' }}\n                    </p>\n                    <p class=\"text-sm\">Available</p>\n                </button>\n            </div>\n            <div class=\"flex w-full h-1/2 flex-1 z-0\">\n                <div\n                    class=\"p-2 sm:w-[18rem] w-full h-full bg-base-200 shadow border-r border-base-200 z-10 overflow-auto space-y-2\"\n                >\n                    <div\n                        class=\"bg-base-100 sticky top-0 w-full z-10\"\n                        *ngIf=\"(levels | async)?.length > 1\"\n                    >\n                        <mat-form-field\n                            appearance=\"outline\"\n                            class=\"w-full h-[3.25rem]\"\n                        >\n                            <mat-select\n                                [ngModel]=\"level | async\"\n                                (ngModelChange)=\"setLevel($event?.id)\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let lvl of levels | async\"\n                                    [value]=\"lvl\"\n                                >\n                                    {{ lvl.display_name || lvl.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <p>{{ (available | async)?.length }} space(s) available</p>\n                    <button\n                        matRipple\n                        class=\"flex items-center justify-between bg-base-100 rounded-lg border border-base-200 p-2 w-full\"\n                        [class.active]=\"(active_space | async)?.id === space.id\"\n                        (click)=\"setActive(space)\"\n                        *ngFor=\"let space of available | async\"\n                    >\n                        <div class=\"text-lg\">Bay No. {{ space.name }}</div>\n                        <div class=\"opacity-60\">\n                            {{ levelName(space.zone_id) }}\n                        </div>\n                    </button>\n                </div>\n                <div\n                    class=\"bg-base-200 flex-1 w-1/2 h-full z-0 relative hidden sm:block\"\n                >\n                    <interactive-map\n                        [src]=\"url | async\"\n                        [zoom]=\"(positions | async)?.zoom\"\n                        [center]=\"(positions | async)?.center\"\n                        [styles]=\"styles | async\"\n                        [features]=\"features | async\"\n                        [actions]=\"actions | async\"\n                        [labels]=\"labels | async\"\n                    ></interactive-map>\n                    <explore-zoom-controls\n                        class=\"absolute bottom-0 right-0\"\n                    ></explore-zoom-controls>\n                </div>\n                <div\n                    *ngIf=\"active_space | async\"\n                    class=\"absolute left-1/2 bottom-2 -translate-x-1/2 bg-base-100 shadow rounded p-4 flex flex-col space-y-2\"\n                >\n                    <p>\n                        Parking Bay No.\n                        {{ (active_space | async).name }} selected.\n                    </p>\n                    <p\n                        class=\"p-2 rounded text-sm max-w-[20rem] text-center text-pending leading-tight\"\n                        *ngIf=\"(existing | async)?.length\"\n                    >\n                        Note that your existing parking space reservation will\n                        be replaced\n                    </p>\n                    <button btn matRipple (click)=\"reserveSpace()\">\n                        Reserve Space\n                    </button>\n                </div>\n                <div\n                    class=\"absolute inset-0 bg-base-100/80 flex flex-col items-center justify-center z-50\"\n                    *ngIf=\"!(levels | async)?.length\"\n                >\n                    <p>\n                        Parking is not available for\n                        {{\n                            (building | async)?.display_name ||\n                                (building | async)?.name\n                        }}\n                    </p>\n                </div>\n            </div>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 bg-base-100/80 flex flex-col items-center justify-center z-50 space-y-2\"\n                *ngIf=\"!(levels | async)?.length\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Reserving parking space...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            .active {\n                background-color: var(--s) !important;\n                color: #fff;\n            }\n\n            .selected {\n                background-color: #fff !important;\n                color: #000d;\n            }\n        `,\n    ],\n    providers: [ExploreParkingService],\n})\nexport class ParkingFlowMapComponent extends AsyncHandler {\n    /** Observable for the active map */\n    public readonly url = this._state.map_url;\n    /** Observable for the active map */\n    public readonly styles = this._state.map_styles;\n    /** Observable for the active map */\n    public readonly positions = this._state.map_positions;\n    /** Observable for the active map */\n    public readonly features = this._state.map_features;\n    /** Observable for the active map */\n    public readonly actions = this._state.map_actions;\n    /** Observable for the labels map */\n    public readonly labels = this._state.map_labels;\n\n    public readonly building = this._org.active_building;\n\n    public readonly level = this._state.level;\n\n    public readonly levels = this._parking.levels;\n\n    public readonly available = this._parking.available_spaces;\n\n    // public readonly counts = this._parking.week_availablility;\n\n    public readonly options = this._parking.options;\n\n    public readonly loading = this._booking.loading;\n\n    public readonly active_space = new BehaviorSubject(null);\n\n    public readonly dates = new Array(7).fill(0).map((_, idx) => ({\n        id: startOfDay(addDays(Date.now(), idx)).valueOf(),\n        name: format(addDays(Date.now(), idx), 'EEE, dd MMM'),\n        available: 0,\n    }));\n\n    public readonly setDate = (d) => this._parking.setOptions({ date: d });\n\n    public levelName(zone_id) {\n        const lvl = this._org.levelWithID([zone_id]);\n        return lvl?.display_name || lvl?.name || '';\n    }\n\n    public setActive(space) {\n        if (space === this.active_space.getValue())\n            this.active_space.next(null);\n        else {\n            this._booking.form.patchValue({\n                asset_id: space.id,\n                asset_name: space.name,\n            });\n            this.active_space.next(space);\n        }\n    }\n\n    public readonly setLevel = (l) => this._state.setLevel(l);\n    public readonly reserveSpace = async () => {\n        // const events = await this._parking.user_events\n        //     .pipe(take(1))\n        //     .toPromise();\n        // if (events.length) this._booking.form.patchValue({ id: events[0].id }); // Prevent booking duplicate parking spaces\n        // await this._booking.postForm();\n        // this._router.navigate(['book', 'parking', 'success']);\n    };\n\n    constructor(\n        private _state: ExploreStateService,\n        private _parking: ExploreParkingService,\n        private _org: OrganisationService,\n        private _booking: BookingFormService,\n        private _router: Router\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._state.reset();\n        this.subscription(\n            'levels',\n            this._parking.levels.subscribe((levels) => {\n                this._state.setLevel(levels[0]?.id);\n            })\n        );\n        this.subscription(\n            'spaces',\n            this._parking.available_spaces.subscribe((spaces) => {\n                this._state.setActions(\n                    'parking_spaces',\n                    (spaces || []).map((_) => ({\n                        id: _.map_id,\n                        action: 'click',\n                        callback: () => this.setActive(_),\n                    }))\n                );\n            })\n        );\n        this.subscription(\n            'active_space',\n            this.active_space.subscribe((space) => {\n                if (!space) return this._state.setFeatures('parking_space', []);\n                this._state.setFeatures('parking_space', [\n                    {\n                        location: space.map_id,\n                        content: SpacePingComponent,\n                        full_size: true,\n                        z_index: 0,\n                    },\n                ]);\n            })\n        );\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\n\n@Component({\n    selector: 'placeos-book-space-flow',\n    template: `\n        <div class=\"bg-base-100 h-full w-full\">\n            <ng-container [ngSwitch]=\"view\">\n                <ng-container *ngSwitchCase=\"'find'\">\n                    <space-flow-find></space-flow-find>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'confirm'\">\n                    <space-flow-confirm></space-flow-confirm>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'success'\">\n                    <flow-success\n                        [calendar]=\"last_success?.host\"\n                    ></flow-success>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <space-flow-form></space-flow-form>\n                </ng-container>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookSpaceFlowComponent extends AsyncHandler implements OnInit {\n    public get view() {\n        return this._state.view;\n    }\n    public get last_success() {\n        return this._state.last_success;\n    }\n\n    constructor(\n        private _state: EventFormService,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.loadForm();\n        this.subscription(\n            'route.params',\n            this._route.paramMap.subscribe((param) => {\n                if (param.has('step'))\n                    this._state.setView(param.get('step') as any);\n            })\n        );\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((param) => {\n                if (param.has('success'))\n                    this._state.setView(param.get('success') as any);\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\nimport { CateringItem } from '@placeos/catering';\nimport { notifyError, SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'space-flow-confirm',\n    template: `\n        <div topbar class=\"\">\n            <a\n                button\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'spaces', 'find']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div\n            class=\"flex flex-col items-center space-y-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n        >\n            <h2 class=\"text-xl uppercase font-medium w-full my-4\">\n                Your meeting details\n            </h2>\n            <div\n                class=\"flex items-center py-2 space-x-2 border-b border-base-200 w-full\"\n            >\n                <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                    <app-icon>event</app-icon>\n                </div>\n                <div class=\"flex-1 truncate\">\n                    {{ form.value.date | date: 'longDate' }}\n                    <span *ngIf=\"!form.value.all_day\">\n                        at {{ form.value.date | date: 'shortTime' }} ~\n                        {{\n                            form.value.date + form.value.duration * 60 * 1000\n                                | date: 'shortTime'\n                        }}\n                    </span>\n                </div>\n                <a\n                    btn\n                    matRipple\n                    class=\"clear underline\"\n                    [routerLink]=\"['/book', 'spaces', 'form']\"\n                    >Edit</a\n                >\n            </div>\n            <div\n                class=\"flex items-center py-2 space-x-2 border-b border-base-200 w-full\"\n            >\n                <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                    <app-icon>schedule</app-icon>\n                </div>\n                <div class=\"flex-1 truncate\">\n                    {{\n                        form.value.all_day\n                            ? 'All Day'\n                            : (form.value.duration | duration)\n                    }}\n                </div>\n                <a\n                    btn\n                    matRipple\n                    class=\"clear underline\"\n                    [routerLink]=\"['/book', 'spaces', 'form']\"\n                >\n                    Edit\n                </a>\n            </div>\n            <div class=\"border-b border-base-200 w-full\">\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>place</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.get('resources')?.value?.length }} Space(s)\n                    </div>\n                    <button\n                        matRipple\n                        [disabled]=\"!form.get('resources')?.value?.length\"\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_spaces = !show_spaces\"\n                    >\n                        {{ show_spaces ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'find']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_spaces\n                            ? '0'\n                            : form.get('resources')?.value?.length * 2.5 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-10 pl-12\"\n                        *ngFor=\"let space of form.get('resources')?.value\"\n                    >\n                        <span\n                            >{{ space.display_name || space.name }} [{{\n                                space.level?.display_name || space.level?.name\n                            }}]</span\n                        >\n\n                        <button\n                            matRipple\n                            class=\"bg-transparent border-none underline\"\n                            *ngIf=\"can_view_location\"\n                        >\n                            Map\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"border-b border-base-200 w-full\">\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>group</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.get('attendees')?.value?.length || 0 }}\n                        Attendee(s)\n                    </div>\n                    <button\n                        matRipple\n                        [disabled]=\"!form.get('attendees')?.value?.length\"\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_people = !show_people\"\n                    >\n                        {{ show_people ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'form']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_people\n                            ? '0'\n                            : form.get('attendees')?.value?.length * 3 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-12 pl-12 space-x-2\"\n                        *ngFor=\"let user of form.get('attendees')?.value\"\n                    >\n                        <a-user-avatar\n                            class=\"text-sm\"\n                            [user]=\"user\"\n                        ></a-user-avatar>\n                        <span>{{ user.name || user.email }}</span>\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"border-b border-base-200 w-full\"\n                *ngIf=\"form.value.catering?.length\"\n            >\n                <div class=\"flex items-center py-2 space-x-2 \">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>group</app-icon>\n                    </div>\n                    <div class=\"flex-1 truncate\">\n                        {{ form.value.catering[0]?.item_count || 0 }}\n                        Catering Item(s)\n                    </div>\n                    <button\n                        matRipple\n                        class=\"clear bg-transparent border-none underline\"\n                        (click)=\"show_catering = !show_catering\"\n                    >\n                        {{ show_people ? 'Hide' : 'Show' }}\n                    </button>\n                    <a\n                        btn\n                        matRipple\n                        class=\"clear underline\"\n                        [routerLink]=\"['/book', 'spaces', 'form']\"\n                        >Edit</a\n                    >\n                </div>\n                <div\n                    list\n                    [style.height]=\"\n                        !show_catering\n                            ? '0'\n                            : form.value.catering[0]?.items.length * 3 + 'rem'\n                    \"\n                    class=\"overflow-hidden\"\n                >\n                    <div\n                        class=\"flex items-center h-12 pl-12 space-x-2\"\n                        *ngFor=\"let item of form.value.catering[0]?.items\"\n                    >\n                        <div class=\"flex-1 w-1/2\">\n                            <div class=\"flex-1 w-1/2\">{{ item.name }}</div>\n                            <div\n                                class=\"text-xs underline\"\n                                *ngIf=\"item.options.length\"\n                                [matTooltip]=\"optionsFor(item)\"\n                            >\n                                {{ item.options.length }} option{{\n                                    item.options.length === 1 ? '' : 's'\n                                }}\n                                selected\n                            </div>\n                        </div>\n                        <div\n                            class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                        >\n                            {{ item.total_cost / 100 | currency: code }}\n                        </div>\n                        <a-counter [(ngModel)]=\"item.quantity\"></a-counter>\n                    </div>\n                </div>\n            </div>\n            <button\n                matRipple\n                class=\"w-32\"\n                confirm\n                [disabled]=\"loading\"\n                (click)=\"postForm()\"\n            >\n                <span *ngIf=\"!loading\">Confirm</span>\n                <mat-spinner\n                    class=\"mx-auto\"\n                    [diameter]=\"24\"\n                    *ngIf=\"loading\"\n                ></mat-spinner>\n            </button>\n        </div>\n        <\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: #00539f;\n            }\n\n            [list] {\n                transition: height 200ms;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowConfirmComponent {\n    public show_spaces = false;\n    public show_people = false;\n    public show_catering = false;\n    public loading = false;\n\n    public readonly postForm = async () => {\n        this.loading = true;\n        await this._state\n            .postForm()\n            .catch((_) =>\n                notifyError(\n                    _ instanceof Object ? _.message || 'Bad Request' : _\n                )\n            );\n        this.loading = false;\n    };\n\n    public optionsFor(item: CateringItem) {\n        return item.options.map((i) => i.name).join('\\n');\n    }\n\n    public get can_view_location() {\n        return !this._settings.get('app.no_maps');\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: EventFormService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, Input, EventEmitter, Output } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { CateringOrder, CateringStateService } from '@placeos/catering';\nimport { SettingsService } from '@placeos/common';\nimport { EventFlowOptions } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'detailed-book-space-form',\n    template: `\n        <form *ngIf=\"form\" [formGroup]=\"form\">\n            <section class=\"mb-4 border-b border-base-200\">\n                <div\n                    class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                >\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                        <label for=\"date\">Date</label>\n                        <a-date-field name=\"date\" formControlName=\"date\">\n                            Date and time must be in the future\n                        </a-date-field>\n                    </div>\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                        <label for=\"start-time\">Start Time</label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex flex-col flex-1 w-full sm:w-1/3 relative\">\n                        <label for=\"end-time\">End Time</label>\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form.value.date\"\n                            [max]=\"max_duration\"\n                        >\n                        </a-duration-field>\n                        <mat-checkbox\n                            formControlName=\"all_day\"\n                            *ngIf=\"allow_all_day\"\n                            class=\"absolute top-0 right-0\"\n                        >\n                            All Day\n                        </mat-checkbox>\n                    </div>\n                </div>\n                <div\n                    class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                >\n                    <div\n                        class=\"flex flex-col flex-1 w-full\"\n                        *ngIf=\"show_features && features?.length\"\n                    >\n                        <label for=\"building\">Building</label>\n                        <mat-form-field\n                            overlay\n                            buildings\n                            class=\"w-full h-[3.25rem]\"\n                            *ngIf=\"(buildings | async)?.length > 1\"\n                            appearance=\"outline\"\n                        >\n                            <mat-select\n                                placeholder=\"Select Building...\"\n                                [ngModel]=\"building\"\n                                (ngModelChange)=\"setBuilding($event)\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let bld of buildings | async\"\n                                    [value]=\"bld\"\n                                >\n                                    {{ bld.display_name || bld.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <div\n                        class=\"flex flex-col flex-1 w-full\"\n                        *ngIf=\"show_features && features?.length\"\n                    >\n                        <label for=\"features\">Features</label>\n                        <mat-form-field\n                            class=\"w-full h-[3.25rem]\"\n                            overlay\n                            appearance=\"outline\"\n                        >\n                            <mat-select\n                                [placeholder]=\"'Any ' + features_label\"\n                                multiple\n                                [ngModel]=\"options?.features\"\n                                (ngModelChange)=\"\n                                    optionsChange.emit({ features: $event })\n                                \"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                            >\n                                <mat-option\n                                    *ngFor=\"let item of features\"\n                                    [value]=\"item\"\n                                >\n                                    {{ item }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                </div>\n            </section>\n            <section\n                class=\"mb-4 border-b border-base-200\"\n                *ngIf=\"can_book_for_others || !hide_attendees\"\n            >\n                <div\n                    class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n                    *ngIf=\"can_book_for_others\"\n                >\n                    <label for=\"host\">Host<span>*</span></label>\n                    <host-select-field\n                        name=\"host\"\n                        formControlName=\"organiser\"\n                    ></host-select-field>\n                </div>\n                <div\n                    class=\"flex flex-col w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-2\"\n                    *ngIf=\"!hide_attendees\"\n                >\n                    <label for=\"attendees\">Attendees</label>\n                    <a-user-list-field\n                        name=\"attendees\"\n                        [hide_actions]=\"hide_actions\"\n                        formControlName=\"attendees\"\n                    ></a-user-list-field>\n                </div>\n            </section>\n            <section class=\"mb-4 border-b border-base-200\">\n                <div class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto\">\n                    <div class=\"flex flex-col\">\n                        <label for=\"title\"\n                            >Meeting Subject <span>*</span></label\n                        >\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                name=\"title\"\n                                matInput\n                                formControlName=\"title\"\n                                placeholder=\"Meeting title\"\n                            />\n                            <mat-error>Meeting Subject is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div\n                        class=\"flex flex-col resize-y mb-4\"\n                        *ngIf=\"!hide_notes\"\n                    >\n                        <label for=\"notes\">Notes</label>\n                        <rich-text-input\n                            name=\"notes\"\n                            formControlName=\"body\"\n                            placeholder=\"Add meeting notes here...\"\n                        ></rich-text-input>\n                    </div>\n                    <div class=\"flex flex-col mb-4\" *ngIf=\"has_catering\">\n                        <label>Catering</label>\n                        <an-action-field (onAction)=\"editCatering()\">\n                            <div\n                                class=\"opacity-40\"\n                                *ngIf=\"!form?.value.catering?.length\"\n                            >\n                                Add catering\n                            </div>\n                            <div\n                                class=\"flex items-center\"\n                                *ngIf=\"form?.value.catering?.length\"\n                            >\n                                <div class=\"flex-1 w-1/2\">\n                                    {{ form?.value.catering[0].item_count }}\n                                    item(s)\n                                </div>\n                                <div class=\"text-xs opacity-60 px-4\">\n                                    {{\n                                        form?.value.catering[0].total_cost / 100\n                                            | currency: code\n                                    }}\n                                </div>\n                            </div>\n                        </an-action-field>\n                    </div>\n                </div>\n            </section>\n        </form>\n    `,\n    styles: [``],\n})\nexport class DetailBookSpaceFormComponent {\n    @Input() public form: FormGroup;\n    @Input() public options: EventFlowOptions;\n    @Input() public features: string[] = [];\n    @Output() public optionsChange = new EventEmitter<EventFlowOptions>();\n\n    public readonly buildings = this._org.building_list;\n    public readonly setBuilding = (b) => (this._org.building = b);\n\n    public get building() {\n        return this._org.building;\n    }\n\n    public get has_catering() {\n        return !!this._settings.get('app.events.has_catering');\n    }\n\n    public get hide_actions() {\n        return !!this._settings.get('app.events.hide_user_actions');\n    }\n\n    public get hide_notes() {\n        return !!this._settings.get('app.events.hide_notes');\n    }\n\n    public get hide_attendees() {\n        return !!this._settings.get('app.events.hide_attendees');\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.events.can_book_for_others');\n    }\n\n    public get allow_all_day() {\n        return this._settings.get('app.events.allow_all_day');\n    }\n\n    public get max_duration() {\n        return this._settings.get('app.events.max_duration') || 4 * 60;\n    }\n\n    public get show_features() {\n        return !!this._settings.get('app.events.features_on_form');\n    }\n\n    public get features_label() {\n        return this._settings.get('app.events.features_label') || 'feature';\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    public readonly editCatering = async () =>\n        this.form.patchValue({\n            catering: [\n                await this._catering.manageCateringOrder(\n                    (this.form.value.catering\n                        ? this.form.value.catering[0]\n                        : null) || new CateringOrder(),\n                ),\n            ],\n        });\n\n    constructor(\n        private _catering: CateringStateService,\n        private _org: OrganisationService,\n        private _settings: SettingsService,\n    ) {}\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Space } from '@placeos/spaces';\nimport { MapLocateModalComponent } from '@placeos/components';\n\n@Component({\n    selector: 'space-flow-find-item',\n    template: `\n        <div\n            class=\"flex items-center bg-base-100 p-2 my-2 shadow w-[640px] max-w-[calc(100%-2rem)] mx-auto rounded\"\n        >\n            <div class=\"flex flex-col flex-1 space-y-2 \">\n                <div class=\"flex items-center\">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>place</app-icon>\n                    </div>\n                    <span\n                        >{{ space?.level?.display_name || space?.level?.name }},\n                        {{ space?.display_name || space?.name }}</span\n                    >\n                </div>\n                <div class=\"flex items-center\">\n                    <div class=\"p-2 rounded-full bg-base-200 mr-2\">\n                        <app-icon>group</app-icon>\n                    </div>\n                    <span>{{ space?.capacity || 0 }} People</span>\n                </div>\n            </div>\n            <div class=\"flex flex-col space-y-2 ml-2\">\n                <button\n                    matRipple\n                    book\n                    [class.bg-warning]=\"multiple && book\"\n                    [class.border-pending]=\"multiple && book\"\n                    (click)=\"bookSpace()\"\n                >\n                    {{ multiple ? (book ? 'Remove' : 'Select') : 'Book' }}\n                </button>\n                <button\n                    locate\n                    btn\n                    matRipple\n                    class=\"inverse\"\n                    (click)=\"viewLocation()\"\n                >\n                    Map\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            button {\n                width: 8rem;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowFindItemComponent {\n    /** Space to display details for */\n    @Input() public space: Space;\n    /** Whether space should be booked */\n    @Input() public multiple: boolean;\n    /** Whether space should be booked */\n    @Input() public book: boolean;\n    /** Emitter for changes to book value */\n    @Output() public bookChange = new EventEmitter<boolean>();\n\n    constructor(private _dialog: MatDialog) {}\n\n    public bookSpace() {\n        this.book = this.multiple ? !this.book : true;\n        this.bookChange.emit(this.book);\n    }\n\n    public viewLocation() {\n        this._dialog.open(MapLocateModalComponent, {\n            maxWidth: '95vw',\n            maxHeight: '95vh',\n            data: { item: this.space },\n        });\n    }\n}\n","import { Component, OnInit, Optional } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HashMap, SettingsService } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { Space } from '@placeos/spaces';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\nimport { combineLatest } from 'rxjs';\nimport { filter, first, map, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'space-flow-find',\n    template: `\n        <div topbar class=\"\">\n            <a\n                class=\"clear h-[2.75rem] text-white\"\n                btn\n                matRipple\n                [routerLink]=\"['/book', 'spaces', 'form']\"\n            >\n                <div class=\"flex items-center justify-center h-full\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <span class=\"ml-2 mx-4\">Back</span>\n                </div>\n            </a>\n        </div>\n        <div filters>\n            <div class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto py-4\">\n                <h2 class=\"text-xl uppercase font-medium text-white\">\n                    Available Spaces\n                </h2>\n                <div\n                    class=\"flex flex-col items-center sm:flex-row space-x-0 sm:space-x-2\"\n                >\n                    <mat-form-field\n                        overlay\n                        buildings\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem]\"\n                        *ngIf=\"(buildings | async)?.length > 1\"\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Select Building...\"\n                            [ngModel]=\"building | async\"\n                            (ngModelChange)=\"setBuilding($event)\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem]\"\n                        overlay\n                        *ngIf=\"(levels | async)?.length > 0\"\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Level\"\n                            [ngModel]=\"\n                                (options | async)?.zone_ids?.length\n                                    ? (options | async)?.zone_ids[0]\n                                    : ''\n                            \"\n                            (ngModelChange)=\"setOptions({ zone_ids: [$event] })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of levels | async\"\n                                [value]=\"item.id\"\n                            >\n                                {{ item.display_name || item.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem] hidden sm:block\"\n                        overlay\n                        appearance=\"outline\"\n                    >\n                        <mat-select\n                            placeholder=\"Any Capacity\"\n                            [ngModel]=\"(options | async)?.capacity\"\n                            (ngModelChange)=\"setOptions({ capacity: $event })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of quick_capacities\"\n                                [value]=\"item.value\"\n                            >\n                                {{ item.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field\n                        class=\"w-full sm:w-px sm:flex-1 h-[3.25rem] hidden sm:block\"\n                        overlay\n                        appearance=\"outline\"\n                        *ngIf=\"(features | async)?.length\"\n                    >\n                        <mat-select\n                            [placeholder]=\"'Any ' + features_label\"\n                            multiple\n                            [ngModel]=\"(options | async)?.features\"\n                            (ngModelChange)=\"setOptions({ features: $event })\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of features | async\"\n                                [value]=\"item\"\n                            >\n                                {{ item }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n            </div>\n        </div>\n        <div class=\"flex-1 w-full bg-base-200 overflow-auto\">\n            <ng-container *ngIf=\"!(loading | async); else load_state\">\n                <ng-container\n                    *ngIf=\"(spaces | async)?.length > 0; else empty_state\"\n                >\n                    <space-flow-find-item\n                        *ngFor=\"let space of spaces | async\"\n                        class=\"w-[640px] max-w-[calc(100%-2rem)] mx-auto \"\n                        [space]=\"space\"\n                        [multiple]=\"multiple\"\n                        [book]=\"book_space[space.id]\"\n                        (bookChange)=\"handleBookEvent(space, $event)\"\n                    ></space-flow-find-item>\n                    <p class=\"p-4 text-center opacity-60\">\n                        End of available spaces list\n                    </p>\n                </ng-container>\n            </ng-container>\n        </div>\n        <div *ngIf=\"multiple\" class=\"bg-base-100 border-t border-base-200\">\n            <div\n                class=\"flex items-center w-[640px] max-w-[calc(100%-2rem)] mx-auto p-2\"\n            >\n                <div class=\"flex-1 underline\" [matMenuTriggerFor]=\"menu\">\n                    {{ space_list?.length }} space(s) selected\n                </div>\n                <button\n                    class=\"w-32\"\n                    [disabled]=\"!space_list?.length\"\n                    btn\n                    matRipple\n                    (click)=\"confirmBooking()\"\n                >\n                    Book\n                </button>\n            </div>\n            <mat-menu #menu=\"matMenu\" yPosition=\"above\">\n                <div\n                    class=\"flex items-center pointer-events-none leading-tight\"\n                    mat-menu-item\n                    *ngFor=\"let space of space_list\"\n                >\n                    <div class=\"flex flex-col mr-4\">\n                        <div>{{ space.display_name || space.name }}</div>\n                        <div class=\"text-xs opacity-70\">\n                            {{ space.level?.display_name || space.level?.name }}\n                            ~ {{ space.capacity || '2+' }} People\n                        </div>\n                    </div>\n                    <button\n                        icon\n                        matRipple\n                        class=\"pointer-events-auto\"\n                        (click)=\"\n                            this.handleBookEvent(space, false);\n                            $event.stopPropagation()\n                        \"\n                    >\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n                <div\n                    mat-menu-item\n                    class=\" opacity-60\"\n                    *ngIf=\"!space_list?.length\"\n                >\n                    No selected spaces\n                </div>\n            </mat-menu>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"h-full w-full flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Retrieving available spaces...</p>\n            </div>\n        </ng-template>\n        <ng-template #empty_state>\n            <div\n                class=\"h-full w-full flex flex-col items-center justify-center space-y-2 p-8 text-center\"\n            >\n                <p>\n                    No available spaces for selected time, capacity or level(s)\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n            }\n\n            [topbar] {\n                background-color: var(--secondary-dark);\n            }\n\n            [filters] {\n                background-color: var(--p);\n            }\n        `,\n    ],\n    providers: [SpacePipe],\n})\nexport class SpaceFlowFindComponent implements OnInit {\n    public book_space: HashMap<boolean> = {};\n    public quick_capacities = [\n        { name: 'Any Capacity', value: 0 },\n        { name: 'Small (1 - 4)', value: 1 },\n        { name: 'Medium (5 - 12)', value: 5 },\n        { name: 'Large (13 - 32)', value: 13 },\n        { name: 'Huge (32+)', value: 33 },\n    ];\n\n    public space_list: Space[] = [];\n\n    /** List of available buildings */\n    public readonly buildings = this._org.building_list;\n    /** Currently active building */\n    public readonly building = this._org.active_building;\n\n    public readonly levels = combineLatest([\n        this.building,\n        this._state.options,\n    ]).pipe(\n        filter(([_]) => !!_),\n        map(([bld]) => [\n            {\n                id: this._org.building.id,\n                name: 'All Levels',\n            },\n            ...this._org.levelsForBuilding(bld),\n        ])\n    );\n\n    public readonly loading = this._state.loading;\n    public readonly options = this._state.options;\n\n    public readonly spaces = this._state.available_spaces;\n    public readonly features = this._state.features;\n    public async setBuilding(bld) {\n        const opts = await this.options.pipe(take(1)).toPromise();\n        if (bld) this._org.building = bld;\n        const levels = this._org.levelsForBuilding(this._org.building);\n        const lvl = levels.find((_) => opts.zone_ids?.includes(_.id));\n        if (!lvl && levels.length) {\n            this.setOptions({ zone_ids: [levels[0].id] });\n        }\n    }\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get multiple() {\n        return this._settings.get('app.events.multiple_spaces') ?? false;\n    }\n\n    public get features_label() {\n        return this._settings.get('app.events.features_label') || 'feature';\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: EventFormService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _space_pipe: SpacePipe\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => !!_)).toPromise();\n        this.setBuilding(this._org.building);\n        this.book_space = {};\n        const resources = this._state.form?.get('resources')?.value || [];\n        resources.forEach((_) => (this.book_space[_.id] = true));\n        this.space_list = await this._getSpaceList();\n    }\n\n    public async handleBookEvent(space: Space, book: boolean = true) {\n        if (this.multiple) {\n            this.book_space[space.id] = book;\n        } else {\n            this.book_space = {};\n            this.book_space[space.id] = book;\n            this.confirmBooking();\n        }\n        this.space_list = await this._getSpaceList();\n    }\n\n    public async confirmBooking() {\n        const spaces = await this._getSpaceList();\n        this._state.form.patchValue({\n            resources: spaces,\n            system: spaces[0] as any,\n        });\n        this._router.navigate(['/book', 'spaces', 'confirm']);\n    }\n\n    private _getSpaceList() {\n        const id_list = Object.keys(this.book_space).filter(\n            (k) => this.book_space[k]\n        );\n        return id_list.length\n            ? Promise.all(id_list.map((_) => this._space_pipe.transform(_)))\n            : Promise.resolve([]);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n    currentUser,\n    getInvalidFields,\n    notifyError,\n    SettingsService,\n} from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { addDays, addMinutes, roundToNearestMinutes, setHours } from 'date-fns';\n\n@Component({\n    selector: 'space-flow-form',\n    template: `\n        <section form class=\"flex-1 min-h-[50%]\">\n            <h2\n                class=\"text-xl uppercase font-medium mb-2 mt-4 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                {{ is_edit ? 'Edit' : 'Detailed' }} Space Booking\n            </h2>\n            <detailed-book-space-form\n                [form]=\"form\"\n                [options]=\"options | async\"\n                (optionsChange)=\"setOptions($event)\"\n                [features]=\"features | async\"\n            ></detailed-book-space-form>\n            <div\n                class=\"flex flex-col sm:flex-row items-center justify-center space-x-0 space-y-2 sm:space-y-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto mb-4\"\n            >\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem] inverse\"\n                    btn\n                    matRipple\n                    clear\n                    (click)=\"clearForm()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">clear</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Cancel Edit' : 'Clear Form'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    btn\n                    matRipple\n                    find-space\n                    (click)=\"findSpace()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">search</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Update Spaces' : 'Find Space'\n                        }}</span>\n                    </div>\n                </button>\n                <button\n                    class=\"sm:flex-1 w-full sm:w-auto h-[2.75rem]\"\n                    btn\n                    matRipple\n                    standalone\n                    *ngIf=\"is_edit || allow_standalone_bookings\"\n                    (click)=\"confirmBooking()\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-xl\">event_available</app-icon>\n                        <span class=\"ml-2 mx-4\">{{\n                            is_edit ? 'Confirm changes' : 'Book without Space'\n                        }}</span>\n                    </div>\n                </button>\n            </div>\n        </section>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                overflow: auto;\n            }\n\n            [quick] {\n                background-color: #007ac8;\n            }\n        `,\n    ],\n})\nexport class SpaceFlowFormComponent {\n    public time = 0;\n    public capacity = 0;\n\n    public readonly quick_times = [\n        { name: 'Now', value: 0 },\n        { name: 'Later Today', value: 120 },\n        {\n            name: 'Tomorrow',\n            value: setHours(addDays(new Date(), 1), 9).valueOf(),\n        },\n    ];\n\n    public readonly quick_capacities = [\n        { name: 'Any Capacity', value: 0 },\n        { name: 'Small (1 - 4)', value: 1 },\n        { name: 'Medium (5 - 12)', value: 5 },\n        { name: 'Large (13 - 32)', value: 13 },\n        { name: 'Huge (32+)', value: 33 },\n    ];\n\n    public readonly options = this._state.options;\n    public readonly features = this._state.features;\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get is_edit() {\n        return !!this.form?.value?.id;\n    }\n\n    public get form() {\n        return this._state.form;\n    }\n\n    public get allow_standalone_bookings() {\n        return this._settings.get('app.events.allow_standalone_bookings');\n    }\n\n    public readonly clearForm = () => {\n        this.time = this.capacity = 0;\n        this._state.clearForm();\n    };\n\n    constructor(\n        private _state: EventFormService,\n        private _settings: SettingsService,\n        private _router: Router\n    ) {}\n\n    public quickBook() {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        this.form.patchValue({\n            date: (this.time < 24 * 60\n                ? addMinutes(\n                      roundToNearestMinutes(new Date(), { nearestTo: 5 }),\n                      this.time\n                  )\n                : setHours(addDays(new Date(), 1), 8)\n            ).valueOf(),\n            title: 'Ad-hoc Meeting',\n        });\n        this._state.setOptions({ capacity: this.capacity });\n        this._router.navigate(['/book', 'spaces', 'find']);\n    }\n\n    public findSpace() {\n        this.form.markAllAsTouched();\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this._router.navigate(['/book', 'spaces', 'find']);\n    }\n\n    public confirmBooking() {\n        if (!this.form.value.host)\n            this.form.patchValue({ host: currentUser()?.email });\n        this.form.markAllAsTouched();\n        if (!this.form.valid)\n            return notifyError(\n                `Some fields are invalid. [${getInvalidFields(this.form).join(\n                    ', '\n                )}]`\n            );\n        this._router.navigate(['/book', 'spaces', 'confirm']);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n    selector: 'placeos-book-space-flow',\n    template: `\n        <div class=\"bg-base-200 h-full w-full overflow-auto\">\n            <div\n                class=\"w-full h-full sm:h-auto max-w-[48rem] mx-auto sm:my-4 bg-base-100 shadow border border-base-200 overflow-hidden\"\n            >\n                <invite-visitor-form (done)=\"onDone()\"></invite-visitor-form>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class VisitorFlowComponent {\n    constructor(private _router: Router) {}\n\n    public onDone() {\n        this._router.navigate(['/']);\n    }\n}\n","export * from './lib/catering.module';\nexport * from './lib/catering';\nexport * from './lib/charge-code-list-modal.component';","import { Component, EventEmitter, Output } from '@angular/core';\nimport { csvToJson, DialogEvent, downloadFile } from '@placeos/common';\nimport { CateringItem } from './catering-item.class';\n\n@Component({\n    selector: 'catering-import-menu-modal',\n    template: `\n        <header class=\"h-12 bg-primary flex items-center justify-between px-4\">\n            <h2>Import Catering Menu</h2>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main *ngIf=\"!loading; else load_state\">\n            <div\n                class=\"relative flex flex-col items-center justify-center space-y-2 h-[24rem] w-[24rem] border-4 border-base-200 border-dashed rounded-xl hover:bg-base-200 m-4 p-4 cursor-pointer\"\n            >\n                <app-icon class=\"text-4xl\">upload</app-icon>\n                <p>Click to select file or Drag and drop files</p>\n                <input\n                    type=\"file\"\n                    class=\"absolute inset-0 opacity-0\"\n                    (change)=\"handleFileEvent($event)\"\n                />\n            </div>\n            <div class=\"flex items-center justify-center px-4 pb-4\">\n                <button\n                    matRipple\n                    class=\"clear underline w-48\"\n                    (click)=\"downloadTemplate()\"\n                >\n                    Download Template\n                </button>\n            </div>\n        </main>\n        <ng-template #load_state>\n            <main\n                class=\"flex flex-col items-center justify-center space-y-2 p-8 h-[24rem] w-[24rem]\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class CateringImportMenuModalComponent {\n    @Output() public event = new EventEmitter<DialogEvent>();\n    public loading: string;\n\n    /** Upload the image to the cloud */\n    public handleFileEvent(event: DragEvent) {\n        this.loading = 'Processing menu data...';\n        const element: HTMLInputElement = event.target as any;\n        if (!element?.files) return (this.loading = '');\n        const files: FileList = element.files;\n        if (!files.length) return (this.loading = '');\n        const file = files[0];\n        const fileReader = new FileReader();\n        fileReader.addEventListener('loadend', (e: any) => {\n            const contents = e.target.result;\n            const data = csvToJson(contents);\n            this.loading = '';\n            this.event.emit({\n                reason: 'done',\n                metadata: data\n                    .filter((_) => (_.type || '').toLowerCase() === 'item')\n                    .map(\n                        (i) =>\n                            new CateringItem({\n                                ...i,\n                                options: data\n                                    .filter(\n                                        (_) =>\n                                            (_.type || '').toLowerCase() ===\n                                                'option' && _.tags === i.id\n                                    )\n                                    .map((_) => ({\n                                        id: _.id,\n                                        name: _.name,\n                                        group: _.category,\n                                        multiple: _.multiple,\n                                        unit_price: _.unit_price,\n                                    })),\n                            })\n                    ),\n            });\n        });\n        fileReader.readAsText(file);\n    }\n\n    public downloadTemplate() {\n        const template = `ID,Type,Name,Unit Price,Category,Description,Tags,Multiple\nitem-1,item,Coffee,200,Drink,Wake Up,,\noption-1,option,1 Sugar,20,Sugars,,item-1,false`;\n        downloadFile('import-menu-template.csv', template);\n    }\n}\n","import { COMMA, ENTER, SPACE } from '@angular/cdk/keycodes';\nimport { Component, EventEmitter, Inject, Output } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatChipInputEvent } from '@angular/material/chips';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { DialogEvent, randomInt } from '@placeos/common';\nimport { CateringItem } from './catering-item.class';\n\nexport interface CateringItemModalData {\n    item: CateringItem;\n    categories?: string[];\n}\n\n@Component({\n    selector: 'catering-item-modal',\n    template: `\n        <header>\n            <h3>{{ item.id ? 'Edit' : 'Add' }} Item</h3>\n            <button icon matRipple mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <form\n            class=\"p-4 overflow-auto max-h-[65vh]\"\n            *ngIf=\"form && !loading; else load_state\"\n            [formGroup]=\"form\"\n        >\n            <div class=\"flex items-center space-x-2\">\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.name\">\n                    <label\n                        for=\"title\"\n                        [class.error]=\"\n                            form.controls.name.invalid &&\n                            form.controls.name.touched\n                        \"\n                    >\n                        Name<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"name\"\n                            placeholder=\"Item name\"\n                            formControlName=\"name\"\n                        />\n                        <mat-error>Name is required</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.category\">\n                    <label\n                        for=\"category\"\n                        [class.error]=\"\n                            form.controls.category.invalid &&\n                            form.controls.category.touched\n                        \"\n                    >\n                        Category<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"category\"\n                            placeholder=\"Category\"\n                            formControlName=\"category\"\n                            [matAutocomplete]=\"auto\"\n                        />\n                        <mat-error>Category is required</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.tags\">\n                <label\n                    for=\"tags\"\n                    [class.error]=\"\n                        form.controls.tags.invalid && form.controls.tags.touched\n                    \"\n                    i18n=\"@@tagsLabel\"\n                >\n                    Tags:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <mat-chip-grid #chipList aria-label=\"Item Tags\">\n                        <mat-chip-row\n                            *ngFor=\"let item of tag_list\"\n                            (removed)=\"removeTag(item)\"\n                        >\n                            {{ item }}\n                            <button\n                                matChipRemove\n                                [attr.aria-label]=\"'Remove ' + item\"\n                            >\n                                <app-icon>cancel</app-icon>\n                            </button>\n                        </mat-chip-row>\n                    </mat-chip-grid>\n                    <input\n                        name=\"tags\"\n                        placeholder=\"Item tags e.g. Gluten Free, Vegan etc.\"\n                        i18n-placeholder=\"@@zoneTagsPlaceholder\"\n                        [matChipInputFor]=\"chipList\"\n                        [matChipInputSeparatorKeyCodes]=\"separators\"\n                        [matChipInputAddOnBlur]=\"true\"\n                        (matChipInputTokenEnd)=\"addTag($event)\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.description\">\n                <label for=\"description\">Description:</label>\n                <mat-form-field appearance=\"outline\">\n                    <textarea\n                        matInput\n                        name=\"description\"\n                        placeholder=\"Item Description\"\n                        formControlName=\"description\"\n                    ></textarea>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.unit_price\">\n                <label\n                    for=\"title\"\n                    [class.error]=\"\n                        form.controls.unit_price.invalid &&\n                        form.controls.unit_price.touched\n                    \"\n                >\n                    Unit Price<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"unit-price\"\n                        type=\"number\"\n                        placeholder=\"Unit Price\"\n                        formControlName=\"unit_price\"\n                    />\n                    <mat-error>Unit Price is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex items-center\">\n                <label class=\"flex-none w-28 min-w-0\">Accept Points?</label>\n                <mat-checkbox formControlName=\"accept_points\">{{\n                    form.get('accept_points')?.value ? 'No' : 'Yes'\n                }}</mat-checkbox>\n            </div>\n            <div class=\"flex items-center flex-wrap max-w-lg\" list>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Gluten Free')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Gluten Free' })\n                            : removeTag('Gluten Free')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Gluten Free (GF)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Vegan')\"\n                    (ngModelChange)=\"\n                        $event ? addTag({ value: 'Vegan' }) : removeTag('Vegan')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Vegan (VG)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Vegetarian')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Vegetarian' })\n                            : removeTag('Vegetarian')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Vegetarian (V)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Contains Dairy')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Contains Dairy' })\n                            : removeTag('Contains Dairy')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Contains Dairy (D)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Contains Nuts')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Contains Nuts' })\n                            : removeTag('Contains Nuts')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Contains Nuts (N)\n                </mat-checkbox>\n            </div>\n            <div class=\"flex items-center\">\n                <label class=\"flex-1 w-24 min-w-0\">Discount Cap</label>\n                <a-counter\n                    class=\"border border-base-200 rounded\"\n                    formControlName=\"discount_cap\"\n                    [min]=\"0\"\n                    [max]=\"100\"\n                    [step]=\"5\"\n                    [render_fn]=\"renderPercent\"\n                ></a-counter>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.images\">\n                <label for=\"images\" i18n=\"@@imagesLabel\">Images:</label>\n                <image-list-field\n                    name=\"images\"\n                    formControlName=\"images\"\n                ></image-list-field>\n            </div>\n        </form>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex p-2 items-center justify-center border-t border-solid border-base-200\"\n        >\n            <button\n                btn\n                matRipple\n                [disabled]=\"!form.dirty\"\n                (click)=\"saveChanges()\"\n            >\n                Save\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col items-center p-8 space-y-2 w-64\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving catering item...</p>\n            </div>\n        </ng-template>\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let option of categories\" [value]=\"option\">\n                {{ option }}\n            </mat-option>\n        </mat-autocomplete>\n    `,\n    styles: [\n        `\n            [list] mat-checkbox {\n                margin: 0.5rem;\n            }\n        `,\n    ],\n})\nexport class CateringItemModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for item */\n    public form = new FormGroup({\n        name: new FormControl(this.item.name || '', [Validators.required]),\n        description: new FormControl(this.item.description || ''),\n        category: new FormControl(this.item.category || '', [\n            Validators.required,\n        ]),\n        unit_price: new FormControl(this.item.unit_price, [\n            Validators.required,\n        ]),\n        tags: new FormControl(this.item.tags || []),\n        accept_points: new FormControl(this.item.accept_points || false),\n        discount_cap: new FormControl(this.item.discount_cap || 0),\n        images: new FormControl(this.item.images || []),\n    });\n    /** Whether changes are being saved */\n    public loading = false;\n    /** List of separator characters for tags */\n    public readonly separators: number[] = [ENTER, COMMA, SPACE];\n\n    /** Current item details */\n    public get item(): CateringItem {\n        return this._data.item || new CateringItem();\n    }\n\n    /** List of available categories */\n    public get categories(): string[] {\n        return this._data.categories || [];\n    }\n\n    public get tag_list(): string[] {\n        return this.form.controls.tags.value;\n    }\n\n    public renderPercent(value: number = 0) {\n        return `${value}%`;\n    }\n\n    public hasTag(tag: string) {\n        return this.tag_list.includes(tag);\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringItemModalData\n    ) {}\n\n    /**\n     * Add a tag to the list of tags for the item\n     * @param event Input event\n     */\n    public addTag(event: MatChipInputEvent): void {\n        if (!this.form || !this.form.controls.tags) return;\n        this.form.controls.tags.markAsDirty();\n        const input = event.input;\n        const value = event.value;\n        const tag_list = this.tag_list;\n        if ((value || '').trim()) {\n            tag_list.push(value);\n            this.form.controls.tags.setValue(tag_list);\n        }\n\n        // Reset the input value\n        if (input) input.value = '';\n    }\n\n    /**\n     * Remove tag from the list\n     * @param existing_tag Tag to remove\n     */\n    public removeTag(existing_tag: string): void {\n        if (!this.form || !this.form.controls.tags) return;\n        const tag_list = this.tag_list;\n        this.form.controls.tags.markAsDirty();\n        const index = tag_list.indexOf(existing_tag);\n\n        if (index >= 0) {\n            tag_list.splice(index, 1);\n            this.form.controls.tags.setValue(tag_list);\n        }\n    }\n\n    public saveChanges() {\n        this.loading = true;\n        this.event.emit({\n            reason: 'done',\n            metadata: {\n                item: new CateringItem({\n                    ...this.item,\n                    id: this.item.id || `item-${randomInt(9999_9999)}`,\n                    ...this.form.value,\n                }),\n            },\n        });\n    }\n}\n","import { Component, forwardRef, Input, SimpleChanges } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n    ANIMATION_SHOW_CONTRACT_EXPAND,\n    randomString,\n    SettingsService,\n} from '@placeos/common';\n\nimport { CateringItem } from 'libs/catering/src/lib/catering-item.class';\nimport { NewCateringOrderModalComponent } from 'libs/catering/src/lib/catering-order-modal/new-catering-order-modal.component';\nimport { CateringOrder } from './catering-order.class';\nimport { Organisation, OrganisationService } from '@placeos/organisation';\nimport { endOfDay, format, startOfDay } from 'date-fns';\n\nconst EMPTY_FAVS = [];\n\n@Component({\n    selector: `catering-list-field`,\n    template: `\n        <div list class=\"space-y-2\">\n            <div\n                order\n                *ngFor=\"let order of orders\"\n                class=\"border shadow bg-base-100 rounded-xl overflow-hidden\"\n                [class.border-error]=\"end_time < order.deliver_at\"\n                [class.border-base-300]=\"end_time >= order.deliver_at\"\n            >\n                <div class=\"flex items-center space-x-2 p-4\">\n                    <div class=\"flex-1\">\n                        <div class=\"flex items-center space-x-4\">\n                            <div>\n                                Order for\n                                {{ order.deliver_at_time | date: 'mediumDate' }}\n                                at\n                                {{ order.deliver_at_time | date: time_format }}\n                            </div>\n                            <div\n                                class=\"flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content\"\n                                [matTooltip]=\"err_tooltip\"\n                                *ngIf=\"end_time < order.deliver_at\"\n                            >\n                                <app-icon>priority_high</app-icon>\n                            </div>\n                        </div>\n                        <div class=\"text-xs opacity-60\">\n                            {{ order.item_count }} item(s) for\n                            {{\n                                order.total_cost / 100 | currency: currency_code\n                            }}\n                        </div>\n                    </div>\n                    <button\n                        icon\n                        matRipple\n                        matTooltip=\"Duplicate Order\"\n                        *ngIf=\"!disabled\"\n                        (click)=\"duplicateOrder(order)\"\n                    >\n                        <app-icon>content_copy</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        matTooltip=\"Edit Order\"\n                        *ngIf=\"!disabled\"\n                        (click)=\"editOrder(order)\"\n                    >\n                        <app-icon>edit</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        matTooltip=\"Remove Order\"\n                        class=\"text-error\"\n                        *ngIf=\"!disabled\"\n                        (click)=\"removeOrder(order)\"\n                    >\n                        <app-icon>delete</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        [matTooltip]=\"\n                            show_order[order.id]\n                                ? 'Hide order items'\n                                : 'Show order items'\n                        \"\n                        (click)=\"show_order[order.id] = !show_order[order.id]\"\n                    >\n                        <app-icon>\n                            {{\n                                show_order[order.id]\n                                    ? 'expand_less'\n                                    : 'expand_more'\n                            }}\n                        </app-icon>\n                    </button>\n                </div>\n                <div\n                    class=\"flex flex-col bg-base-200 divide-y divide-base-100\"\n                    [@show]=\"show_order[order.id] ? 'show' : 'hide'\"\n                >\n                    <div\n                        class=\"flex items-center px-4 py-1 space-x-2 hover:opacity-90\"\n                        *ngFor=\"let item of order.items\"\n                    >\n                        <div class=\"flex items-center flex-1\">\n                            {{ item.name || 'Item' }}\n                            <span\n                                class=\"text-xs opacity-60 ml-4 font-normal\"\n                                *ngIf=\"item.option_list?.length\"\n                                [matTooltip]=\"optionList(item)\"\n                            >\n                                {{ item.option_list?.length || '0' }} option(s)\n                            </span>\n                        </div>\n                        <div\n                            class=\"rounded bg-success text-success-content text-xs px-2 py-1\"\n                        >\n                            x{{ item.quantity }}\n                        </div>\n                        <div\n                            class=\"rounded bg-info text-info-content text-xs px-2 py-1\"\n                        >\n                            {{\n                                item.unit_price_with_options / 100\n                                    | currency: currency_code\n                            }}\n                            ea\n                        </div>\n                        <button\n                            icon\n                            matRipple\n                            matTooltip=\"Remove Order Item\"\n                            class=\"text-error\"\n                            *ngIf=\"!disabled\"\n                            (click)=\"removeOrderItem(order, item)\"\n                        >\n                            <app-icon>delete</app-icon>\n                        </button>\n                        <button\n                            icon\n                            matRipple\n                            name=\"toggle-catering-item-favourite\"\n                            [matTooltip]=\"\n                                favorites.includes(item.id)\n                                    ? 'Remove from favourites'\n                                    : 'Add to favourites'\n                            \"\n                            [class.text-blue-400]=\"favorites.includes(item.id)\"\n                            (click)=\"toggleFavourite(item)\"\n                        >\n                            <app-icon>{{\n                                favorites.includes(item.id)\n                                    ? 'favorite'\n                                    : 'favorite_border'\n                            }}</app-icon>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <button\n            btn\n            matRipple\n            name=\"add-catering-item\"\n            class=\"w-full inverse mt-2\"\n            [disabled]=\"disabled\"\n            (click)=\"editOrder()\"\n        >\n            <div class=\"flex items-center justify-center space-x-2\">\n                <app-icon>search</app-icon>\n                <span>Add Order</span>\n            </div>\n        </button>\n    `,\n    styles: [``],\n    animations: [ANIMATION_SHOW_CONTRACT_EXPAND],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            /* istanbul ignore next */\n            useExisting: forwardRef(() => CateringListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class CateringListFieldComponent implements ControlValueAccessor {\n    @Input() public options: {\n        date?: number;\n        duration?: number;\n        all_day?: boolean;\n        zone_id?: string;\n    } = {};\n    public orders: CateringOrder[] = [];\n    public show_order: Record<string, boolean> = {};\n    public disabled = false;\n    public err_tooltip =\n        'Delivery time is outside of the event time.\\nThis order will be ignored.';\n\n    private _onChange: (_: CateringOrder[]) => void;\n    private _onTouch: (_: CateringOrder[]) => void;\n    public selected: CateringOrder[] = [];\n\n    public get favorites() {\n        return (\n            this._settings.get<string[]>('favourite_menu_items') || EMPTY_FAVS\n        );\n    }\n\n    public get end_time() {\n        const time =\n            (this.options.date || Date.now()) +\n            (this.options.duration || 30) * 60 * 1000;\n        return this.options.all_day ? endOfDay(time).valueOf() : time;\n    }\n\n    public get time_format() {\n        return this._settings.time_format || 'shortTime';\n    }\n\n    public get currency_code() {\n        return this._org.building?.currency || 'USD';\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _org: OrganisationService,\n        private _dialog: MatDialog\n    ) {}\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: CateringOrder[]) {\n        this.orders = new_value;\n        if (this._onChange) this._onChange(this.orders);\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.options) {\n            this.orders = (this.orders || []).map(\n                (_) => new CateringOrder({ ..._, event: this.options as any })\n            );\n        }\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: CateringOrder[]) {\n        this.orders = (value || []).map(\n            (_) => new CateringOrder({ ..._, event: this.options as any })\n        );\n    }\n\n    public readonly registerOnChange = (fn: (_: CateringOrder[]) => void) =>\n        (this._onChange = fn);\n    public readonly registerOnTouched = (fn: (_: CateringOrder[]) => void) =>\n        (this._onTouch = fn);\n    public readonly setDisabledState = (s: boolean) => (this.disabled = s);\n\n    public removeOrder(order: CateringItem) {\n        const updated_list = this.orders.filter((_) => _.id !== order.id);\n        this.setValue(updated_list);\n    }\n\n    public duplicateOrder(order: CateringOrder) {\n        const new_order = new CateringOrder({\n            ...order,\n            id: `order-${randomString(8)}`,\n        });\n        this.setValue([...this.orders, new_order]);\n    }\n\n    public removeOrderItem(order: CateringOrder, item: CateringItem) {\n        const new_order = new CateringOrder({\n            ...order,\n            items: order.items.filter((_) => _.custom_id !== item.custom_id),\n        });\n        const updated_list = this.orders.filter((_) => _.id !== order.id);\n        if (new_order.items.length > 0) {\n            this.setValue([...updated_list, new_order]);\n        } else this.setValue(updated_list);\n    }\n\n    public editOrder(order: CateringOrder = new CateringOrder()) {\n        const ref = this._dialog.open(NewCateringOrderModalComponent, {\n            data: {\n                items: order.items,\n                details: {\n                    ...this.options,\n                    date: this.options.all_day\n                        ? startOfDay(this.options.date).valueOf()\n                        : this.options.date,\n                    duration: this.options.all_day\n                        ? Math.max(24 * 60, this.options.duration)\n                        : this.options.duration,\n                },\n                exact_time: !!order.deliver_time,\n                offset: order.deliver_offset,\n                offset_day: order.deliver_day_offset,\n            },\n        });\n        ref.afterClosed().subscribe((items?: CateringItem[]) => {\n            const orders = this.orders.filter((_) => _.id !== order.id);\n            if (!items?.length) return;\n            const time = new Date(this.options.date);\n            for (const item of items) {\n                (item as any).options = [\n                    ...item.options.map((_) => ({ ..._ })),\n                ];\n                for (const option of item.options) {\n                    const opt = item.option_list.find(\n                        (_) => _.id === option.id\n                    );\n                    option.active = !!opt;\n                }\n            }\n            const new_order = new CateringOrder({\n                ...order,\n                items,\n                event: this.options as any,\n                deliver_offset: ref.componentInstance.offset,\n                deliver_time: ref.componentInstance.exact_time\n                    ? time.getHours() + time.getMinutes() / 60\n                    : null,\n                deliver_day_offset: ref.componentInstance.offset_day || 0,\n            });\n            if (new_order.item_count <= 0) return;\n            this.setValue([...orders, new_order]);\n        });\n    }\n\n    public optionList(item: CateringItem) {\n        return item.option_list?.map((_) => _.name).join('\\n');\n    }\n\n    public toggleFavourite(cateringitem: CateringItem) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(cateringitem.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_menu_items', [\n                ...fav_list,\n                cateringitem.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_menu_items',\n                fav_list.filter((_) => _ !== cateringitem.id)\n            );\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { CateringStateService } from './catering-state.service';\nimport { CateringItem } from './catering-item.class';\nimport { unique } from '@placeos/common';\nimport { CateringOrdersService } from './catering-orders.service';\n\n@Component({\n    selector: 'catering-menu',\n    template: `\n        <simple-table\n            class=\"w-full min-w-[32rem] block text-sm\"\n            [data]=\"menu\"\n            [columns]=\"[\n                {\n                    key: 'active',\n                    name: ' ',\n                    content: active_template,\n                    size: '3.5rem',\n                    sortable: false\n                },\n                { key: 'name', name: 'Name' },\n                { key: 'category', name: 'Category' },\n                {\n                    key: 'unit_price',\n                    name: 'Price',\n                    content: price_template,\n                    size: '6rem'\n                },\n                {\n                    key: 'actions',\n                    name: ' ',\n                    content: actions_template,\n                    size: '6.5rem',\n                    sortable: false\n                }\n            ]\"\n            [filter]=\"filters?.search\"\n            [show_children]=\"show_children\"\n            [child_template]=\"child_template\"\n            [sortable]=\"true\"\n            empty_message=\"No Items in Menu\"\n        ></simple-table>\n        <ng-template #active_template let-row=\"row\">\n            <mat-checkbox\n                class=\"mx-auto\"\n                matTooltip=\"Allow Ordering Item for this zone\"\n                matTooltipPosition=\"right\"\n                [ngModel]=\"isEnabled(row)\"\n                (ngModelChange)=\"setEnabled(row, $event)\"\n            ></mat-checkbox>\n        </ng-template>\n        <ng-template #price_template let-data=\"data\">\n            <div\n                class=\"px-2 py-1 font-mono text-xs flex items-center mx-auto bg-secondary text-secondary-content rounded\"\n            >\n                {{ data / 100 | currency: (symbol | async) }}\n            </div>\n        </ng-template>\n        <ng-template #actions_template let-row=\"row\">\n            <div class=\"p-2 flex items-center mx-auto space-x-2\">\n                <button\n                    icon\n                    matRipple\n                    [disabled]=\"!can_edit\"\n                    [class.opacity-0]=\"!can_edit\"\n                    [matMenuTriggerFor]=\"menu\"\n                >\n                    <app-icon>more_vert</app-icon>\n                </button>\n                <mat-menu #menu=\"matMenu\">\n                    <button\n                        mat-menu-item\n                        class=\"flex items-center\"\n                        (click)=\"addOption(row)\"\n                    >\n                        <div class=\"flex items-center space-x-2 pr-2\">\n                            <app-icon>add</app-icon>\n                            <div>Add Option</div>\n                        </div>\n                    </button>\n                    <button\n                        mat-menu-item\n                        class=\"flex items-center\"\n                        (click)=\"editItem(row)\"\n                    >\n                        <div class=\"flex items-center space-x-2 pr-2\">\n                            <app-icon>edit</app-icon>\n                            <div>Edit Item</div>\n                        </div>\n                    </button>\n                    <button\n                        mat-menu-item\n                        class=\"flex items-center\"\n                        (click)=\"removeItem(row)\"\n                    >\n                        <div class=\"flex items-center space-x-2 pr-2\">\n                            <app-icon class=\"text-error\">delete</app-icon>\n                            <div>Remove Item</div>\n                        </div>\n                    </button>\n                </mat-menu>\n                <button\n                    icon\n                    matRipple\n                    [disabled]=\"!row.options?.length\"\n                    [matTooltip]=\"\n                        row.options?.length\n                            ? (show_children[row.id] ? 'Hide' : 'Show') +\n                              ' Menu Item Options'\n                            : ''\n                    \"\n                    (click)=\"show_children[row.id] = !show_children[row.id]\"\n                >\n                    <app-icon>\n                        {{\n                            show_children[row.id]\n                                ? 'keyboard_arrow_down'\n                                : 'chevron_right'\n                        }}\n                    </app-icon>\n                </button>\n            </div>\n        </ng-template>\n        <ng-template #child_template let-row=\"row\">\n            <div\n                class=\"flex p-2 items-center border-b border-solid border-base-200 relative space-x-2\"\n                *ngFor=\"let option of row.options\"\n            >\n                <div\n                    class=\"absolute inset-y-0 left-0 w-2 bg-black opacity-10\"\n                ></div>\n                <div class=\"flex-1 pl-4 pr-2\">\n                    <div class=\"text\">{{ option.name }}</div>\n                    <div class=\"text-xs opacity-60\">\n                        {{ option.group }}\n                    </div>\n                </div>\n                <button\n                    icon\n                    matRipple\n                    matTooltip=\"Edit Menu Item Option\"\n                    (click)=\"editOption(row, option)\"\n                    *ngIf=\"can_edit\"\n                >\n                    <app-icon>edit</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    class=\"!mr-1\"\n                    matTooltip=\"Remove Menu Item Option\"\n                    (click)=\"removeOption(row, option)\"\n                    *ngIf=\"can_edit\"\n                >\n                    <app-icon class=\"text-error\">delete</app-icon>\n                </button>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 90%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class CateringMenuComponent {\n    public show_children: Record<string, boolean> = {};\n    /** Observable for the currently active menu */\n    public readonly menu = this._catering.menu;\n\n    public readonly addOption = (item) => this._catering.addOption(item);\n\n    public readonly editOption = (item, option) =>\n        this._catering.addOption(item, option);\n\n    public readonly removeOption = (item, option) =>\n        this._catering.deleteOption(item, option);\n\n    public readonly editItem = (item) => this._catering.addItem(item);\n\n    public readonly removeItem = (item) => this._catering.deleteItem(item);\n\n    public get filters() {\n        return this._orders.filters;\n    }\n\n    public get can_edit() {\n        return this._catering.is_editable;\n    }\n    public get categories() {\n        return this._catering.categories;\n    }\n\n    constructor(\n        private _catering: CateringStateService,\n        private _orders: CateringOrdersService\n    ) {}\n\n    public isEnabled(item: CateringItem) {\n        return !item.hide_for_zones.includes(this._catering.zone);\n    }\n\n    public setEnabled(item: CateringItem, state: boolean) {\n        let list = item.hide_for_zones;\n        if (!state) list = unique([...list, this._catering.zone]);\n        else list = list.filter((_) => _ !== this._catering.zone);\n        this._catering.updateItem(\n            new CateringItem({ ...item, hide_for_zones: list })\n        );\n    }\n}\n","import { Component, EventEmitter, Inject, OnInit, Output } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { DialogEvent } from 'libs/common/src/lib/types';\nimport { randomInt } from 'libs/common/src/lib/general';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringOption } from './catering.interfaces';\n\nexport interface CateringItemOptionModalData {\n    parent: CateringItem;\n    option: CateringOption;\n    types: string[];\n}\n\n@Component({\n    selector: 'catering-option-modal',\n    template: `\n        <header>\n            <h3>{{ option.id ? 'Edit' : 'Add' }} Item Option</h3>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <form\n            class=\"p-4 overflow-auto max-h-[65vh]\"\n            *ngIf=\"form && !loading; else load_state\"\n            [formGroup]=\"form\"\n        >\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.name\">\n                <label\n                    for=\"title\"\n                    [class.error]=\"\n                        form.controls.name.invalid && form.controls.name.touched\n                    \"\n                >\n                    Name<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"name\"\n                        placeholder=\"Item name\"\n                        formControlName=\"name\"\n                    />\n                    <mat-error>Name is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.group\">\n                <label\n                    for=\"group\"\n                    [class.error]=\"\n                        form.controls.group.invalid &&\n                        form.controls.group.touched\n                    \"\n                >\n                    Type<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"group\"\n                        placeholder=\"Type of option e.g. Number of sugars\"\n                        formControlName=\"group\"\n                        [matAutocomplete]=\"auto\"\n                    />\n                    <mat-error>Type is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.unit_price\">\n                <label for=\"title\">Unit Price:</label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"unit-price\"\n                        type=\"number\"\n                        placeholder=\"Unit Price\"\n                        formControlName=\"unit_price\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.multiple\">\n                <mat-checkbox name=\"multiple\" formControlName=\"multiple\">\n                    Can select multiple of type\n                </mat-checkbox>\n            </div>\n        </form>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex p-2 items-center justify-center border-t border-solid border-base-200\"\n        >\n            <button\n                btn\n                matRipple\n                [disabled]=\"!form.dirty\"\n                (click)=\"saveChanges()\"\n            >\n                Save\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <div loading class=\"flex flex-col items-center p-8 space-y-2 w-64\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving catering item option...</p>\n            </div>\n        </ng-template>\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let option of types\" [value]=\"option\">\n                {{ option }}\n            </mat-option>\n        </mat-autocomplete>\n    `,\n    styles: [``],\n})\nexport class CateringItemOptionModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for item */\n    public form = new FormGroup({\n        name: new FormControl(this.option.name || '', [Validators.required]),\n        group: new FormControl(this.option.group || '', [Validators.required]),\n        unit_price: new FormControl(this.option.unit_price),\n        multiple: new FormControl(!!this.option.multiple, []),\n    });\n    /** Whether changes are being saved */\n    public loading = false;\n\n    /** Current item details */\n    public get option(): CateringOption {\n        return this._data.option;\n    }\n\n    /** List of available categories */\n    public get types(): string[] {\n        return this._data.types || [];\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringItemOptionModalData\n    ) {}\n\n    public saveChanges() {\n        this.loading = true;\n        const new_option = {\n            ...this.option,\n            id: this.option.id || `option-${randomInt(9999_9999)}`,\n            ...this.form.value,\n        } as CateringOption;\n        this.event.emit({\n            reason: 'done',\n            metadata: {\n                item: new CateringItem({\n                    ...this._data.parent,\n                    options: this._data.parent.options\n                        .filter((i) => i.id !== new_option.id)\n                        .concat([new_option]),\n                }),\n            },\n        });\n    }\n}\n","import { Component, Input } from '@angular/core';\n\nimport { CateringItem } from './catering-item.class';\n\nconst ACTIVE_ITEMS = new Set<string>();\n\n@Component({\n    selector: '[catering-order-item]',\n    template: `\n        <ng-container *ngIf=\"item\">\n            <div class=\"w-16 text-right h-14 relative\">\n                <div\n                    arm\n                    class=\"border-b-2 border-l-2 border-base-200 w-4 h-16 absolute top-1/2 left-1/2 -translate-y-full -translate-x-px\"\n                ></div>\n            </div>\n            <div class=\"w-12 mr-4\">\n                <button\n                    action\n                    icon\n                    matRipple\n                    class=\"border-2 border-base-200 border-dashed text-xl text-dark-fade p-2\"\n                    [class.bg-success]=\"active\"\n                    [class.text-white]=\"active\"\n                    [class.border-solid]=\"active\"\n                    (click)=\"toggle()\"\n                >\n                    <app-icon>{{ active ? 'done' : 'local_pizza' }}</app-icon>\n                </button>\n            </div>\n            <div\n                class=\"flex flex-1 items-center border-b border-base-200 border-solid py-4 space-x-4\"\n            >\n                <div class=\"\">\n                    <div\n                        class=\"p-1 rounded-full bg-base-300 w-10 h-10 flex items-center justify-center font-mono text-sm\"\n                    >\n                        {{ item?.amount || item?.quantity || 1 }}×\n                    </div>\n                </div>\n                <div class=\"flex-1\">{{ item?.name }}</div>\n                <div class=\"flex space-x-2 mr-2 px-4\">\n                    <ng-container *ngFor=\"let opt of item.option_list\">\n                        <div\n                            class=\"text-xs py-1 px-2 bg-warning text-warning-content rounded-2xl shadow\"\n                            *ngIf=\"opt\"\n                        >\n                            {{ opt.name }}\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n        </ng-container>\n    `,\n    styles: [\n        `\n            :host:last-child > div {\n                border: none !important;\n            }\n        `,\n    ],\n})\nexport class CateringOrderItemComponent {\n    @Input() public order_id: string;\n    @Input() public item: CateringItem;\n\n    public active = false;\n\n    public get item_key() {\n        return `${this.order_id}|${this.item?.id}`;\n    }\n\n    public ngOnInit() {\n        this.active = ACTIVE_ITEMS.has(this.item_key);\n    }\n\n    public toggle() {\n        if (ACTIVE_ITEMS.has(this.item_key)) {\n            ACTIVE_ITEMS.delete(this.item_key);\n            this.active = false;\n        } else {\n            ACTIVE_ITEMS.add(this.item_key);\n            this.active = true;\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { CateringOrder } from './catering-order.class';\n\nimport { CateringOrdersService } from './catering-orders.service';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { CATERING_STATUSES } from './catering.vars';\n\n@Component({\n    selector: 'catering-order-list',\n    template: `\n        <div class=\"flex flex-col h-full w-full overflow-auto\">\n            <mat-progress-bar\n                [class.opacity-0]=\"!(loading | async)\"\n                class=\"sticky top-0 left-0 w-full\"\n                mode=\"indeterminate\"\n            ></mat-progress-bar>\n            <simple-table\n                class=\"min-w-[72rem] w-full block text-sm\"\n                [data]=\"order_list\"\n                [columns]=\"[\n                    {\n                        key: 'state',\n                        name: ' ',\n                        size: '4rem',\n                        sortable: false,\n                        content: state_template,\n                    },\n                    {\n                        key: 'deliver_at',\n                        name: 'Time',\n                        content: time_template,\n                    },\n                    {\n                        key: 'event',\n                        name: 'Location',\n                        content: location_template,\n                        sortable: false,\n                    },\n                    {\n                        key: 'event',\n                        name: 'Host',\n                        content: host_template,\n                        sortable: false,\n                    },\n                    { key: 'charge_code', name: 'Charge Code' },\n                    {\n                        key: 'invoice_number',\n                        name: 'Invoice No.',\n                        empty: 'No Invoice',\n                    },\n                    {\n                        key: 'status',\n                        name: 'Status',\n                        content: status_template,\n                        size: '11rem',\n                    },\n                    {\n                        key: 'actions',\n                        name: ' ',\n                        size: '6.5rem',\n                        content: actions_template,\n                        sortable: false,\n                    },\n                ]\"\n                [sortable]=\"true\"\n                [show_children]=\"show_children\"\n                [child_template]=\"child_template\"\n                empty_message=\"No Catering Orders\"\n            >\n            </simple-table>\n            <ng-template #state_template let-data=\"data\">\n                <div class=\"p-2\">\n                    <div\n                        class=\"rounded-full bg-base-200 p-2 text-2xl flex items-center justify-center\"\n                    >\n                        <app-icon>room_service</app-icon>\n                    </div>\n                </div>\n            </ng-template>\n            <ng-template #time_template let-data=\"data\" let-row=\"row\">\n                <div class=\"p-4\">\n                    <div>Deliver at {{ data | date: time_format }}</div>\n                    <div class=\"text-xs opacity-30\">\n                        {{ row?.event?.date | date: 'MMM d' }},\n                        {{ row?.event?.date | date: time_format }}\n                        -\n                        {{ row?.event?.date_end | date: 'MMM d' }},\n                        {{ row?.event?.date_end | date: time_format }}\n                    </div>\n                </div>\n            </ng-template>\n            <ng-template #location_template let-data=\"data\">\n                <div class=\"px-4 py-2\">\n                    {{ data?.space?.display_name || data?.space?.name || '' }}\n                    <span\n                        class=\"opacity-30\"\n                        *ngIf=\"\n                            !(data?.space?.display_name || data?.space?.name)\n                        \"\n                    >\n                        No Location\n                    </span>\n                </div>\n            </ng-template>\n            <ng-template #host_template let-data=\"data\">\n                <div class=\"px-4 py-2\">\n                    <div>\n                        {{ data?.organiser?.name || data?.host || '' }}\n                        <span\n                            class=\"opacity-30\"\n                            *ngIf=\"!(data?.organiser?.name || data?.host)\"\n                        >\n                            Unknown Host\n                        </span>\n                    </div>\n                    <div class=\"text-xs opacity-30\">\n                        {{ data?.organiser?.email || data?.host }}\n                    </div>\n                </div>\n            </ng-template>\n            <ng-template #status_template let-row=\"row\" let-data=\"data\">\n                <div class=\"px-4 py-2\">\n                    <button\n                        status\n                        matRipple\n                        class=\"rounded-3xl text-base border-none h-10 px-4 flex items-center text-white w-36\"\n                        [style.background]=\"status(data)?.colour\"\n                        [matMenuTriggerFor]=\"menu\"\n                    >\n                        <div class=\"flex text-center capitalize mx-2\">\n                            {{ status(data)?.name }}\n                        </div>\n                        <app-icon class=\"pl-2\">arrow_drop_down</app-icon>\n                    </button>\n                </div>\n                <mat-menu #menu=\"matMenu\">\n                    <button\n                        mat-menu-item\n                        *ngFor=\"let status of statuses\"\n                        class=\"flex items-center\"\n                        (click)=\"updateStatus(row, status.id)\"\n                    >\n                        <div class=\"flex items-center space-x-2\">\n                            <div\n                                class=\"rounded-full h-4 w-4 mr-2\"\n                                [style.background-color]=\"status.colour\"\n                            ></div>\n                            <span class=\"mr-2 w-20\">{{ status.name }}</span>\n                        </div>\n                    </button>\n                </mat-menu>\n            </ng-template>\n            <ng-template #actions_template let-row=\"row\">\n                <div class=\"flex items-center space-x-2 p-2 mx-auto\">\n                    <button\n                        icon\n                        matRipple\n                        customTooltip\n                        [hover]=\"true\"\n                        xPosition=\"end\"\n                        yPosition=\"top\"\n                        [content]=\"notes_template\"\n                        [disabled]=\"!row.notes\"\n                    >\n                        <app-icon>description</app-icon>\n                    </button>\n                    <ng-template #notes_template>\n                        <div\n                            class=\"p-2 rounded-lg bg-base-100 text-base-content max-w-[32rem] min-w-[8rem] shadow border border-base-200\"\n                        >\n                            <div class=\"mb-2\">Notes</div>\n                            <p class=\"text-sm px-4 py-2 bg-base-200 rounded\">\n                                {{ row.notes }}\n                            </p>\n                        </div>\n                    </ng-template>\n                    <button\n                        icon\n                        matRipple\n                        (click)=\"show_children[row.id] = !show_children[row.id]\"\n                    >\n                        <app-icon>\n                            {{\n                                show_children[row.id]\n                                    ? 'keyboard_arrow_down'\n                                    : 'chevron_right'\n                            }}\n                        </app-icon>\n                    </button>\n                </div>\n            </ng-template>\n            <ng-template #child_template let-row=\"row\">\n                <ul\n                    *ngIf=\"row?.items.length\"\n                    class=\"list-none p-0 m-0 w-full relative z-0\"\n                >\n                    <li\n                        catering-order-item\n                        class=\"flex items-center\"\n                        *ngFor=\"let item of row.items; let i = index\"\n                        [order_id]=\"row?.id\"\n                        [item]=\"item\"\n                    ></li>\n                </ul>\n            </ng-template>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class CateringOrderListComponent extends AsyncHandler {\n    /** List of filtered orders */\n    public readonly order_list = this._orders.filtered;\n    /** Whether order list is loading */\n    public readonly loading = this._orders.loading;\n\n    public readonly statuses = CATERING_STATUSES;\n    public readonly show_children: Record<string, boolean> = {};\n\n    public readonly updateStatus = async (order, s) => {\n        await this._orders.updateStatus(order, s);\n        this.timeout('status-change', () => ((order as any).status = s));\n    };\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public status(value: string) {\n        return CATERING_STATUSES.find((i) => i.id === value);\n    }\n\n    constructor(\n        private _orders: CateringOrdersService,\n        private _settings: SettingsService,\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._orders.startPolling();\n    }\n\n    public ngOnDestroy() {\n        this._orders.stopPolling();\n    }\n\n    /* istanbul ignore next */\n    public trackByFn(index: number, order: CateringOrder) {\n        return order ? order.id : undefined;\n    }\n}\n","import { Component, Inject, Output, EventEmitter, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Observable } from 'rxjs';\n\nimport { AsyncHandler, DialogEvent, HashMap, unique } from '@placeos/common';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringOrder } from './catering-order.class';\nimport { CateringOption } from './catering.interfaces';\nimport { OrganisationService } from '@placeos/organisation';\nimport { cateringItemAvailable } from './utilities';\nimport { AttachedResourceRuleset } from '@placeos/components';\n\nexport interface CateringOrderModalData {\n    order: CateringOrder;\n    code: string;\n    menu: Observable<CateringItem[]>;\n    loading: Observable<boolean>;\n    getCateringConfig: (_: string) => Promise<AttachedResourceRuleset[]>;\n    selectOptions: (_: CateringOption[]) => Promise<CateringOption[]>;\n}\n\n// TODO: Split template into 2 children components. Order menu and Order Confirm;\n\n@Component({\n    selector: 'app-catering-order-modal',\n    template: `\n        <div class=\"main min-w-[20rem]\" *ngIf=\"!loading; else load_state\">\n            <ng-container *ngIf=\"!show_order_details; else order_details\">\n                <mat-tab-group>\n                    <ng-container *ngFor=\"let cat of categories\">\n                        <mat-tab\n                            *ngIf=\"(menu_items || {})[cat].length\"\n                            [label]=\"cat\"\n                        >\n                            <div class=\"list\">\n                                <div\n                                    item\n                                    class=\"flex items-center p-2 border-b border-base-200\"\n                                    *ngFor=\"let item of (menu_items || {})[cat]\"\n                                >\n                                    <div class=\"flex-1 w-1/2\">\n                                        <div class=\"flex-1 w-1/2\">\n                                            {{ item.name }}\n                                        </div>\n                                        <div\n                                            class=\"text-xs no-underline\"\n                                            *ngIf=\"item.options.length\"\n                                        >\n                                            Options Available\n                                        </div>\n                                    </div>\n                                    <div\n                                        class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                                    >\n                                        {{\n                                            item.unit_price / 100\n                                                | currency: code\n                                        }}\n                                    </div>\n                                    <a-counter\n                                        ngDefaultControl\n                                        [ngModel]=\"item.quantity\"\n                                        (ngModelChange)=\"\n                                            updateItemQuantity(item, $event)\n                                        \"\n                                        *ngIf=\"!item.options.length\"\n                                    ></a-counter>\n                                    <div\n                                        class=\"flex items-center\"\n                                        *ngIf=\"item.options.length\"\n                                    >\n                                        <div\n                                            [matTooltip]=\"\n                                                item.quantity\n                                                    ? 'Items with options must be removed from order confirmation page'\n                                                    : ''\n                                            \"\n                                        >\n                                            <button\n                                                icon\n                                                matRipple\n                                                [disabled]=\"true\"\n                                            >\n                                                <app-icon>remove</app-icon>\n                                            </button>\n                                        </div>\n                                        <div\n                                            class=\"count h-12 w-12 flex items-center justify-center\"\n                                        >\n                                            {{ item.quantity }}\n                                        </div>\n                                        <button\n                                            icon\n                                            matRipple\n                                            (click)=\"addItem(item)\"\n                                        >\n                                            <app-icon>add</app-icon>\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </mat-tab>\n                    </ng-container>\n                </mat-tab-group>\n            </ng-container>\n        </div>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex items-center justify-center space-x-2 p-2 border-t border-base-200\"\n        >\n            <ng-container *ngIf=\"!show_order_details; else order_actions\">\n                <button btn matRipple class=\"inverse\" mat-dialog-close>\n                    Cancel\n                </button>\n                <button\n                    confirm\n                    btn\n                    matRipple\n                    [disabled]=\"!order.item_count\"\n                    [matBadge]=\"order.item_count\"\n                    [matBadgeHidden]=\"!order.item_count\"\n                    matBadgeColor=\"warn\"\n                    (click)=\"show_order_details = true\"\n                >\n                    Confirm\n                </button>\n            </ng-container>\n            <ng-template #order_actions>\n                <button\n                    matRipple\n                    class=\"inverse\"\n                    (click)=\"show_order_details = false\"\n                >\n                    Back\n                </button>\n                <button save btn matRipple (click)=\"saveOrder()\">\n                    Save Order\n                </button>\n            </ng-template>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col w-64 p-8 items-center space-y-2\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </div>\n        </ng-template>\n        <ng-template #order_details>\n            <header class=\"h-[3.25rem]\">\n                <h3>Confirm Order</h3>\n            </header>\n            <div class=\"list\">\n                <div\n                    item\n                    class=\"flex items-center p-2 border-b border-base-200\"\n                    *ngFor=\"let item of order.items\"\n                >\n                    <div class=\"flex-1 w-1/2\">\n                        <div class=\"flex-1 w-1/2\">{{ item.name }}</div>\n                        <div\n                            class=\"text-xs underline\"\n                            *ngIf=\"item.options.length\"\n                            [matTooltip]=\"optionsFor(item)\"\n                        >\n                            {{ item.options.length }} option{{\n                                item.options.length === 1 ? '' : 's'\n                            }}\n                            selected\n                        </div>\n                    </div>\n                    <div\n                        class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                    >\n                        {{ item.total_cost / 100 | currency: code }}\n                    </div>\n                    <a-counter\n                        [ngModel]=\"item.quantity\"\n                        (ngModelChange)=\"updateItemQuantity(item, $event)\"\n                    ></a-counter>\n                </div>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            .list {\n                height: 24em;\n                min-width: 32em;\n                max-width: calc(100vw - 1em);\n            }\n\n            footer button {\n                min-width: 12em;\n            }\n\n            input {\n                position: relative;\n                width: 100%;\n                padding: 1em;\n                border: none;\n                border-radius: 0 !important;\n                border-top: 1px solid #ccc;\n                border-bottom: 1px solid #ccc;\n                outline: none;\n                font-size: 1em;\n            }\n\n            input:focus {\n                border: none;\n                border-top: 2px solid var(--s);\n                border-bottom: 2px solid var(--s);\n                box-shadow: none;\n            }\n\n            input.error::placeholder {\n                color: rgba(var(--error), 0.45);\n            }\n        `,\n    ],\n})\nexport class CateringOrderModalComponent\n    extends AsyncHandler\n    implements OnInit\n{\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Whether changes are being saved */\n    public loading = '';\n    /** Current order */\n    public order: CateringOrder;\n    /** Name of the active category */\n    public category: string;\n    /** Whether order details should be shown */\n    public show_order_details: boolean;\n    /** Catering rules for selected space */\n    public rules: readonly AttachedResourceRuleset[];\n    /** List of menu items to show */\n    public menu_items: HashMap<CateringItem[]> = {};\n    /** List of categories for the active menu */\n    public categories: string[] = [];\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        @Inject(MAT_DIALOG_DATA) private _data: CateringOrderModalData\n    ) {\n        super();\n        this.loading = 'Loading menu...';\n    }\n\n    public async ngOnInit() {\n        this.loading = 'Loading menu...';\n        this.order = new CateringOrder(this._data.order);\n        this.rules = await this._data.getCateringConfig(\n            this.order.event?.space?.level?.parent_id\n        );\n        this._data.menu.subscribe((list) => {\n            this.loading = 'Loading menu...';\n            const categories = unique(list.map((item) => item.category));\n            const map = {};\n            for (const cat of categories) {\n                map[cat] = list.filter((item) => {\n                    return (\n                        item.category === cat &&\n                        cateringItemAvailable(\n                            item,\n                            this.rules as any,\n                            this.order.event\n                        )\n                    );\n                });\n            }\n            this.categories = categories;\n            this.menu_items = map;\n            this.updateMenuQuantities();\n            this.timeout('clear_loading', () => (this.loading = ''), 1000);\n        });\n    }\n\n    public addItem(item: CateringItem, choose_options: boolean = true) {\n        const old_item = this.order.items.find(\n            (itm) =>\n                itm.id === item.id &&\n                itm.options.length ===\n                    itm.options.reduce(\n                        (c, o) =>\n                            c +\n                            (item.options.find((opt) => o.id === opt.id)\n                                ? 1\n                                : 0),\n                        0\n                    )\n        );\n        if (choose_options && item.options?.length) {\n            this._data.selectOptions(item.options).then((options) => {\n                const new_item = new CateringItem({ ...item, options });\n                this.addItem(new_item, false);\n            });\n        } else if (old_item) {\n            this.order = new CateringOrder({\n                ...this.order,\n                items: this.order.items\n                    .filter(\n                        (i) =>\n                            !(\n                                i.id === item.id &&\n                                i.options_string === item.options_string\n                            )\n                    )\n                    .concat([\n                        new CateringItem({\n                            ...item,\n                            quantity: old_item.quantity + 1,\n                        }),\n                    ]),\n            });\n        } else {\n            this.order = new CateringOrder({\n                ...this.order,\n                items: this.order.items.concat([\n                    new CateringItem({ ...item, quantity: 1 }),\n                ]),\n            });\n        }\n        this.updateMenuQuantities();\n    }\n\n    public removeItem(item: CateringItem) {\n        this.order = new CateringOrder({\n            ...this.order,\n            items: this.order.items.filter(\n                (_) =>\n                    _.id !== item.id && _.options_string === item.options_string\n            ),\n        });\n        this.updateMenuQuantities();\n    }\n\n    public updateItemQuantity(item: CateringItem, amount: number) {\n        const old_item = this.order.items.find(\n            (itm) =>\n                itm.id === item.id && itm.options_string === item.options_string\n        );\n        let items = [...this.order.items];\n        if (old_item) {\n            items = this.order.items\n                .filter(\n                    (i) =>\n                        !(\n                            i.id === item.id &&\n                            i.options_string === item.options_string\n                        )\n                )\n                .concat([new CateringItem({ ...item, quantity: amount })]);\n        } else {\n            items = this.order.items.concat([\n                new CateringItem({ ...item, quantity: amount }),\n            ]);\n        }\n        items.sort((a, b) => a.name.localeCompare(b.name));\n        this.order = new CateringOrder({\n            ...this.order,\n            items,\n        });\n        this.updateMenuQuantities();\n    }\n\n    public updateMenuQuantities() {\n        for (const cat in this.menu_items) {\n            for (const item of this.menu_items[cat]) {\n                (item as any).quantity = this.order.items.reduce(\n                    (c, i) => (i.id === item.id ? c + i.quantity : c),\n                    0\n                );\n            }\n        }\n    }\n\n    public optionsFor(item: CateringItem) {\n        return item.options.map((i) => i.name).join('\\n');\n    }\n\n    public saveOrder() {\n        this.event.emit({\n            reason: 'done',\n            metadata: { order: this.order },\n        });\n    }\n\n    public confirmOrder() {\n        this.show_order_details = true;\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { unique } from '@placeos/common';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOption } from '../catering.interfaces';\n\ninterface CateringOptionGroup {\n    name: string;\n    multiple: boolean;\n    options: CateringOption[];\n}\n\n@Component({\n    selector: 'catering-item-details',\n    template: `\n        <ng-container *ngIf=\"item; else empty_state\">\n            <section image class=\"relative w-full h-64 sm:h-40 bg-neutral\">\n                <image-carousel\n                    [images]=\"item.images\"\n                    class=\"absolute inset-0\"\n                ></image-carousel>\n                <button\n                    icon\n                    matRipple\n                    name=\"close-catering-item-details\"\n                    (click)=\"close.emit()\"\n                    class=\"absolute top-2 left-2 bg-neutral sm:hidden text-white\"\n                >\n                    <app-icon>arrow_back</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    name=\"toggle-catering-item-favourite-details\"\n                    [class.text-white]=\"!fav\"\n                    [class.text-blue-400]=\"fav\"\n                    (click)=\"toggleFav.emit()\"\n                    class=\"absolute top-2 right-2 bg-neutral\"\n                >\n                    <app-icon>{{\n                        fav ? 'favorite' : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </section>\n            <div class=\"p-2 space-y-2 flex-1 h-1/2 overflow-auto\">\n                <section actions class=\"z-0 flex items-center justify-between\">\n                    <div>\n                        <h2 class=\"text-xl font-medium mb-2 mt-4\">\n                            {{ item.name }}\n                        </h2>\n                        <p *ngIf=\"item.unit_price\">\n                            {{ item.unit_price / 100 | currency: code }}\n                        </p>\n                    </div>\n                    <a-counter\n                        [(ngModel)]=\"item.quantity\"\n                        (ngModelChange)=\"\n                            active ? activeChange.emit(active) : ''\n                        \"\n                        [min]=\"1\"\n                        [max]=\"item.count || 10\"\n                    ></a-counter>\n                </section>\n                <section class=\"flex items-center flex-wrap\">\n                    <div\n                        class=\"px-2 py-1 rounded-2xl bg-base-200 text-sm capitalize m-1\"\n                        *ngFor=\"let tag of item.tags\"\n                    >\n                        {{ tag }}\n                    </div>\n                </section>\n                <hr />\n                <section details class=\"space-y-2\">\n                    <div class=\"flex flex-col flex-wrap\">\n                        <div\n                            class=\"min-w-1/2 flex-1\"\n                            *ngFor=\"let group of groups\"\n                            [attr.group]=\"group.name\"\n                        >\n                            <div class=\"font-medium p-2 capitalize\">\n                                {{ group.name }}\n                            </div>\n                            <div class=\"flex flex-col pl-4\">\n                                <ng-container\n                                    *ngIf=\"!group.multiple; else multi_options\"\n                                >\n                                    <mat-radio-group\n                                        class=\"flex flex-col\"\n                                        aria-label=\"Select an option\"\n                                        [(ngModel)]=\"group_state[group.name]\"\n                                        (ngModelChange)=\"\n                                            updateGroupOption(group, $event)\n                                        \"\n                                        [disabled]=\"item?.in_order\"\n                                    >\n                                        <mat-radio-button class=\"m-0\" value=\"\">\n                                            <span class=\"font-medium p-2\" i18n\n                                                >None</span\n                                            >\n                                        </mat-radio-button>\n                                        <mat-radio-button\n                                            class=\"m-0\"\n                                            *ngFor=\"let opt of group?.options\"\n                                            [value]=\"opt.id\"\n                                        >\n                                            <div\n                                                class=\"flex items-center justify-center max-w-[calc(100vw-4rem)] sm:max-w-[15rem]\"\n                                            >\n                                                <div\n                                                    class=\"font-medium p-2 flex-1 w-1/2 whitespace-normal\"\n                                                >\n                                                    {{ opt.name }}\n                                                </div>\n                                                <div\n                                                    class=\"opacity-60 text-xs\"\n                                                    *ngIf=\"opt.unit_price\"\n                                                >\n                                                    +{{\n                                                        opt.unit_price / 100\n                                                            | currency: code\n                                                    }}\n                                                </div>\n                                            </div>\n                                        </mat-radio-button>\n                                    </mat-radio-group>\n                                </ng-container>\n                                <ng-template #multi_options>\n                                    <mat-checkbox\n                                        *ngFor=\"let opt of group?.options\"\n                                        [(ngModel)]=\"option_state[opt.id]\"\n                                        (ngModelChange)=\"\n                                            updateCheckedState(opt.id, $event)\n                                        \"\n                                        [disabled]=\"item?.in_order\"\n                                    >\n                                        <div\n                                            class=\"flex items-center justify-center\"\n                                        >\n                                            <div\n                                                class=\"font-medium p-2 flex-1 w-1/2\"\n                                            >\n                                                {{ opt.name }}\n                                            </div>\n                                            <div\n                                                class=\"opacity-60 text-xs\"\n                                                *ngIf=\"opt.unit_price\"\n                                            >\n                                                +{{\n                                                    opt.unit_price / 100\n                                                        | currency: code\n                                                }}\n                                            </div>\n                                        </div>\n                                    </mat-checkbox>\n                                </ng-template>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n            <div\n                class=\"px-2 pt-2 pb-[5.5rem] border-t border-base-200 shadow sm:hidden\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"select-catering-item-details\"\n                    [class.inverse]=\"active\"\n                    class=\"w-full\"\n                    (click)=\"active = !active; activeChange.emit(active)\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-2xl\">{{\n                            active ? 'remove' : 'add'\n                        }}</app-icon>\n                        <p>\n                            {{ active ? 'Remove this item' : 'Add this item' }}\n                        </p>\n                    </div>\n                </button>\n            </div>\n        </ng-container>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\" i18n>\n                    Select an item to view it's details\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 30%;\n                min-width: 20rem;\n                height: 100%;\n                min-height: 65vh;\n            }\n        `,\n    ],\n})\nexport class CateringItemDetailsComponent {\n    @Input() public item?: CateringItem;\n    @Input() public active: boolean = false;\n    @Input() public fav: boolean = false;\n    @Input() public code: string = 'USD';\n\n    @Output() public toggleFav = new EventEmitter<void>();\n    @Output() public activeChange = new EventEmitter<boolean>();\n    @Output() public close = new EventEmitter<void>();\n\n    public option_state: Record<string, boolean> = {};\n    public group_state: Record<string, string> = {};\n    public groups: CateringOptionGroup[];\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.item && this.item) {\n            this._update();\n        }\n    }\n\n    public updateGroupOption(group: CateringOptionGroup, id: string) {\n        if (!group) return;\n        this.group_state[group.name] = id;\n        for (const option of group.options) {\n            option.active = option.id === id;\n        }\n    }\n\n    public updateCheckedState(id: string, state: boolean) {\n        const option = this.item?.options.find((_) => _.id === id);\n        if (option) option.active = state;\n    }\n\n    private _update() {\n        if (!this.item) return;\n        if (!this.item.quantity) {\n            (this.item as any).quantity = 1;\n        }\n        this.option_state = {};\n        this.group_state = {};\n        const groups = unique(this.item.options.map((i) => i.group || 'Other'));\n        const group_list = [];\n        for (const group of groups) {\n            const options = this.item.options.filter((i) => i.group === group);\n            group_list.push({\n                name: group,\n                multiple: !!options.find((i) => i.multiple),\n                options,\n            });\n        }\n        this.groups = group_list;\n        if (this.item.option_list) {\n            for (const opt of this.item.option_list) {\n                const option = this.item.options.find((_) => _.id === opt.id);\n                if (option) {\n                    option.active = true;\n                    this.option_state[opt.id] = true;\n                    this.updateGroupOption(\n                        this.groups.find((g) => g.name === option.group),\n                        option.id\n                    );\n                }\n            }\n        }\n    }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { take } from 'rxjs/operators';\nimport { CateringOrderStateService } from './catering-order-state.service';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport {\n    addDays,\n    addMinutes,\n    differenceInMinutes,\n    endOfDay,\n    format,\n    startOfDay,\n} from 'date-fns';\n\nconst ICONS = {\n    coffee: `<svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_605_8664)\">\n    <path d=\"M38.388 21.2474C37.8243 20.7996 37.1598 20.4847 36.4474 20.3278C35.735 20.1708 34.9944 20.1762 34.2846 20.3434C34.2476 19.7774 34.2049 19.2037 34.1483 18.6155C34.1243 18.3664 34.0043 18.1349 33.8119 17.9668C33.6195 17.7986 33.3687 17.706 33.1088 17.707H1.26151C1.00166 17.706 0.750839 17.7986 0.558442 17.9668C0.366045 18.1349 0.246035 18.3664 0.222073 18.6155C-0.42931 25.3581 0.106585 30.5307 4.80024 35.4799C8.88062 39.7819 15.7271 39.9998 17.0599 39.9998H17.3047C18.6375 39.9998 25.4863 39.7774 29.5643 35.4799C30.5412 34.4597 31.3937 33.3353 32.1052 32.1286C32.2481 32.1199 32.3875 32.0819 32.514 32.0174C34.0959 31.2139 35.6169 30.3039 37.0656 29.2943C38.3815 28.4227 39.3664 27.1618 39.871 25.7028C40.0702 24.9006 40.0372 24.0612 39.7758 23.2757C39.5144 22.4902 39.0344 21.7887 38.388 21.2474ZM28.0329 34.13C24.4699 37.8905 18.0323 37.9984 17.3093 37.9984H17.0645C16.3426 37.9984 9.90389 37.8872 6.34092 34.13C2.37257 29.9436 1.75351 25.466 2.21549 19.7085H32.1583C32.6214 25.4649 32.0024 29.9425 28.0329 34.13ZM37.8498 25.2091C37.4485 26.2369 36.7212 27.117 35.771 27.7243C35.024 28.2636 34.2434 28.7582 33.4334 29.2053C34.1268 27.0036 34.4428 24.7078 34.3689 22.4082C34.3839 22.4027 34.3989 22.4082 34.4139 22.3982C34.8447 22.2182 35.3192 22.1579 35.7837 22.2242C36.2482 22.2905 36.6841 22.4808 37.0421 22.7733C37.4001 23.0659 37.6658 23.4491 37.8092 23.8796C37.9525 24.3101 37.9678 24.7707 37.8533 25.2091H37.8498Z\" fill=\"currentcolor\"/>\n    <path d=\"M9.43243 8.16274C9.85735 8.48322 10.2069 8.88673 10.4582 9.34669C10.7094 9.80666 10.8565 10.3126 10.89 10.8313C10.7939 11.9569 10.2754 13.0103 9.43128 13.7946C9.32937 13.883 9.24664 13.9899 9.18786 14.1092C9.12907 14.2286 9.0954 14.3579 9.08878 14.4898C9.08216 14.6217 9.10275 14.7536 9.14931 14.8778C9.19588 15.002 9.26753 15.1161 9.36012 15.2136C9.45271 15.311 9.56442 15.3898 9.6888 15.4455C9.81319 15.5012 9.9478 15.5326 10.0849 15.538C10.2219 15.5433 10.3587 15.5225 10.4874 15.4767C10.6161 15.4309 10.734 15.3611 10.8345 15.2712C12.1048 14.1093 12.8679 12.5254 12.9688 10.8413C12.9432 10.042 12.7392 9.25727 12.3708 8.5405C12.0023 7.82373 11.478 7.19166 10.8334 6.68722C10.4067 6.38353 10.055 5.99283 9.80341 5.54303C9.55184 5.09323 9.40662 4.59547 9.37815 4.08534C9.51392 3.18283 10.0073 2.36595 10.7548 1.80591C10.9718 1.64618 11.1147 1.41065 11.1528 1.15024C11.1908 0.889843 11.1208 0.625512 10.958 0.414392C10.7951 0.203272 10.5525 0.062327 10.2826 0.0220596C10.0127 -0.0182078 9.73715 0.0454338 9.51559 0.199206C8.90219 0.651996 8.39004 1.21933 8.0098 1.86721C7.62956 2.5151 7.38907 3.2302 7.30273 3.9697C7.30292 4.77855 7.49485 5.5767 7.86392 6.30333C8.23298 7.02996 8.76944 7.66592 9.43243 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M23.0984 8.16274C23.5234 8.48322 23.8729 8.88673 24.1242 9.34669C24.3754 9.80666 24.5225 10.3126 24.556 10.8313C24.4599 11.9569 23.9414 13.0103 23.0973 13.7946C22.9954 13.883 22.9126 13.9899 22.8539 14.1092C22.7951 14.2286 22.7614 14.3579 22.7548 14.4898C22.7482 14.6217 22.7687 14.7536 22.8153 14.8778C22.8619 15.002 22.9335 15.1161 23.0261 15.2136C23.1187 15.311 23.2304 15.3898 23.3548 15.4455C23.4792 15.5012 23.6138 15.5326 23.7509 15.538C23.8879 15.5433 24.0247 15.5225 24.1534 15.4767C24.2821 15.4309 24.4 15.3611 24.5005 15.2712C25.7708 14.1093 26.5339 12.5254 26.6348 10.8413C26.6092 10.042 26.4052 9.25727 26.0368 8.5405C25.6683 7.82373 25.144 7.19166 24.4994 6.68722C24.0727 6.38353 23.721 5.99283 23.4694 5.54303C23.2178 5.09323 23.0726 4.59547 23.0442 4.08534C23.1799 3.18283 23.6733 2.36595 24.4208 1.80591C24.6378 1.64618 24.7807 1.41065 24.8188 1.15024C24.8568 0.889843 24.7868 0.625512 24.624 0.414392C24.4611 0.203272 24.2185 0.062327 23.9486 0.0220596C23.6787 -0.0182078 23.4032 0.0454338 23.1816 0.199206C22.5682 0.651996 22.0561 1.21933 21.6758 1.86721C21.2956 2.5151 21.0551 3.2302 20.9688 3.9697C20.9689 4.77855 21.1609 5.5767 21.5299 6.30333C21.899 7.02996 22.4355 7.66592 23.0984 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M16.2645 8.16274C16.6894 8.48322 17.039 8.88673 17.2902 9.34669C17.5414 9.80666 17.6886 10.3126 17.722 10.8313C17.626 11.9569 17.1074 13.0103 16.2633 13.7946C16.1614 13.883 16.0787 13.9899 16.0199 14.1092C15.9611 14.2286 15.9274 14.3579 15.9208 14.4898C15.9142 14.6217 15.9348 14.7536 15.9813 14.8778C16.0279 15.002 16.0996 15.1161 16.1922 15.2136C16.2847 15.311 16.3964 15.3898 16.5208 15.4455C16.6452 15.5012 16.7798 15.5326 16.9169 15.538C17.054 15.5433 17.1908 15.5225 17.3194 15.4767C17.4481 15.4309 17.5661 15.3611 17.6666 15.2712C18.9368 14.1093 19.6999 12.5254 19.8009 10.8413C19.7752 10.042 19.5713 9.25727 19.2028 8.5405C18.8343 7.82373 18.31 7.19166 17.6654 6.68722C17.2387 6.38353 16.887 5.99283 16.6354 5.54303C16.3839 5.09323 16.2386 4.59547 16.2102 4.08534C16.346 3.18283 16.8393 2.36595 17.5869 1.80591C17.8038 1.64618 17.9468 1.41065 17.9848 1.15024C18.0228 0.889843 17.9528 0.625512 17.79 0.414392C17.6271 0.203272 17.3845 0.062327 17.1146 0.0220596C16.8447 -0.0182078 16.5692 0.0454338 16.3476 0.199206C15.7342 0.651996 15.2221 1.21933 14.8418 1.86721C14.4616 2.5151 14.2211 3.2302 14.1348 3.9697C14.1349 4.77855 14.3269 5.5767 14.6959 6.30333C15.065 7.02996 15.6015 7.66592 16.2645 8.16274Z\" fill=\"currentcolor\"/>\n    <path d=\"M7.16328 29.7138C5.86597 27.7051 5.17938 25.3866 5.18141 23.0212C5.18141 22.7558 5.07191 22.5013 4.87697 22.3136C4.68204 22.1259 4.41765 22.0205 4.14198 22.0205C3.8663 22.0205 3.60191 22.1259 3.40698 22.3136C3.21204 22.5013 3.10254 22.7558 3.10254 23.0212C3.10081 25.7653 3.89738 28.4551 5.40201 30.7857C5.55001 31.0072 5.78275 31.1637 6.04976 31.2211C6.31677 31.2784 6.59652 31.2322 6.82832 31.0923C7.06012 30.9524 7.22529 30.7301 7.288 30.4737C7.35071 30.2174 7.30588 29.9475 7.16328 29.7227V29.7138Z\" fill=\"currentcolor\"/>\n    <path d=\"M9.06498 32.7103C8.94112 32.6482 8.84235 32.548 8.78434 32.4257C8.73082 32.3026 8.65227 32.1911 8.55334 32.0977C8.45441 32.0043 8.33708 31.9309 8.20825 31.8818C8.07942 31.8327 7.9417 31.8089 7.80317 31.8118C7.66464 31.8146 7.5281 31.8441 7.40159 31.8986C7.27508 31.953 7.16115 32.0312 7.06649 32.1286C6.97184 32.226 6.89837 32.3407 6.8504 32.4658C6.80244 32.591 6.78094 32.7241 6.78719 32.8574C6.79344 32.9906 6.8273 33.1213 6.88678 33.2418C7.13536 33.7758 7.56332 34.2136 8.10177 34.4849C8.34682 34.6079 8.63256 34.6321 8.89616 34.5523C9.15975 34.4724 9.37959 34.295 9.50732 34.0591C9.63505 33.8232 9.6602 33.5481 9.57725 33.2943C9.49429 33.0405 9.31003 32.8289 9.06498 32.7059V32.7103Z\" fill=\"currentcolor\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_605_8664\">\n    <rect width=\"40\" height=\"40\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>\n    `,\n    drinks: `<svg width=\"28\" height=\"39\" viewBox=\"0 0 28 39\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_598_8203)\">\n    <path d=\"M0 0L0.662157 8.11078C0.662157 8.12619 0.653028 8.1394 0.653028 8.15481C0.658117 8.18851 0.664982 8.22193 0.673584 8.25496L3.1852 39H25.1048L28.0034 0H0ZM25.7932 1.98093L25.4085 7.16985C25.3982 7.16985 25.3902 7.16985 25.3799 7.16985H2.64519L2.22279 1.98642L25.7932 1.98093ZM23.1948 37.0191H5.08147L2.80846 9.14527H25.2612L23.1948 37.0191Z\" fill=\"currentcolor\"/>\n    <path d=\"M6.24983 23.3122C6.28864 23.3122 6.32861 23.3122 6.364 23.3122C6.49825 23.2972 6.6281 23.2567 6.74613 23.1933C6.86415 23.1298 6.96804 23.0445 7.05181 22.9423C7.13559 22.8401 7.19762 22.7229 7.23436 22.5975C7.2711 22.4722 7.28181 22.341 7.26589 22.2117C7.0661 20.5444 6.86517 18.8155 6.66538 17.0855C6.4576 15.2861 6.24869 13.4846 6.03862 11.7502C5.99894 11.4962 5.85848 11.267 5.64686 11.111C5.43525 10.955 5.16904 10.8843 4.90438 10.9138C4.63973 10.9434 4.39731 11.0708 4.22831 11.2694C4.0593 11.4679 3.9769 11.722 3.9985 11.978C4.20628 13.7091 4.41522 15.5084 4.623 17.3056C4.82392 19.0378 5.02485 20.77 5.22578 22.4395C5.25574 22.6807 5.37661 22.9029 5.56542 23.0638C5.75424 23.2247 5.99781 23.3131 6.24983 23.3122Z\" fill=\"currentcolor\"/>\n    <path d=\"M6.05485 24.414C5.9204 24.4288 5.79029 24.469 5.67201 24.5323C5.55372 24.5957 5.44958 24.6809 5.36557 24.7832C5.28156 24.8854 5.21933 25.0027 5.18245 25.1282C5.14557 25.2537 5.13477 25.385 5.15067 25.5145L5.31392 26.8857C5.34197 27.1276 5.46141 27.351 5.64945 27.5134C5.83748 27.6758 6.08096 27.7658 6.33341 27.7662C6.37223 27.7662 6.41105 27.7662 6.44759 27.7607C6.5817 27.7462 6.71152 27.7063 6.82966 27.6434C6.9478 27.5806 7.05194 27.4959 7.13612 27.3942C7.22029 27.2925 7.28287 27.1758 7.32027 27.0508C7.35766 26.9258 7.36913 26.7949 7.35404 26.6656L7.1908 25.2889C7.15839 25.0286 7.02114 24.791 6.80864 24.6273C6.59614 24.4636 6.32541 24.387 6.05485 24.414Z\" fill=\"currentcolor\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_598_8203\">\n    <rect width=\"28\" height=\"39\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>\n    `,\n    snacks: `<svg width=\"44\" height=\"30\" viewBox=\"0 0 44 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M39.9739 12.3839H39.9673C39.8416 11.3068 39.529 10.2613 39.0441 9.29623C38.2937 7.89066 37.2396 6.67826 35.9616 5.75118C34.6837 4.82411 33.2156 4.20677 31.669 3.94605C31.658 3.94605 31.6471 3.94605 31.635 3.94605C29.7116 1.41671 26.4577 0.0219894 22.162 0.00292969C17.7851 0.0287164 14.3819 1.44362 12.4015 3.94605C12.3773 3.94605 12.3553 3.94605 12.3312 3.94605C10.7845 4.20721 9.31631 4.82484 8.03823 5.75207C6.76016 6.6793 5.70574 7.89174 4.95505 9.29734C4.47112 10.2623 4.15888 11.3074 4.03289 12.3839H4.02631C2.34137 14.0479 1.12087 16.1402 0.490328 18.4457C-0.140217 20.7512 -0.15805 23.1866 0.438675 25.5015C1.16762 28.1328 2.30494 29.6228 3.81991 29.9323C4.02143 29.975 4.22667 29.9968 4.43249 29.9973C5.03503 29.925 5.61546 29.722 6.13483 29.4017C6.6542 29.0815 7.1005 28.6516 7.44377 28.1407C8.13563 27.3077 8.96125 26.601 9.88529 26.0508C10.6588 25.658 11.4715 25.3513 12.3092 25.136C12.7407 25.007 13.2105 24.8624 13.7122 24.6875C14.2182 24.7717 14.7299 24.8148 15.2426 24.8164C16.5191 24.8132 17.7827 24.5561 18.963 24.0597C19.2243 24.1678 19.4915 24.2603 19.7633 24.3366C20.4624 24.5255 21.1737 24.6634 21.892 24.7492C21.9649 24.7584 22.0386 24.7584 22.1115 24.7492C22.8298 24.6634 23.5411 24.5255 24.2402 24.3366C24.5121 24.2602 24.7794 24.1674 25.0405 24.0585C26.6985 24.7663 28.5179 24.9843 30.2913 24.6875C30.7941 24.8568 31.2639 25.0014 31.6954 25.136C32.5326 25.3518 33.3449 25.6585 34.1182 26.0508C35.0422 26.6006 35.8675 27.3074 36.5586 28.1407C36.9021 28.6516 37.3486 29.0816 37.8682 29.4018C38.3877 29.722 38.9683 29.925 39.571 29.9973C39.7765 29.9968 39.9813 29.975 40.1825 29.9323C41.6986 29.6228 42.8359 28.1317 43.5648 25.5015C44.1604 23.1863 44.1418 20.7509 43.5107 18.4455C42.8796 16.1401 41.6588 14.0479 39.9739 12.3839ZM8.94886 24.276C7.83296 24.927 6.83512 25.7694 5.99906 26.7661C5.09447 27.7561 4.76074 28.07 4.20854 27.9568C3.49936 27.8111 2.83628 26.7459 2.34227 24.9543C1.92223 23.3112 1.86627 21.5932 2.17848 19.9252C2.4907 18.2572 3.16322 16.6814 4.14706 15.3124C4.29059 16.0686 4.52165 16.8048 4.83539 17.5054C6.01506 20.1182 8.00316 22.2624 10.4935 23.6078C9.96108 23.7857 9.44437 24.0092 8.94886 24.276ZM14.1514 22.7266C13.9962 22.6555 13.8256 22.6265 13.6562 22.6425C12.1235 22.2411 10.6976 21.4958 9.48221 20.461C8.26685 19.4261 7.2926 18.1277 6.63029 16.66C6.16216 15.6502 5.92631 14.5445 5.94077 13.4274C5.95523 12.3102 6.21962 11.2112 6.71373 10.2145C7.64306 8.45293 9.17618 7.10357 11.0193 6.42493C9.99726 9.36013 10.6472 13.6553 12.7165 17.6365C13.6785 19.5654 15.0132 21.2752 16.6401 22.6627C15.8195 22.8232 14.9787 22.8448 14.1514 22.7266ZM23.7451 22.3903C23.1716 22.5448 22.5889 22.6613 22.0007 22.7389C21.4117 22.6614 20.8283 22.5449 20.254 22.3903C18.2033 21.8521 16.0374 19.7219 14.462 16.6925C12.6704 13.2438 12.0469 9.47672 12.8834 7.09538C14.473 2.55356 19.9093 2.03223 22.1653 2.01765C25.4445 2.03783 29.66 2.93475 31.1157 7.09538C31.9501 9.4756 31.3353 13.2427 29.5393 16.6903C27.9628 19.7197 25.798 21.851 23.7451 22.3891V22.3903ZM27.3579 22.6649C28.9873 21.2782 30.3233 19.5673 31.2848 17.6365C33.353 13.6542 34.0019 9.36013 32.9798 6.42493C34.8231 7.1032 36.3564 8.45266 37.2854 10.2145C37.7798 11.2111 38.0446 12.31 38.0594 13.4271C38.0743 14.5442 37.8388 15.6501 37.371 16.66C36.7089 18.1267 35.7356 19.4246 34.5215 20.4595C33.3074 21.4945 31.883 22.2405 30.3517 22.6436C30.1773 22.6248 30.0013 22.6546 29.8423 22.73C29.0162 22.8474 28.1769 22.825 27.3579 22.6638V22.6649ZM41.6601 24.9555C41.165 26.7493 40.5009 27.8122 39.7939 27.9579C39.2516 28.07 38.9156 27.7595 38.0033 26.7673C37.1671 25.7707 36.1693 24.9284 35.0536 24.2772C34.5589 24.0089 34.0429 23.7839 33.5111 23.6045C36.0014 22.2591 37.9895 20.1148 39.1692 17.502C39.4825 16.8016 39.7135 16.0659 39.8575 15.3101C40.8408 16.6799 41.5127 18.2562 41.8245 19.9245C42.1364 21.5927 42.0802 23.311 41.6601 24.9543V24.9555Z\" fill=\"currentColor\"/>\n    <path d=\"M17.3428 15.7782C16.1626 13.048 15.7674 10.0313 16.2032 7.08028C16.2231 6.94931 16.2174 6.81565 16.1867 6.68691C16.1559 6.55816 16.1006 6.43686 16.024 6.32994C15.9473 6.22302 15.8508 6.13257 15.7399 6.06375C15.629 5.99493 15.5059 5.94908 15.3777 5.92884C15.2495 5.90859 15.1186 5.91434 14.9925 5.94576C14.8665 5.97717 14.7477 6.03365 14.643 6.11194C14.5383 6.19023 14.4497 6.2888 14.3824 6.40205C14.315 6.5153 14.2701 6.641 14.2503 6.77197C13.7579 10.1061 14.2045 13.5144 15.538 16.5989C15.5889 16.7227 15.6636 16.8349 15.7575 16.9289C15.8515 17.0229 15.9628 17.0967 16.0851 17.1462C16.2074 17.1956 16.3381 17.2197 16.4695 17.2168C16.601 17.214 16.7306 17.1844 16.8507 17.1298C16.9709 17.0752 17.0791 16.9966 17.1691 16.8987C17.2591 16.8008 17.3291 16.6855 17.3749 16.5597C17.4208 16.4338 17.4415 16.2998 17.436 16.1656C17.4305 16.0315 17.3988 15.8997 17.3428 15.7782Z\" fill=\"currentColor\"/>\n    <path d=\"M19.696 19.2067C19.2865 18.9533 18.9569 18.5852 18.7464 18.146C18.6921 18.023 18.6143 17.9124 18.5174 17.8206C18.4206 17.7288 18.3067 17.6578 18.1825 17.6118C18.0583 17.5658 17.9263 17.5456 17.7944 17.5526C17.6625 17.5596 17.5333 17.5935 17.4144 17.6524C17.2955 17.7112 17.1894 17.7939 17.1023 17.8953C17.0153 17.9968 16.949 18.1151 16.9075 18.2432C16.866 18.3712 16.85 18.5065 16.8606 18.641C16.8712 18.7755 16.908 18.9065 16.969 19.0262C17.3477 19.8156 17.9407 20.4772 18.6772 20.9321C18.7884 21.0004 18.9117 21.0457 19.0401 21.0654C19.1684 21.085 19.2993 21.0786 19.4253 21.0466C19.5512 21.0146 19.6698 20.9576 19.7741 20.8788C19.8785 20.8 19.9666 20.701 20.0335 20.5874C20.1004 20.4738 20.1448 20.3478 20.164 20.2168C20.1832 20.0857 20.177 19.952 20.1456 19.8234C20.1143 19.6947 20.0585 19.5737 19.9813 19.4671C19.9041 19.3605 19.8072 19.2705 19.696 19.2022V19.2067Z\" fill=\"currentColor\"/>\n    </svg>\n    `,\n    meals: `<svg width=\"44\" height=\"47\" viewBox=\"0 0 44 47\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <g clip-path=\"url(#clip0_598_8219)\">\n    <path d=\"M42.941 2.11595C42.7415 1.9851 42.4981 1.93888 42.2644 1.98745C42.0307 2.03602 41.8259 2.1754 41.695 2.37496L34.006 14.102C33.3796 13.6496 32.7178 13.2483 32.027 12.902C32.0551 12.8557 32.0786 12.8068 32.097 12.756L35.4431 1.14795C35.5094 0.91841 35.4818 0.671927 35.3663 0.46273C35.2509 0.253533 35.0571 0.098759 34.8275 0.0324549C34.598 -0.0338492 34.3515 -0.0062506 34.1423 0.109178C33.9331 0.224607 33.7783 0.41841 33.712 0.647954L30.382 12.202C28.8498 11.6558 27.2357 11.3751 25.609 11.372C23.5868 11.3208 21.5789 11.7248 19.7337 12.5541C17.8886 13.3834 16.2534 14.6167 14.949 16.163C13.472 15.5617 11.8698 15.3326 10.2834 15.4959C8.69704 15.6593 7.17511 16.21 5.85156 17.0996C4.528 17.9893 3.44339 19.1906 2.69314 20.5978C1.94289 22.0051 1.54999 23.5752 1.54904 25.17H0.900049C0.781014 25.1699 0.663159 25.1936 0.553309 25.2394C0.443459 25.2853 0.343801 25.3524 0.260096 25.4371C0.176391 25.5217 0.110305 25.6221 0.0656684 25.7325C0.0210317 25.8428 -0.00126705 25.9609 5.5571e-05 26.08C0.0892682 29.5951 1.16582 33.0142 3.10662 35.9464C5.04743 38.8786 7.77413 41.2054 10.975 42.661V45.147C10.975 45.3856 11.0699 45.6146 11.2386 45.7834C11.4074 45.9521 11.6364 46.047 11.8751 46.047H29.692C29.9307 46.047 30.1596 45.9521 30.3284 45.7834C30.4972 45.6146 30.592 45.3856 30.592 45.147V42.665C33.7927 41.2092 36.5191 38.8822 38.4597 35.9501C40.4004 33.018 41.4768 29.599 41.566 26.084C41.5674 25.9649 41.5451 25.8468 41.5004 25.7365C41.4558 25.6261 41.3897 25.5257 41.306 25.4411C41.2223 25.3565 41.1226 25.2893 41.0128 25.2434C40.9029 25.1976 40.7851 25.1739 40.666 25.174H39.976C39.82 21.3924 38.1759 17.8258 35.402 15.251L43.197 3.36196C43.3282 3.16274 43.3749 2.91961 43.3269 2.68598C43.2789 2.45235 43.1401 2.24733 42.941 2.11595ZM11.292 17.249C13.3949 17.2513 15.4113 18.0864 16.9 19.5716C18.3887 21.0568 19.2286 23.0711 19.236 25.174H18.476C18.4537 23.2835 17.6871 21.4779 16.3423 20.149C14.9976 18.82 13.1832 18.0747 11.2925 18.0747C9.4019 18.0747 7.58747 18.82 6.24273 20.149C4.89799 21.4779 4.13134 23.2835 4.10903 25.174H3.34905C3.35619 23.0712 4.1959 21.0569 5.68447 19.5717C7.17304 18.0865 9.18928 17.2513 11.292 17.249ZM30.46 25.174C30.3295 24.0738 29.829 23.0506 29.0406 22.2723C28.2521 21.494 27.2226 21.0067 26.1208 20.8904C25.019 20.7742 23.9104 21.0358 22.9769 21.6324C22.0433 22.2291 21.3403 23.1252 20.983 24.174C20.8976 23.3879 20.7156 22.6154 20.441 21.874C21.2275 20.8287 22.312 20.0461 23.5519 19.6292C24.7917 19.2124 26.1287 19.1807 27.3869 19.5384C28.6451 19.8962 29.7655 20.6265 30.6005 21.6334C31.4356 22.6402 31.9461 23.8763 32.065 25.179L30.46 25.174ZM28.66 25.174H22.555C22.6942 24.4666 23.0746 23.8296 23.6314 23.3717C24.1882 22.9138 24.8867 22.6634 25.6075 22.6634C26.3284 22.6634 27.0269 22.9138 27.5837 23.3717C28.1404 23.8296 28.5209 24.4666 28.66 25.174ZM33.8661 25.174C33.7524 23.5697 33.1734 22.0335 32.1999 20.7533C31.2265 19.4731 29.9008 18.5046 28.3853 17.9663C26.8698 17.428 25.2303 17.3434 23.6674 17.7227C22.1045 18.102 20.6862 18.9288 19.5861 20.102C19.3425 19.7013 19.0704 19.3187 18.772 18.957C19.6483 18.0285 20.7095 17.2942 21.8871 16.8014C23.0648 16.3086 24.3327 16.0683 25.609 16.096C28.0701 16.1 30.4374 17.0409 32.2298 18.7275C34.0222 20.414 35.1053 22.7196 35.259 25.176L33.8661 25.174ZM15.376 25.174C15.376 24.0911 14.9459 23.0525 14.1802 22.2868C13.4145 21.5211 12.3759 21.091 11.2931 21.091C10.2102 21.091 9.17165 21.5211 8.40594 22.2868C7.64023 23.0525 7.21005 24.0911 7.21005 25.174H5.91003C5.92931 23.7594 6.5048 22.4093 7.51193 21.4158C8.51906 20.4223 9.87684 19.8653 11.2915 19.8653C12.7062 19.8653 14.064 20.4223 15.0712 21.4158C16.0783 22.4093 16.6537 23.7594 16.673 25.174H15.376ZM13.576 25.174H9.01205C9.02455 24.5769 9.27051 24.0085 9.6972 23.5906C10.1239 23.1728 10.6973 22.9387 11.2945 22.9387C11.8918 22.9387 12.4652 23.1728 12.8919 23.5906C13.3186 24.0085 13.5646 24.5769 13.5771 25.174H13.576ZM12.7761 44.251V43.132H28.792V44.251H12.7761ZM29.136 41.332H12.436C9.52258 40.1406 6.99281 38.1712 5.12332 35.6389C3.25383 33.1066 2.11663 30.109 1.83605 26.974H39.7281C39.4482 30.1081 38.3122 33.1051 36.4441 35.6373C34.5761 38.1695 32.048 40.1395 29.136 41.332ZM38.178 25.174H37.0601C36.9048 22.2401 35.6312 19.4773 33.5013 17.4538C31.3713 15.4303 28.547 14.2998 25.609 14.295C24.0957 14.2643 22.5927 14.55 21.1962 15.1338C19.7996 15.7176 18.5404 16.5865 17.499 17.685C17.2087 17.4481 16.9052 17.2277 16.5901 17.025C17.7218 15.7645 19.1155 14.7668 20.6734 14.1017C22.2314 13.4367 23.9159 13.1204 25.609 13.175C28.8438 13.1792 31.9531 14.4275 34.2929 16.6611C36.6327 18.8948 38.0237 21.9428 38.178 25.174Z\" fill=\"currentColor\"/>\n    <path d=\"M3.39209 30.1722C4.045 32.6025 5.31628 34.8222 7.08209 36.6152C7.16443 36.7021 7.26327 36.7717 7.37286 36.8199C7.48244 36.8682 7.60056 36.8941 7.72027 36.8961C7.83999 36.8981 7.95888 36.8762 8.07003 36.8317C8.18118 36.7872 8.28235 36.7209 8.36758 36.6368C8.45281 36.5528 8.52038 36.4525 8.56637 36.342C8.61237 36.2314 8.63585 36.1128 8.63543 35.9931C8.63501 35.8733 8.6107 35.7549 8.56393 35.6447C8.51716 35.5344 8.44888 35.4347 8.36306 35.3512C6.81633 33.7796 5.70257 31.8346 5.13006 29.7052C5.1013 29.589 5.04966 29.4797 4.97815 29.3837C4.90663 29.2878 4.81669 29.207 4.71359 29.1462C4.61049 29.0854 4.49631 29.0458 4.37771 29.0297C4.25912 29.0136 4.1385 29.0213 4.02291 29.0523C3.90733 29.0834 3.7991 29.1372 3.70456 29.2106C3.61001 29.284 3.53106 29.3755 3.47232 29.4798C3.41357 29.584 3.3762 29.699 3.36242 29.8179C3.34865 29.9368 3.35875 30.0572 3.39209 30.1722Z\" fill=\"#323232\"/>\n    <path d=\"M10.5356 39.5502C10.7282 39.6767 10.962 39.7245 11.1889 39.6838C11.4157 39.643 11.6182 39.5168 11.7547 39.3312C11.8913 39.1456 11.9514 38.9146 11.9227 38.6859C11.8941 38.4573 11.7788 38.2483 11.6006 38.1022L10.3336 37.1752C10.1407 37.0392 9.90209 36.9844 9.66918 37.0226C9.43627 37.0609 9.2277 37.1891 9.08843 37.3797C8.94915 37.5702 8.89031 37.8079 8.92458 38.0414C8.95884 38.2749 9.08345 38.4857 9.27159 38.6282L10.5356 39.5502Z\" fill=\"#323232\"/>\n    </g>\n    <defs>\n    <clipPath id=\"clip0_598_8219\">\n    <rect width=\"43.348\" height=\"46.051\" fill=\"white\"/>\n    </clipPath>\n    </defs>\n    </svg>`,\n};\n\n@Component({\n    selector: 'catering-item-filters',\n    template: `\n        <div class=\"px-4 mt-3 mb-2\" [class.sm:hidden]=\"!search\">\n            <mat-form-field appearance=\"outline\" class=\"w-full h-14\">\n                <app-icon matPrefix class=\"text-xl\">search</app-icon>\n                <input\n                    matInput\n                    [ngModel]=\"(filters | async)?.search\"\n                    (ngModelChange)=\"setFilters({ search: $event })\"\n                    placeholder=\"Search menu...\"\n                />\n            </mat-form-field>\n        </div>\n        <h3 class=\"hidden sm:block font-medium px-2 py-2\" *ngIf=\"!search\" i18n>\n            Options\n        </h3>\n        <div class=\"flex flex-col px-2\" *ngIf=\"!search\">\n            <mat-checkbox\n                [(ngModel)]=\"at_time\"\n                (ngModelChange)=\"at_timeChange.next($event)\"\n                [matTooltip]=\"exact_tooltip\"\n            >\n                Exact Time\n            </mat-checkbox>\n            <ng-container *ngIf=\"day_options.length > 1\">\n                <label>Deliver Date:</label>\n                <mat-form-field\n                    appearance=\"outline\"\n                    class=\"w-full no-subscript mb-4\"\n                >\n                    <mat-select\n                        [(ngModel)]=\"offset_day\"\n                        (ngModelChange)=\"offset_dayChange.next($event)\"\n                    >\n                        <mat-option\n                            *ngFor=\"let day of day_options\"\n                            [value]=\"day.id\"\n                        >\n                            {{ day.value | date: 'mediumDate' }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </ng-container>\n            <label>Deliver After:</label>\n            <a-duration-field\n                [(ngModel)]=\"offset\"\n                (ngModelChange)=\"offsetChange.next($event)\"\n                [time]=\"\n                    offset_day > 0 ? start_of_date : (filters | async)?.date\n                \"\n                [step]=\"step_interval\"\n                [min]=\"min_offset\"\n                [max]=\"max_offset\"\n                [use_24hr]=\"use_24hr\"\n            ></a-duration-field>\n        </div>\n        <h3 class=\"hidden sm:block font-medium px-2 py-4\" *ngIf=\"!search\" i18n>\n            Catergories\n        </h3>\n        <div\n            class=\"flex flex-col px-2 space-y-4\"\n            [class.sm:hidden]=\"search\"\n            [class.sm:pt-1]=\"!search\"\n        >\n            <mat-checkbox\n                *ngFor=\"let item of categories | async\"\n                [attr.name]=\"item\"\n                [ngModel]=\"(filters | async)?.categories?.includes(item)\"\n                (ngModelChange)=\"toggleCategory(item)\"\n            >\n                {{ item }}\n            </mat-checkbox>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                min-width: 16rem;\n            }\n        `,\n    ],\n})\nexport class CateringItemFiltersComponent\n    extends AsyncHandler\n    implements OnInit\n{\n    @Input() public search = false;\n\n    @Input() public at_time = false;\n    @Output() public at_timeChange = new EventEmitter<boolean>();\n    @Input() public offset = 0;\n    @Output() public offsetChange = new EventEmitter<number>();\n    @Input() public offset_day = 0;\n    @Output() public offset_dayChange = new EventEmitter<number>();\n\n    private _min_offset = 0;\n    private _max_offset = 60;\n\n    public readonly icons = ICONS;\n\n    public readonly filters = this._state.filters;\n\n    public readonly setFilters = (f) => this._state.setFilters(f);\n\n    public readonly categories = this._state.categories;\n\n    public readonly exact_tooltip =\n        'Deliver at exactly specified time. \\nNote that changes to the booking will not be \\nreflected in the order if this is set.';\n\n    public get start_of_date() {\n        return startOfDay(\n            addDays(this._state.getFilters().date, this.offset_day)\n        ).valueOf();\n    }\n\n    public get min_offset() {\n        return this.offset_day > 0 ? 0 : this._min_offset;\n    }\n\n    public get step_interval() {\n        return this._settings.get('app.catering.step_interval') || 5;\n    }\n\n    public get max_offset() {\n        const end = Math.min(\n            endOfDay(\n                addDays(this._state.getFilters().date, this.offset_day)\n            ).valueOf(),\n            addMinutes(\n                this._state.getFilters().date,\n                this._state.getFilters().duration\n            ).valueOf()\n        );\n        const diff = differenceInMinutes(end, this._state.getFilters().date);\n        return Math.min(diff, Math.min(24 * 60 - 1, this._max_offset));\n    }\n\n    public get use_24hr() {\n        return this._settings.get('app.use_24_hour_time');\n    }\n\n    public day_options = [];\n\n    constructor(\n        private _state: CateringOrderStateService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._min_offset = Math.max(\n            this._settings.get('app.catering.min_offset'),\n            0\n        );\n        this.subscription(\n            'filters',\n            this._state.filters.subscribe(() => {\n                this._max_offset = Math.max(\n                    15,\n                    (this._state.getFilters().duration || 60) -\n                        this._settings.get('app.catering.end_offset')\n                );\n                this._updateDayOptions();\n            })\n        );\n        this._updateDayOptions();\n    }\n\n    public async toggleCategory(name: string) {\n        const { categories } = await this.filters.pipe(take(1)).toPromise();\n        if (categories.includes(name))\n            this.setFilters({\n                categories: categories.filter((_) => _ !== name),\n            });\n        else this.setFilters({ categories: [...categories, name] });\n    }\n\n    public async toggleTag(tag: string) {\n        const { tags } = await this.filters.pipe(take(1)).toPromise();\n        if (tags.includes(tag))\n            this.setFilters({ tags: tags.filter((_) => _ !== tag) });\n        else this.setFilters({ tags: [...tags, tag] });\n    }\n\n    private _updateDayOptions() {\n        const { date, duration } = this._state.getFilters();\n        if (duration <= 24 * 60) return (this.day_options = []);\n        let day = startOfDay(date);\n        let count = 0;\n        const end = endOfDay(addMinutes(date, duration)).valueOf();\n        const options = [];\n        while (day.valueOf() <= end) {\n            options.push({ id: count, value: day.valueOf() });\n            day = addDays(day, 1);\n            count++;\n        }\n        this.day_options = options;\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { CateringItem } from '../catering-item.class';\n\n@Component({\n    selector: 'catering-item-list-item',\n    template: `\n        <li\n            item\n            [class.!border-base-200]=\"active\"\n            matRipple\n            class=\"relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200 sm:w-[20rem]\"\n        >\n            <button\n                name=\"select-catering-item\"\n                class=\"w-full h-full flex items-center z-0\"\n                (click)=\"select.emit()\"\n            >\n                <div\n                    class=\"relative w-16 h-16 rounded-xl bg-neutral mr-4 overflow-hidden border border-base-200 flex items-center justify-center\"\n                >\n                    <div\n                        class=\"absolute top-1 left-1 border border-white bg-neutral rounded-full h-6 w-6 flex items-center justify-center text-white text-xs\"\n                        *ngIf=\"item.quantity && selected\"\n                    >\n                        {{ item.quantity || '1' }}\n                    </div>\n                    <img\n                        auth\n                        *ngIf=\"item.images?.length; else placeholder\"\n                        class=\"object-cover min-h-full min-w-full\"\n                        [source]=\"item.images[0]\"\n                    />\n                    <ng-template #placeholder>\n                        <img\n                            class=\"m-auto\"\n                            src=\"assets/icons/catering-placeholder.svg\"\n                        />\n                    </ng-template>\n                </div>\n                <div class=\"space-y-2 text-left flex-1\">\n                    <div class=\"font-medium flex flex-col pr-10\">\n                        <div>{{ item.name || 'Item' }}</div>\n                        <div class=\"opacity-60 text-xs\">\n                            {{ item.category }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center text-sm space-x-1\">\n                        <p\n                            class=\"flex-1 w-px bg-base-100 rounded\"\n                            *ngIf=\"item.unit_price\"\n                        >\n                            {{ item.unit_price / 100 | currency: code }}\n                        </p>\n                        <div\n                            class=\"text-xs px-2 py-1 rounded-2xl shadow border border-base-200\"\n                            *ngIf=\"item.option_list?.length\"\n                        >\n                            {{ options }}\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-success flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Gluten Free')\"\n                        >\n                            GF\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-info flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Vegan')\"\n                        >\n                            VG\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-info flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Vegetarian')\"\n                        >\n                            V\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-warning flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Contains Dairy')\"\n                        >\n                            D\n                        </div>\n                        <div\n                            class=\"text-xs h-5 w-7 rounded-xl shadow bg-orange-600 flex items-center justify-center\"\n                            *ngIf=\"item.tags?.includes('Contains Nuts')\"\n                        >\n                            N\n                        </div>\n                    </div>\n                </div>\n            </button>\n            <button\n                icon\n                matRipple\n                name=\"toggle-catering-item-favourite\"\n                class=\"absolute top-1 right-1\"\n                [class.text-blue-400]=\"favourite\"\n                (click)=\"toggleFav.emit()\"\n            >\n                <app-icon>{{\n                    favourite ? 'favorite' : 'favorite_border'\n                }}</app-icon>\n            </button>\n        </li>\n    `,\n    styles: [``],\n})\nexport class CateringItemListItemComponent {\n    @Input() public item: CateringItem;\n    @Input() public active = false;\n    @Input() public selected = false;\n    @Input() public favourite = false;\n    @Input() public code: string = 'USD';\n    @Output() public toggleFav = new EventEmitter();\n    @Output() public select = new EventEmitter();\n\n    public get options() {\n        return this.item.option_list?.map((_) => _.name).join(', ');\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOrderStateService } from './catering-order-state.service';\n\n@Component({\n    selector: 'catering-item-list',\n    template: `\n        <div class=\"w-full h-full overflow-auto py-2\">\n            <ng-container *ngIf=\"(list | async)?.length\">\n                <h3 class=\"font-bold px-2\">Ordered Items</h3>\n                <p count class=\"text-sm opacity-60 mb-2 px-2\">\n                    {{ (list | async)?.length || 0 }} items(s)\n                </p>\n\n                <ul class=\"list-style-none space-y-2 p-2\">\n                    <catering-item-list-item\n                        class=\"block\"\n                        *ngFor=\"let item of list | async\"\n                        [item]=\"item\"\n                        [active]=\"active === item.custom_id\"\n                        [selected]=\"true\"\n                        [favourite]=\"isFavourite(item.id)\"\n                        (toggleFav)=\"toggleFav.emit(item.id)\"\n                        (select)=\"selectItem(item, true)\"\n                    ></catering-item-list-item>\n                </ul>\n            </ng-container>\n            <h3 class=\"font-bold px-2\">Results</h3>\n            <p count class=\"text-sm opacity-60 mb-2 px-2\">\n                {{ (item_list | async)?.length || 0 }} result(s) found\n            </p>\n            <ng-container *ngIf=\"!(loading | async); else load_state\">\n                <ul\n                    class=\"list-style-none space-y-2 p-2\"\n                    *ngIf=\"(item_list | async)?.length; else empty_state\"\n                >\n                    <catering-item-list-item\n                        class=\"block\"\n                        *ngFor=\"let item of item_list | async\"\n                        [item]=\"item\"\n                        [active]=\"active === item.custom_id\"\n                        [selected]=\"selected.includes(item.custom_id)\"\n                        [favourite]=\"isFavourite(item.id)\"\n                        [code]=\"code\"\n                        (toggleFav)=\"toggleFav(item.id)\"\n                        (select)=\"selectItem(item, true)\"\n                    ></catering-item-list-item>\n                </ul>\n            </ng-container>\n        </div>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\">\n                    No available items for selected time and/or filters\n                </p>\n            </div>\n        </ng-template>\n        <ng-template #load_state>\n            <div\n                loading\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p class=\"opacity-30\">Finding available items...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class CateringItemListComponent {\n    @Input() public active: string = '';\n    @Input() public selected: string = '';\n    @Input() public selected_items: CateringItem[] = [];\n    @Input() public favorites: string[] = [];\n    @Output() public toggleFav = new EventEmitter<CateringItem>();\n    @Output() public onSelect = new EventEmitter<CateringItem>();\n\n    public readonly list = new BehaviorSubject<CateringItem[]>([]);\n    public readonly loading = this._state.loading;\n    public readonly item_list = this._state.filtered_menu;\n\n    public get code() {\n        return this._state.currency_code;\n    }\n\n    constructor(private _state: CateringOrderStateService) {}\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.selected_items) {\n            this.list.next(this.selected_items || []);\n        }\n    }\n\n    public isFavourite(item_id: string) {\n        return this.favorites?.includes(item_id);\n    }\n\n    public selectItem(item: CateringItem, clear_state: boolean = false) {\n        this.onSelect.emit(item);\n        if (clear_state) {\n            item.options?.forEach((_) => delete _.active);\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { SettingsService, unique } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { PlaceMetadata, showMetadata } from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    map,\n    shareReplay,\n    switchMap,\n    tap,\n} from 'rxjs/operators';\nimport { CateringItem } from '../catering-item.class';\nimport { cateringItemAvailable, getCateringRulesForZone } from '../utilities';\nimport { CateringSettings } from '../catering-state.service';\nimport { Space } from 'libs/spaces/src/lib/space.class';\n\nexport interface CateringOrderOptions {\n    // Affects backend requests\n    zone?: string;\n}\n\nexport interface CateringOrderFilters {\n    // Affects frontend filtering\n    date?: number;\n    duration?: number;\n    zone_id?: string;\n    resources?: Space[];\n    search: string;\n    tags: string[];\n    categories: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringOrderStateService {\n    private _options = new BehaviorSubject<CateringOrderOptions>({});\n    private _filters = new BehaviorSubject<CateringOrderFilters>({\n        search: '',\n        tags: [],\n        categories: [],\n    });\n    private _loading = new BehaviorSubject('');\n\n    public readonly loading = this._loading.asObservable();\n    public readonly filters = this._filters.asObservable();\n\n    public readonly settings = this._org.active_building.pipe(\n        filter((_) => !!_),\n        switchMap((_) =>\n            showMetadata(_.id, 'catering-settings').pipe(\n                catchError((_) => of({} as PlaceMetadata))\n            )\n        ),\n        map((_) => _.details as CateringSettings),\n        tap((_) =>\n            this._settings.post('require_catering_notes', !!_?.require_notes)\n        ),\n        shareReplay(1)\n    );\n\n    public readonly charge_codes = this.settings.pipe(\n        map((_) => _.charge_codes || [])\n    );\n    public readonly availability = this.settings.pipe(\n        map((_) => _.disabled_rooms || [])\n    );\n\n    public readonly available_menu: Observable<CateringItem[]> = combineLatest([\n        this._options,\n        this._org.active_building,\n    ]).pipe(\n        filter(([_, bld]) => !!bld),\n        switchMap(([{ zone }, bld]) => {\n            this._loading.next('[Menu]');\n            return showMetadata(zone || bld.id, 'catering').pipe(\n                map((d) =>\n                    (d.details instanceof Array ? d.details : []).map(\n                        (_) => new CateringItem(_)\n                    )\n                ),\n                catchError((_) => [])\n            );\n        }),\n        tap((_) => this._loading.next('')),\n        shareReplay(1)\n    );\n\n    public readonly categories = this.available_menu.pipe(\n        map((_) => unique(_.map((i) => i.category)))\n    );\n\n    public readonly filtered_menu = combineLatest([\n        this._filters,\n        this.available_menu,\n    ]).pipe(\n        switchMap(\n            async ([\n                {\n                    search,\n                    tags,\n                    categories,\n                    zone_id,\n                    date,\n                    duration,\n                    resources,\n                },\n                l,\n            ]) => {\n                const rules = await getCateringRulesForZone(\n                    zone_id\n                ).toPromise();\n                search = search.toLowerCase();\n                let list = search\n                    ? l.filter((_) => _.name.toLowerCase().includes(search))\n                    : l;\n                list = tags.length\n                    ? list.filter((_) => tags.every((t) => _.tags.includes(t)))\n                    : list;\n                list = categories.length\n                    ? list.filter((_) => categories.includes(_.category))\n                    : list;\n                list = list.filter((_) =>\n                    cateringItemAvailable(_, rules, {\n                        date,\n                        duration,\n                        resources,\n                    } as any)\n                );\n                return list;\n            }\n        ),\n        shareReplay(1)\n    );\n\n    public get currency_code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n\n    public setOptions(opts: Partial<CateringOrderOptions>) {\n        this._options.next({ ...this._options.getValue(), ...opts });\n    }\n\n    public setFilters(opts: Partial<CateringOrderFilters>) {\n        this._filters.next({ ...this._filters.getValue(), ...opts });\n    }\n\n    public getFilters() {\n        return { ...this._filters.getValue() };\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { CateringItem } from '../catering-item.class';\nimport { CateringOrderStateService } from './catering-order-state.service';\n\nconst EMPTY_FAVS: string[] = [];\n\n@Component({\n    selector: 'new-catering-order-modal',\n    template: `\n        <div\n            class=\"w-[100vw] h-[100vh] sm:relative sm:w-auto sm:h-auto flex flex-col bg-base-100\"\n        >\n            <header class=\"flex items-center space-x-4 w-full\">\n                <button\n                    icon\n                    matRipple\n                    [mat-dialog-close]=\"selected\"\n                    class=\"bg-neutral\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n                <h3 i18n>Add Catering</h3>\n            </header>\n            <main\n                class=\"flex-1 flex items-center divide-x divide-base-200 min-h-[65vh] h-[65vh] sm:max-h-[65vh] sm:max-w-[95vw] w-full overflow-hidden\"\n            >\n                <catering-item-filters\n                    class=\"h-full hidden sm:block sm:max-w-[12rem] sm:h-[65vh] sm:max-h-full\"\n                    [(at_time)]=\"exact_time\"\n                    [(offset)]=\"offset\"\n                    [(offset_day)]=\"offset_day\"\n                ></catering-item-filters>\n                <div\n                    class=\"flex flex-col items-center flex-1 w-1/2 h-full sm:h-[65vh]\"\n                >\n                    <catering-item-filters\n                        class=\"w-full border-b border-base-200\"\n                        [search]=\"true\"\n                    ></catering-item-filters>\n                    <catering-item-list\n                        [active]=\"displayed?.custom_id\"\n                        [selected]=\"selected_ids\"\n                        [selected_items]=\"selected\"\n                        [favorites]=\"favorites\"\n                        (toggleFav)=\"toggleFavourite($event)\"\n                        (onSelect)=\"displayed = $event\"\n                        class=\"flex-1 h-1/2 w-full overflow-hidden\"\n                    ></catering-item-list>\n                </div>\n                <catering-item-details\n                    [item]=\"displayed!\"\n                    class=\"h-full w-full sm:h-[65vh] absolute sm:relative sm:flex sm:max-w-[16rem] z-20 bg-base-100\"\n                    [class.hidden]=\"!displayed\"\n                    [class.inset-0]=\"displayed\"\n                    [active]=\"selected_ids.includes(displayed?.custom_id || '')\"\n                    (activeChange)=\"setSelected(displayed!, $event)\"\n                    [code]=\"code\"\n                    [fav]=\"\n                        !!displayed &&\n                        this.favorites.includes(displayed?.id || '')\n                    \"\n                    (toggleFav)=\"toggleFavourite(displayed!)\"\n                    (close)=\"displayed = null\"\n                ></catering-item-details>\n            </main>\n            <footer\n                class=\"flex sm:hidden flex-col-reverse items-center justify-end px-2 pt-2 pb-[5.5rem] border-t border-base-200 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"catering-item-return\"\n                    class=\"inverse sm:hidden w-full sm:w-auto\"\n                    *ngIf=\"displayed\"\n                    (click)=\"displayed = null\"\n                    i18n\n                >\n                    Back\n                </button>\n                <button\n                    btn\n                    matRipple\n                    name=\"save-catering-item\"\n                    [mat-dialog-close]=\"selected\"\n                    [class.mb-2]=\"displayed\"\n                    class=\"w-full sm:w-auto sm:mb-0\"\n                    i18n\n                >\n                    View List\n                </button>\n            </footer>\n            <footer\n                class=\"hidden sm:flex items-center justify-between p-2 border-t border-base-200 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"catering-item-return\"\n                    [mat-dialog-close]=\"selected\"\n                    class=\"clear text-secondary\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">arrow_back</app-icon>\n                        <div class=\"mr-1 underline\" i18n>Back to form</div>\n                    </div>\n                </button>\n                <p class=\"opacity-60 text-sm\" i18n>\n                    {{ count }} items(s) added\n                </p>\n                <button\n                    btn\n                    matRipple\n                    name=\"toggle-catering-item\"\n                    [disabled]=\"!displayed\"\n                    [class.inverse]=\"isSelected(displayed?.custom_id)\"\n                    (click)=\"\n                        setSelected(\n                            displayed,\n                            !isSelected(displayed?.custom_id)\n                        )\n                    \"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">{{\n                            isSelected(displayed?.custom_id) ? 'remove' : 'add'\n                        }}</app-icon>\n                        <div class=\"mr-1\">\n                            {{\n                                isSelected(displayed?.custom_id)\n                                    ? 'Remove from Booking'\n                                    : 'Add to booking'\n                            }}\n                        </div>\n                    </div>\n                </button>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class NewCateringOrderModalComponent {\n    public displayed: CateringItem | null = null;\n    public selected: CateringItem[] = [...(this._data.items || [])];\n    public exact_time = this._data.exact_time ?? false;\n    public offset: number;\n    public offset_day: number;\n\n    public get favorites() {\n        return (\n            this._settings.get<string[]>('favourite_menu_items') || EMPTY_FAVS\n        );\n    }\n\n    public get selected_ids() {\n        return this.selected.map((_) => _.custom_id).join(',');\n    }\n\n    public get count() {\n        return this.selected.reduce((t, i) => t + i.quantity, 0);\n    }\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _order: CateringOrderStateService,\n        private _org: OrganisationService,\n        @Inject(MAT_DIALOG_DATA)\n        private _data: {\n            items: CateringItem[];\n            details: any;\n            exact_time?: boolean;\n            offset?: number;\n            offset_day?: number;\n        }\n    ) {\n        const { duration } = this._data.details;\n        this._order.setFilters(this._data.details);\n        this.offset = Math.min(\n            Math.max(\n                this._settings.get('app.catering.min_offset'),\n                this._data.offset || 0\n            ),\n            (duration || 60) - this._settings.get('app.catering.end_offset')\n        );\n        this.offset_day = this._data.offset_day || 0;\n    }\n\n    public isSelected(id: string) {\n        return id && this.selected_ids.includes(id);\n    }\n\n    public setSelected(item: CateringItem, state: boolean) {\n        const list = this.selected.filter(\n            (_) => _.custom_id !== item.custom_id\n        );\n        if (state) {\n            const new_item = new CateringItem({ ...item, in_order: true });\n            list.push(new_item);\n            this.displayed = new_item;\n        }\n        this.selected = list;\n    }\n\n    public toggleFavourite(item: CateringItem) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(item.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_menu_items', [\n                ...fav_list,\n                item.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_menu_items',\n                fav_list.filter((_) => _ !== item.id)\n            );\n        }\n    }\n}\n","import { Component, Inject, Output, EventEmitter } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { DialogEvent, HashMap } from 'libs/common/src/lib/types';\nimport { unique } from 'libs/common/src/lib/general';\n\nimport { CateringOption, CateringOptionGroup } from './catering.interfaces';\n\nexport interface CateringOrderOptionsModalData {\n    code: string;\n    options: CateringOption[];\n}\n\n@Component({\n    selector: 'app-catering-options-modal',\n    template: `\n        <header>\n            <h3>Select options</h3>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"overflow-auto\">\n            <div\n                class=\"pt-1 pb-2 border-b border-base-200\"\n                *ngFor=\"let group of groups\"\n                [attr.group]=\"group.name\"\n            >\n                <div class=\"font-medium p-2 capitalize\">{{ group.name }}</div>\n                <div class=\"flex flex-col pl-6\">\n                    <ng-container *ngIf=\"!group.multiple; else multi_options\">\n                        <mat-radio-group\n                            class=\"flex flex-col\"\n                            aria-label=\"Select an option\"\n                            ngModel\n                            (ngModelChange)=\"updateGroupOption(group, $event)\"\n                        >\n                            <mat-radio-button class=\"my-1 mx-0\" value=\"\">\n                                <span class=\"font-medium p-2\">None</span>\n                            </mat-radio-button>\n                            <mat-radio-button\n                                class=\"my-1 mx-0\"\n                                *ngFor=\"let opt of group?.options\"\n                                [value]=\"opt.id\"\n                            >\n                                <div class=\"flex items-center justify-center\">\n                                    <div class=\"font-medium p-2 flex-1 w-1/2\">\n                                        {{ opt.name }}\n                                    </div>\n                                    <div\n                                        class=\"opacity-60 text-xs\"\n                                        *ngIf=\"opt.unit_price\"\n                                    >\n                                        +{{\n                                            opt.unit_price / 100\n                                                | currency: code\n                                        }}\n                                    </div>\n                                </div>\n                            </mat-radio-button>\n                        </mat-radio-group>\n                    </ng-container>\n                    <ng-template #multi_options>\n                        <mat-checkbox\n                            *ngFor=\"let opt of group?.options\"\n                            [(ngModel)]=\"option_state[opt.id]\"\n                        >\n                            <div class=\"flex items-center justify-center\">\n                                <div class=\"font-medium p-2 flex-1 w-1/2\">\n                                    {{ opt.name }}\n                                </div>\n                                <div\n                                    class=\"opacity-60 text-xs\"\n                                    *ngIf=\"opt.unit_price\"\n                                >\n                                    +{{ opt.unit_price / 100 | currency: code }}\n                                </div>\n                            </div>\n                        </mat-checkbox>\n                    </ng-template>\n                </div>\n            </div>\n        </main>\n        <footer class=\"p-2\">\n            <button btn matRipple class=\"w-32\" (click)=\"saveOptions()\">\n                Save\n            </button>\n        </footer>\n    `,\n    styles: [\n        `\n            main {\n                min-height: 24em;\n                width: 24rem;\n                max-width: calc(100vw - 2rem);\n            }\n        `,\n    ],\n})\nexport class CateringOrderOptionsModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** List of option groups */\n    public readonly groups: CateringOptionGroup[];\n    /** Mapping of options to their active state */\n    public option_state: HashMap<boolean> = {};\n    public readonly code = this._data.code;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringOrderOptionsModalData\n    ) {\n        const groups = unique(\n            this._data.options.map((i) => i.group || 'Other')\n        );\n        const group_list = [];\n        for (const group of groups) {\n            const options = this._data.options.filter((i) => i.group === group);\n            group_list.push({\n                name: group,\n                multiple: !!options.find((i) => i.multiple),\n                options,\n            });\n        }\n        this.groups = group_list;\n    }\n\n    public updateGroupOption(group: CateringOptionGroup, id: string) {\n        for (const option of group.options) {\n            this.option_state[option.id] = option.id === id;\n        }\n    }\n\n    public saveOptions() {\n        const options = this._data.options.filter(\n            (opt) => this.option_state[opt.id]\n        );\n        this.event.emit({ reason: 'done', metadata: { options } });\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    map,\n    switchMap,\n    debounceTime,\n    tap,\n    shareReplay,\n    catchError,\n} from 'rxjs/operators';\nimport { startOfDay, endOfDay, getUnixTime, format } from 'date-fns';\n\nimport { AsyncHandler, currentUser, flatten } from '@placeos/common';\nimport {\n    queryEvents,\n    saveEvent,\n    updateEventMetadata,\n} from 'libs/events/src/lib/events.fn';\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\n\nimport { CateringOrder } from './catering-order.class';\nimport { CateringOrderStatus } from './catering.interfaces';\n\nexport interface CateringOrderFilters {\n    /** UTC epoch of the date to get catering orders for */\n    date?: number;\n    /** List of zones to filter catering order bookings */\n    zones?: string[];\n    /** Search string to filter orders on */\n    search?: string;\n}\n\nfunction checkOrder(\n    order: CateringOrder,\n    filters: CateringOrderFilters\n): boolean {\n    const s = (filters.search || '').toLowerCase();\n    return !!order.items.find(\n        (item) =>\n            item.name.toLowerCase().includes(s) ||\n            !!item.options.find((option) =>\n                option.name.toLowerCase().includes(s)\n            )\n    );\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringOrdersService extends AsyncHandler {\n    private _poll = new BehaviorSubject<number>(0);\n    private _loading = new BehaviorSubject<boolean>(false);\n    private _filters = new BehaviorSubject<CateringOrderFilters>({});\n\n    /** Observable for list of orders */\n    public readonly orders: Observable<CateringOrder[]> = combineLatest([\n        this._filters,\n        this._poll,\n    ]).pipe(\n        debounceTime(1000),\n        switchMap(([{ date, zones }]) => {\n            this._loading.next(true);\n            const start = getUnixTime(startOfDay(date || Date.now()));\n            const end = getUnixTime(endOfDay(date || Date.now()));\n            return queryEvents({\n                zone_ids: (zones || []).join(','),\n                period_start: start,\n                period_end: end,\n            }).pipe(\n                catchError(() => of([])),\n                map((events) =>\n                    flatten(\n                        events.map((event) =>\n                            event.valid_catering.map(\n                                (o) => new CateringOrder({ ...o, event })\n                            )\n                        )\n                    )\n                ),\n                map((orders) =>\n                    orders.filter(\n                        (o) =>\n                            format(o.deliver_at, 'yyyy-MM-dd') ===\n                            format(start * 1000, 'yyyy-MM-dd')\n                    )\n                )\n            );\n        }),\n        tap(() => this._loading.next(false)),\n        shareReplay(1)\n    );\n    /** Observable for loading status of orders */\n    public readonly loading = this._loading.asObservable();\n    /** Order filters */\n    public get filters() {\n        return this._filters.getValue();\n    }\n    /** Order filters */\n    public set filters(filters: CateringOrderFilters) {\n        this._filters.next(filters);\n    }\n    /** Filtered list of catering orders */\n    public readonly filtered = this.orders.pipe(\n        map((list) =>\n            list\n                .filter((order) => checkOrder(order, this._filters.getValue()))\n                .sort((a, b) => a.deliver_at - b.deliver_at)\n        )\n    );\n\n    constructor() {\n        super();\n        this.subscription('changes', this.orders.subscribe());\n    }\n\n    /** Start polling for catering orders */\n    public startPolling(delay: number = 15 * 1000) {\n        this.interval(\n            'polling',\n            () => this._poll.next(new Date().valueOf()),\n            delay\n        );\n    }\n\n    /** Stop polling for new catering orders */\n    public stopPolling() {\n        this.clearInterval('polling');\n    }\n\n    /**\n     * Update the status of the order\n     * @param order Order to update\n     * @param status New order status\n     */\n    public async updateStatus(\n        order: CateringOrder,\n        status: CateringOrderStatus\n    ) {\n        order.status = status;\n        const updated_order = new CateringOrder({\n            ...order,\n            status,\n            event: null,\n        });\n        const catering = [\n            ...(order.event.extension_data.catering || []).filter(\n                (o) => o.id !== order.id\n            ),\n            updated_order,\n        ].map((i) => new CateringOrder({ ...i }));\n        const event = new CalendarEvent({\n            ...order.event,\n            catering,\n        });\n        const system_id = event?.resources[0]?.id || event?.system?.id;\n        const booking = await updateEventMetadata(\n            event.id,\n            system_id,\n            event.extension_data\n        ).toPromise();\n        this.timeout('refresh-list', () => this._poll.next(Date.now()), 1000);\n        (order as any).status = status;\n        return booking;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n    updateMetadata,\n    showMetadata,\n    PlaceMetadata,\n} from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    first,\n    map,\n    shareReplay,\n    switchMap,\n    take,\n    tap,\n} from 'rxjs/operators';\n\nimport {\n    AsyncHandler,\n    flatten,\n    notifyError,\n    notifySuccess,\n    openConfirmModal,\n    SettingsService,\n    unique,\n} from '@placeos/common';\nimport { Building, OrganisationService } from '@placeos/organisation';\n\nimport {\n    CateringItemModalComponent,\n    CateringItemModalData,\n} from './catering-item-modal.component';\nimport {\n    CateringItemOptionModalComponent,\n    CateringItemOptionModalData,\n} from './catering-option-modal.component';\nimport {\n    AttachedResourceConfigModalComponent,\n    AttachedResourceRuleset,\n    AttachedResourceConfigModalData,\n} from '@placeos/components';\nimport { CateringItem } from './catering-item.class';\nimport { CateringOrder } from './catering-order.class';\nimport {\n    CateringOrderModalComponent,\n    CateringOrderModalData,\n} from './catering-order-modal.component';\nimport { CateringOption } from './catering.interfaces';\nimport {\n    CateringOrderOptionsModalComponent,\n    CateringOrderOptionsModalData,\n} from './catering-order-options-modal.component';\nimport { CateringImportMenuModalComponent } from './catering-import-menu-modal.component';\n\nexport interface CateringSettings {\n    require_notes?: boolean;\n    charge_codes?: string[];\n    disabled_rooms?: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringStateService extends AsyncHandler {\n    private _updated = new BehaviorSubject(0);\n    /** Active menu */\n    private _menu = new BehaviorSubject<CateringItem[]>([]);\n    /** Whether the menu for the active building is loading */\n    private _loading = new BehaviorSubject<boolean>(false);\n    /** Currency code for the active building */\n    private _currency = new BehaviorSubject<string>('USD');\n\n    private _change = new BehaviorSubject(0);\n    /** Observable for the active menu */\n    public readonly menu = this._menu.asObservable();\n    /** Observable for whether the menu for the active building is loadingg */\n    public readonly loading = this._loading.asObservable();\n    /** Observable for the currency code of the active building */\n    public readonly currency = this._currency.asObservable();\n\n    public readonly settings = combineLatest([\n        this._org.active_building,\n        this._change,\n    ]).pipe(\n        filter(([_]) => !!_),\n        switchMap(([_]) =>\n            showMetadata(_.id, 'catering-settings').pipe(\n                catchError((_) => of({} as PlaceMetadata))\n            )\n        ),\n        map((_) => (_.details as CateringSettings) || {}),\n        tap((_) =>\n            this._settings.post('require_catering_notes', !!_?.require_notes)\n        ),\n        shareReplay(1)\n    );\n\n    public readonly charge_codes = this.settings.pipe(\n        map((_) => _.charge_codes || [])\n    );\n    public readonly availability = this.settings.pipe(\n        map((_) => _.disabled_rooms || [])\n    );\n\n    public zone = '';\n\n    public get is_editable() {\n        return !this.zone || this.zone === this._org.building?.id;\n    }\n\n    public get categories() {\n        const menu = this._menu.getValue();\n        return unique(menu.map((i) => i.category));\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _dialog: MatDialog,\n        private _settings: SettingsService\n    ) {\n        super();\n        this.subscription(\n            'building',\n            this._org.active_building.subscribe(async (bld: Building) => {\n                if (bld) {\n                    const menu = (await this.getCateringForZone(bld.id)).map(\n                        (i) => new CateringItem(i)\n                    );\n                    this._currency.next(\n                        this._settings.get('app.currency') ||\n                            bld.currency ||\n                            'USD'\n                    );\n                    this._menu.next(menu);\n                }\n            })\n        );\n    }\n\n    /**\n     * Create/Edit catering order\n     * @param order Order to manipulate\n     */\n    public async manageCateringOrder(order: CateringOrder) {\n        const ref = this._dialog.open<\n            CateringOrderModalComponent,\n            CateringOrderModalData\n        >(CateringOrderModalComponent, {\n            data: {\n                code: this._currency.getValue(),\n                order,\n                menu: this.menu,\n                loading: this.loading,\n                getCateringConfig: (_) => this.getCateringConfig(_),\n                selectOptions: (_) => this.selectOptions(_),\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        ref.close();\n        return details?.metadata?.order || order;\n    }\n\n    public async addItem(item: CateringItem = new CateringItem()) {\n        const ref = this._dialog.open<\n            CateringItemModalComponent,\n            CateringItemModalData\n        >(CateringItemModalComponent, {\n            data: {\n                item,\n                categories: this.categories,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) {\n            menu.splice(index, 1, details.metadata.item);\n        } else {\n            menu.push(details.metadata.item);\n        }\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                ref.close();\n            },\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public updateItem(item: CateringItem) {\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) menu.splice(index, 1, item);\n        else menu.push(item);\n        this.updateMenu(this._org.building.id, menu).then(() =>\n            this._menu.next([...menu])\n        );\n    }\n\n    public async addOption(\n        item: CateringItem,\n        option: CateringOption = {} as any\n    ) {\n        const types = unique(item.options.map((i) => i.group));\n        const ref = this._dialog.open<\n            CateringItemOptionModalComponent,\n            CateringItemOptionModalData\n        >(CateringItemOptionModalComponent, {\n            data: {\n                parent: item,\n                option,\n                types,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) {\n            menu.splice(index, 1, details.metadata.item);\n        } else {\n            menu.push(details.metadata.item);\n        }\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                ref.close();\n            },\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public async selectOptions(options: CateringOption[]) {\n        const ref = this._dialog.open<\n            CateringOrderOptionsModalComponent,\n            CateringOrderOptionsModalData\n        >(CateringOrderOptionsModalComponent, {\n            data: {\n                code: this._currency.getValue(),\n                options,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return [];\n        ref.close();\n        return details.metadata.options;\n    }\n\n    public async deleteItem(item: CateringItem) {\n        const details = await openConfirmModal(\n            {\n                title: 'Delete Catering Item',\n                content: `Are you sure you wish to remove the catering item ${item.name} from the menu?`,\n                icon: {\n                    type: 'icon',\n                    class: 'material-icons',\n                    content: 'delete',\n                },\n            },\n            this._dialog\n        );\n        if (details.reason !== 'done') return;\n        details.loading('Removing catering item...');\n        const menu = this._menu.getValue().filter((itm) => item.id !== itm.id);\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                details.close();\n            },\n            () => details.loading('')\n        );\n    }\n\n    public async deleteOption(item: CateringItem, option: CateringOption) {\n        const details = await openConfirmModal(\n            {\n                title: 'Delete Catering Item Option',\n                content: `Are you sure you wish to remove the catering option \"${option.name}\" from \"${item.name}\"?`,\n                icon: {\n                    type: 'icon',\n                    class: 'material-icons',\n                    content: 'delete',\n                },\n            },\n            this._dialog\n        );\n        if (details.reason !== 'done') return;\n        details.loading('Removing catering item option...');\n        const menu = this._menu.getValue();\n        menu.splice(\n            menu.findIndex((itm) => itm.id === item.id),\n            1,\n            new CateringItem({\n                ...item,\n                options: item.options.filter((opt) => opt.id !== option.id),\n            })\n        );\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                details.close();\n            },\n            () => details.loading('')\n        );\n    }\n\n    public async editConfig() {\n        const config = await this.getCateringConfig(this._org.building.id);\n        const { require_notes } = await this.settings.pipe(take(1)).toPromise();\n        const menu = this._menu.getValue();\n        const types = unique(flatten(menu.map((i) => [i.category, ...i.tags])));\n        const ref = this._dialog.open<\n            AttachedResourceConfigModalComponent,\n            AttachedResourceConfigModalData\n        >(AttachedResourceConfigModalComponent, {\n            data: {\n                config,\n                types,\n                require_notes,\n                saveNotes: (b) => this.saveSettings({ require_notes: b }),\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        this.updateConfig(this._org.building.id, details.metadata).then(\n            () => ref.close(),\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public async importMenu() {\n        const ref = this._dialog.open(CateringImportMenuModalComponent);\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        ref.componentInstance.loading = 'Updating menu...';\n        const menu = this._menu.getValue();\n        const bld = this._org.building;\n        const updated_menu = unique(details.metadata.concat(menu), 'id');\n        await this.updateMenu(bld.id, updated_menu).catch((_) => {\n            notifyError('Error importing catering menu');\n            ref.close();\n            throw _;\n        });\n        notifySuccess(\n            `Successfully imported catering menu. ${details.metadata.length} item(s) added.`\n        );\n        ref.close();\n    }\n\n    private updateMenu(zone_id: string, menu: CateringItem[]) {\n        return updateMetadata(zone_id, {\n            id: zone_id,\n            name: 'catering',\n            details: menu,\n            description: `Catering menu for ${zone_id}`,\n        }).toPromise();\n    }\n\n    public async saveSettings(settings: CateringSettings) {\n        const old_settings = await this.settings.pipe(take(1)).toPromise();\n        const result = await updateMetadata(this._org.building.id, {\n            id: this._org.building.id,\n            name: 'catering-settings',\n            details: { ...old_settings, ...settings },\n            description: `Catering settings for ${this._org.building.id}`,\n        }).toPromise();\n        this._change.next(Date.now());\n        return result;\n    }\n\n    private async getCateringForZone(zone_id: string): Promise<CateringItem[]> {\n        const menu = (await showMetadata(zone_id, 'catering').toPromise())\n            .details;\n        return menu instanceof Array ? menu : [];\n    }\n\n    public async getCateringConfig(\n        zone_id: string = this._org.building.id\n    ): Promise<AttachedResourceRuleset[]> {\n        const rules = (\n            await showMetadata(zone_id, 'catering_config').toPromise()\n        ).details;\n        return rules instanceof Array ? (rules as any) : [];\n    }\n\n    private updateConfig(zone_id: string, config: AttachedResourceRuleset[]) {\n        return updateMetadata(zone_id, {\n            id: zone_id,\n            name: 'catering_config',\n            details: config,\n            description: `Catering menu config for ${zone_id}`,\n        }).toPromise();\n    }\n\n    public addItemToOrder(order: CateringOrder, new_item: CateringItem) {\n        let items = order.items;\n        const match = items.find(\n            (item) =>\n                item.id === new_item.id &&\n                new_item.options?.length ===\n                    item.options?.reduce(\n                        (c, o) =>\n                            c +\n                            (new_item.options.find((opt) => o.id === opt.id)\n                                ? 1\n                                : 0),\n                        0\n                    )\n        );\n        match\n            ? ((match as any).quantity += 1)\n            : (items = items.concat([\n                  new CateringItem({ ...new_item, quantity: 1 }),\n              ]));\n        const new_order = new CateringOrder({\n            ...order,\n            items,\n            event: null,\n        });\n        return new_order;\n    }\n}\n","// Event catering order interfaces\nexport type CateringOrderStatus =\n    | 'accepted'\n    | 'preparing'\n    | 'ready'\n    | 'delivered'\n    | 'cancelled';\n\nexport interface CateringOptionGroup {\n    name: string;\n    multiple: boolean;\n    options: CateringOption[];\n}\n\nexport interface CateringOption {\n    /** Unique Identifier of the catering option */\n    readonly id: string;\n    /** Display name for the catering option */\n    readonly name: string;\n    /** Name of the group associated with the option */\n    readonly group: string;\n    /** Whether multiple items in the group can be selected */\n    readonly multiple: boolean;\n    /** Cost of adding the option to the item */\n    readonly unit_price: number;\n    /** Whether the catering option is active for the item */\n    active?: boolean;\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\n\nimport { FormFieldsModule } from '@placeos/form-fields';\n\nimport { ComponentsModule } from 'libs/components/src/lib/components.module';\n\nimport { CateringItemModalComponent } from './catering-item-modal.component';\nimport { CateringMenuComponent } from './catering-menu.component';\nimport { CateringItemOptionModalComponent } from './catering-option-modal.component';\nimport { CateringOrderItemComponent } from './catering-order-item.component';\nimport { CateringOrderListComponent } from './catering-order-list.component';\nimport { CateringOrderModalComponent } from './catering-order-modal.component';\nimport { CateringOrderOptionsModalComponent } from './catering-order-options-modal.component';\nimport { CateringImportMenuModalComponent } from './catering-import-menu-modal.component';\n\nimport { NewCateringOrderModalComponent } from './catering-order-modal/new-catering-order-modal.component';\nimport { CateringItemListComponent } from './catering-order-modal/catering-item-list.component';\nimport { CateringItemDetailsComponent } from './catering-order-modal/catering-item-details.component';\nimport { CateringItemFiltersComponent } from './catering-order-modal/catering-item-filters.component';\nimport { CateringListFieldComponent } from './catering-list-field.component';\nimport { ChargeCodeListModalComponent } from './charge-code-list-modal.component';\nimport { CateringItemListItemComponent } from './catering-order-modal/catering-item-list-item.component';\n\nconst COMPONENTS: Type<any>[] = [\n    CateringOrderOptionsModalComponent,\n    CateringOrderModalComponent,\n    CateringItemModalComponent,\n    CateringMenuComponent,\n    CateringItemOptionModalComponent,\n    CateringOrderListComponent,\n    CateringOrderItemComponent,\n    CateringImportMenuModalComponent,\n\n    CateringListFieldComponent,\n    NewCateringOrderModalComponent,\n    CateringItemListComponent,\n    CateringItemDetailsComponent,\n    CateringItemFiltersComponent,\n    CateringItemListItemComponent,\n\n    ChargeCodeListModalComponent,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        MatMenuModule,\n        MatTabsModule,\n        MatAutocompleteModule,\n        MatDialogModule,\n        MatCheckboxModule,\n        MatRadioModule,\n        MatTooltipModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ComponentsModule,\n        MatFormFieldModule,\n        FormFieldsModule,\n        MatProgressSpinnerModule,\n        MatProgressBarModule,\n    ],\n    providers: [],\n    exports: [...COMPONENTS],\n})\nexport class SharedCateringModule {}\n","export * from './catering-order-options-modal.component';\nexport * from './catering-order-modal.component';\nexport * from './catering-item-modal.component';\nexport * from './catering-item.class';\nexport * from './catering-menu.component';\nexport * from './catering-option-modal.component';\nexport * from './catering-order-item.component';\nexport * from './catering-order-list.component';\nexport * from './catering-order.class';\nexport * from './catering-orders.service';\nexport * from './catering-state.service';\nexport * from './catering.interfaces';\nexport * from './catering.module';\nexport * from './catering.vars';\nexport * from './catering-order-modal/new-catering-order-modal.component';\n","import { Identity } from '@placeos/common';\n\nexport const CATERING_STATUSES: Identity[] = [\n    { id: 'pending', name: 'Pending', icon: { class: 'custom-pending' }, colour: '#ccc' },\n    { id: 'accepted', name: 'Accepted', icon: { class: 'custom-accepted' }, colour: '#3996B6' },\n    {\n        id: 'preparing',\n        name: 'Preparing',\n        icon: { class: 'custom-preparing' },\n        colour: '#E7536B',\n    },\n    { id: 'ready', name: 'Ready', icon: { class: 'custom-ready' }, colour: '#FFD028' },\n    {\n        id: 'delivered',\n        name: 'Delivered',\n        icon: { class: 'custom-delivered' },\n        colour: '#75BB43',\n    },\n    {\n        id: 'cancelled',\n        name: 'Cancelled',\n        icon: { class: 'custom-cancelled' },\n        colour: '#747474',\n    },\n];\n","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { csvToJson, notifyError, unique } from '@placeos/common';\nimport { take } from 'rxjs/operators';\nimport { CateringStateService } from './catering-state.service';\n\n@Component({\n    selector: 'charge-code-list-modal',\n    template: `\n        <header>\n            <h2>Edit Charge Codes</h2>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            *ngIf=\"!loading; else load_state\"\n            class=\"overflow-auto max-h-[65vh] min-h-[20rem] flex flex-col\"\n        >\n            <div\n                class=\"flex items-center space-x-2 w-full hover:bg-neutral px-2\"\n                *ngFor=\"\n                    let code of charge_codes;\n                    let i = index;\n                    trackBy: trackByFn\n                \"\n            >\n                <mat-form-field appearance=\"outline\" class=\"h-14 flex-1\">\n                    <input\n                        matInput\n                        [(ngModel)]=\"charge_codes[i]\"\n                        placeholder=\"Charge Code\"\n                    />\n                </mat-form-field>\n                <button icon (click)=\"removeCode(i)\">\n                    <app-icon>delete</app-icon>\n                </button>\n            </div>\n        </main>\n        <footer\n            class=\"flex items-center p-2 space-x-2 border-t border-base-200\"\n            *ngIf=\"!loading\"\n        >\n            <button btn matRipple class=\"w-48 inverse relative\">\n                Import Codes\n                <input\n                    class=\"opacity-0 absolute inset-0\"\n                    type=\"file\"\n                    (change)=\"addCodesFromFile($event)\"\n                />\n            </button>\n            <button btn matRipple class=\"w-48\" (click)=\"newCode()\">\n                Add Code\n            </button>\n            <button btn matRipple class=\"w-48\" (click)=\"saveChargeCodes()\">\n                Save Changes\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <main\n                class=\"flex flex-col items-center justify-center p-20 space-y-2\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving changes to charge codes...</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class ChargeCodeListModalComponent {\n    public charge_codes: string[] = [];\n    public loading = false;\n\n    constructor(\n        private _state: CateringStateService,\n        private _dialog_ref: MatDialogRef<ChargeCodeListModalComponent>\n    ) {}\n\n    public async ngOnInit() {\n        this.charge_codes =\n            (await this._state.charge_codes.pipe(take(1)).toPromise()) || [];\n    }\n\n    public newCode() {\n        this.charge_codes.push('');\n    }\n\n    public removeCode(index: number) {\n        this.charge_codes.splice(index, 1);\n    }\n\n    /**\n     * Load CSV file and populate the code list with the contents\n     * @param event File input field event\n     */\n    public addCodesFromFile(event) {\n        /* istanbul ignore else */\n        if (event.target) {\n            const file = event.target.files[0];\n            /* istanbul ignore else */\n            if (file) {\n                const reader = new FileReader();\n                reader.readAsText(file, 'UTF-8');\n                reader.addEventListener('load', (evt) => {\n                    const list =\n                        csvToJson((evt.srcElement as any).result) || [];\n                    for (const { code, description } of list) {\n                        this.charge_codes.push(code);\n                    }\n                    this.charge_codes = unique(this.charge_codes);\n                    event.target.value = '';\n                });\n                reader.addEventListener('error', (_) =>\n                    notifyError('Error reading file.')\n                );\n            }\n        }\n    }\n\n    public async saveChargeCodes() {\n        this.loading = true;\n        const cleaned_codes = this.charge_codes.filter((_) => _ && _.trim());\n        await this._state.saveSettings({ charge_codes: cleaned_codes });\n        this._dialog_ref.close();\n    }\n\n    public trackByFn(idx: number, item: any) {\n        return idx;\n    }\n}\n","import { isAfter, isBefore, setHours, subHours } from 'date-fns';\n\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\nimport { CateringItem } from './catering-item.class';\nimport { Observable, of } from 'rxjs';\nimport { showMetadata } from '@placeos/ts-client';\nimport { catchError, map } from 'rxjs/operators';\nimport { stringToMinutes } from '@placeos/common';\nimport { AttachedResourceRuleset } from '@placeos/components';\n\nconst RULE_REQUESTS: Record<string, Observable<AttachedResourceRuleset[]>> = {};\n\nexport function getCateringRulesForZone(\n    zone_id: string,\n    fresh: boolean = false\n) {\n    if (!zone_id) return of([] as AttachedResourceRuleset[]);\n    if (!RULE_REQUESTS[zone_id] || fresh)\n        RULE_REQUESTS[zone_id] = showMetadata(zone_id, 'catering_config').pipe(\n            map(\n                (_) =>\n                    (_.details instanceof Array\n                        ? _.details\n                        : []) as AttachedResourceRuleset[]\n            ),\n            catchError((e) => of([] as AttachedResourceRuleset[]))\n        );\n    return RULE_REQUESTS[zone_id];\n}\n\nexport function cateringItemAvailable(\n    item: CateringItem,\n    rules: AttachedResourceRuleset[],\n    event: CalendarEvent\n) {\n    let is_available = true;\n    for (const rule of rules) {\n        if (\n            item.category === rule.name ||\n            item.tags.includes(rule.name) ||\n            event.resources.find((_) => _.zones.includes(rule.name)) ||\n            event.space?.zones.includes(rule.name) ||\n            rule.name === '*'\n        ) {\n            let matches = 0;\n            for (const condition of rule.rules) {\n                const date = new Date(event.date);\n                switch (condition[0]) {\n                    case 'is_before':\n                        matches += isBefore(\n                            Date.now(),\n                            subHours(date, condition[1])\n                        )\n                            ? 1\n                            : 0;\n                        break;\n                    case 'within_hours':\n                        matches += isAfter(\n                            Date.now(),\n                            subHours(date, condition[1])\n                        )\n                            ? 1\n                            : 0;\n                        break;\n                    case 'after_hour':\n                        matches += isAfter(date, setHours(date, condition[1]))\n                            ? 1\n                            : 0;\n                        break;\n                    case 'before_hour':\n                        matches += isBefore(date, setHours(date, condition[1]))\n                            ? 1\n                            : 0;\n                        break;\n                    case 'min_length':\n                        matches +=\n                            event.duration >= stringToMinutes(condition[1])\n                                ? 1\n                                : 0;\n                        break;\n                    case 'max_length':\n                        matches +=\n                            event.duration <= stringToMinutes(condition[1])\n                                ? 1\n                                : 0;\n                        break;\n                    case 'visitor_type':\n                        matches +=\n                            event.ext('visitor_type') === condition[1] ? 1 : 0;\n                        break;\n                    default:\n                        matches += 1;\n                }\n            }\n            is_available = matches >= rule.rules.length;\n        }\n    }\n    return is_available;\n}\n","class e{constructor(a,b,c,d,f){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE;this._preferredCamera=\"environment\";this._maxScansPerSecond=25;this._lastScanTimestamp=-1;this._destroyed=this._flashOn=this._paused=this._active=!1;this.$video=a;this.$canvas=document.createElement(\"canvas\");c&&\"object\"===typeof c?this._onDecode=b:(c||d||f?console.warn(\"You're using a deprecated version of the QrScanner constructor which will be removed in the future\"):console.warn(\"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\"),\nthis._legacyOnDecode=b);b=\"object\"===typeof c?c:{};this._onDecodeError=b.onDecodeError||(\"function\"===typeof c?c:this._onDecodeError);this._calculateScanRegion=b.calculateScanRegion||(\"function\"===typeof d?d:this._calculateScanRegion);this._preferredCamera=b.preferredCamera||f||this._preferredCamera;this._legacyCanvasSize=\"number\"===typeof c?c:\"number\"===typeof d?d:this._legacyCanvasSize;this._maxScansPerSecond=b.maxScansPerSecond||this._maxScansPerSecond;this._onPlay=this._onPlay.bind(this);this._onLoadedMetaData=\nthis._onLoadedMetaData.bind(this);this._onVisibilityChange=this._onVisibilityChange.bind(this);this._updateOverlay=this._updateOverlay.bind(this);a.disablePictureInPicture=!0;a.playsInline=!0;a.muted=!0;let h=!1;a.hidden&&(a.hidden=!1,h=!0);document.body.contains(a)||(document.body.appendChild(a),h=!0);c=a.parentElement;if(b.highlightScanRegion||b.highlightCodeOutline){d=!!b.overlay;this.$overlay=b.overlay||document.createElement(\"div\");f=this.$overlay.style;f.position=\"absolute\";f.display=\"none\";\nf.pointerEvents=\"none\";this.$overlay.classList.add(\"scan-region-highlight\");if(!d&&b.highlightScanRegion){this.$overlay.innerHTML='<svg class=\"scan-region-highlight-svg\" viewBox=\"0 0 238 238\" preserveAspectRatio=\"none\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round\"><path d=\"M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21\"/></svg>';try{this.$overlay.firstElementChild.animate({transform:[\"scale(.98)\",\n\"scale(1.01)\"]},{duration:400,iterations:Infinity,direction:\"alternate\",easing:\"ease-in-out\"})}catch(m){}c.insertBefore(this.$overlay,this.$video.nextSibling)}b.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML(\"beforeend\",'<svg class=\"code-outline-highlight\" preserveAspectRatio=\"none\" style=\"display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round\"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=\nthis._calculateScanRegion(a);requestAnimationFrame(()=>{let m=window.getComputedStyle(a);\"none\"===m.display&&(a.style.setProperty(\"display\",\"block\",\"important\"),h=!0);\"visible\"!==m.visibility&&(a.style.setProperty(\"visibility\",\"visible\",\"important\"),h=!0);h&&(console.warn(\"QrScanner has overwritten the video hiding style to avoid Safari stopping the playback.\"),a.style.opacity=\"0\",a.style.width=\"0\",a.style.height=\"0\",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),\ndelete this.$overlay,delete this.$codeOutlineHighlight);this.$overlay&&this._updateOverlay()});a.addEventListener(\"play\",this._onPlay);a.addEventListener(\"loadedmetadata\",this._onLoadedMetaData);document.addEventListener(\"visibilitychange\",this._onVisibilityChange);window.addEventListener(\"resize\",this._updateOverlay);this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(a){console.warn(\"Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.\")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch(a){return!1}}static async listCameras(a=\n!1){if(!navigator.mediaDevices)return[];let b=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(d=>\"videoinput\"===d.kind),c;try{a&&(await b()).every(d=>!d.label)&&(c=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(d){}try{return(await b()).map((d,f)=>({id:d.deviceId,label:d.label||(0===f?\"Default Camera\":`Camera ${f+1}`)}))}finally{c&&(console.warn(\"Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream\"),e._stopVideoStream(c))}}async hasFlash(){let a;\ntry{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;a=this.$video.srcObject}else a=(await this._getCameraStream()).stream;return\"torch\"in a.getVideoTracks()[0].getSettings()}catch(b){return!1}finally{a&&a!==this.$video.srcObject&&(console.warn(\"Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream\"),e._stopVideoStream(a))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&\n!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw\"No flash available\";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(a){throw this._flashOn=!1,a;}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener(\"loadedmetadata\",this._onLoadedMetaData);this.$video.removeEventListener(\"play\",this._onPlay);document.removeEventListener(\"visibilitychange\",\nthis._onVisibilityChange);window.removeEventListener(\"resize\",this._updateOverlay);this._destroyed=!0;this._flashOn=!1;this.stop();e._postWorkerMessage(this._qrEnginePromise,\"close\")}async start(){if(this._destroyed)throw Error(\"The QR scanner can not be started as it had been destroyed.\");if(!this._active||this._paused)if(\"https:\"!==window.location.protocol&&console.warn(\"The camera stream is only accessible if the page is transferred via https.\"),this._active=!0,!document.hidden)if(this._paused=\n!1,this.$video.srcObject)await this.$video.play();else try{let {stream:a,facingMode:b}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(a):(this._setVideoMirror(b),this.$video.srcObject=a,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(a){if(!this._paused)throw this._active=!1,a;}}stop(){this.pause();this._active=!1}async pause(a=!1){this._paused=!0;if(!this._active)return!0;this.$video.pause();this.$overlay&&(this.$overlay.style.display=\n\"none\");let b=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};if(a)return b(),!0;await new Promise(c=>setTimeout(c,300));if(!this._paused)return!1;b();return!0}async setCamera(a){a!==this._preferredCamera&&(this._preferredCamera=a,await this._restartVideoStream())}static async scanImage(a,b,c,d,f=!1,h=!1){let m,n=!1;b&&(\"scanRegion\"in b||\"qrEngine\"in b||\"canvas\"in b||\"disallowCanvasResizing\"in b||\"alsoTryWithoutScanRegion\"in\nb||\"returnDetailedScanResult\"in b)?(m=b.scanRegion,c=b.qrEngine,d=b.canvas,f=b.disallowCanvasResizing||!1,h=b.alsoTryWithoutScanRegion||!1,n=!0):b||c||d||f||h?console.warn(\"You're using a deprecated api for scanImage which will be removed in the future.\"):console.warn(\"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\");b=!!c;try{let p,k;[c,p]=await Promise.all([c||e.createQrEngine(),e._loadImage(a)]);\n[d,k]=e._drawToCanvas(p,m,d,f);let q;if(c instanceof Worker){let g=c;b||e._postWorkerMessageSync(g,\"inversionMode\",\"both\");q=await new Promise((l,v)=>{let w,u,r,y=-1;u=t=>{t.data.id===y&&(g.removeEventListener(\"message\",u),g.removeEventListener(\"error\",r),clearTimeout(w),null!==t.data.data?l({data:t.data.data,cornerPoints:e._convertPoints(t.data.cornerPoints,m)}):v(e.NO_QR_CODE_FOUND))};r=t=>{g.removeEventListener(\"message\",u);g.removeEventListener(\"error\",r);clearTimeout(w);v(\"Scanner error: \"+(t?\nt.message||t:\"Unknown Error\"))};g.addEventListener(\"message\",u);g.addEventListener(\"error\",r);w=setTimeout(()=>r(\"timeout\"),1E4);let x=k.getImageData(0,0,d.width,d.height);y=e._postWorkerMessageSync(g,\"decode\",x,[x.data.buffer])})}else q=await Promise.race([new Promise((g,l)=>window.setTimeout(()=>l(\"Scanner error: timeout\"),1E4)),(async()=>{try{var [g]=await c.detect(d);if(!g)throw e.NO_QR_CODE_FOUND;return{data:g.rawValue,cornerPoints:e._convertPoints(g.cornerPoints,m)}}catch(l){g=l.message||l;\nif(/not implemented|service unavailable/.test(g))return e._disableBarcodeDetector=!0,e.scanImage(a,{scanRegion:m,canvas:d,disallowCanvasResizing:f,alsoTryWithoutScanRegion:h});throw`Scanner error: ${g}`;}})()]);return n?q:q.data}catch(p){if(!m||!h)throw p;let k=await e.scanImage(a,{qrEngine:c,canvas:d,disallowCanvasResizing:f});return n?k:k.data}finally{b||e._postWorkerMessage(c,\"close\")}}setGrayscaleWeights(a,b,c,d=!0){e._postWorkerMessage(this._qrEnginePromise,\"grayscaleWeights\",{red:a,green:b,\nblue:c,useIntegerApproximation:d})}setInversionMode(a){e._postWorkerMessage(this._qrEnginePromise,\"inversionMode\",a)}static async createQrEngine(a){a&&console.warn(\"Specifying a worker path is not required and not supported anymore.\");a=()=>import(\"./qr-scanner-worker.min.js\").then(c=>c.createWorker());if(!(!e._disableBarcodeDetector&&\"BarcodeDetector\"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes(\"qr_code\")))return a();let b=navigator.userAgentData;\nreturn b&&b.brands.some(({brand:c})=>/Chromium/i.test(c))&&/mac ?OS/i.test(b.platform)&&await b.getHighEntropyValues([\"architecture\",\"platformVersion\"]).then(({architecture:c,platformVersion:d})=>/arm/i.test(c||\"arm\")&&13<=parseInt(d||\"13\")).catch(()=>!0)?a():new BarcodeDetector({formats:[\"qr_code\"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video);this._updateOverlay();this.$overlay&&(this.$overlay.style.display=\"\");this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video);\nthis._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(a){let b=Math.round(2/3*Math.min(a.videoWidth,a.videoHeight));return{x:Math.round((a.videoWidth-b)/2),y:Math.round((a.videoHeight-b)/2),width:b,height:b,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var a=this.$video,b=a.videoWidth,c=a.videoHeight,d=a.offsetWidth,f=a.offsetHeight,h=a.offsetLeft,\nm=a.offsetTop,n=window.getComputedStyle(a),p=n.objectFit,k=b/c,q=d/f;switch(p){case \"none\":var g=b;var l=c;break;case \"fill\":g=d;l=f;break;default:(\"cover\"===p?k>q:k<q)?(l=f,g=l*k):(g=d,l=g/k),\"scale-down\"===p&&(g=Math.min(g,b),l=Math.min(l,c))}var [v,w]=n.objectPosition.split(\" \").map((r,y)=>{const x=parseFloat(r);return r.endsWith(\"%\")?(y?f-l:d-g)*x/100:x});n=this._scanRegion.width||b;q=this._scanRegion.height||c;p=this._scanRegion.x||0;var u=this._scanRegion.y||0;k=this.$overlay.style;k.width=\n`${n/b*g}px`;k.height=`${q/c*l}px`;k.top=`${m+w+u/c*l}px`;c=/scaleX\\(-1\\)/.test(a.style.transform);k.left=`${h+(c?d-v-g:v)+(c?b-p-n:p)/b*g}px`;k.transform=a.style.transform}})}static _convertPoints(a,b){if(!b)return a;let c=b.x||0,d=b.y||0,f=b.width&&b.downScaledWidth?b.width/b.downScaledWidth:1;b=b.height&&b.downScaledHeight?b.height/b.downScaledHeight:1;for(let h of a)h.x=h.x*f+c,h.y=h.y*b+d;return a}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||(\"requestVideoFrameCallback\"in\nthis.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var a=Date.now()-this._lastScanTimestamp,b=1E3/this._maxScansPerSecond;a<b&&await new Promise(d=>setTimeout(d,b-a));this._lastScanTimestamp=Date.now();try{var c=await e.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(d){if(!this._active)return;this._onDecodeError(d)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof\nWorker||(this._qrEnginePromise=e.createQrEngine());c?(this._onDecode?this._onDecode(c):this._legacyOnDecode&&this._legacyOnDecode(c.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute(\"viewBox\",`${this._scanRegion.x||0} `+`${this._scanRegion.y||0} `+`${this._scanRegion.width||this.$video.videoWidth} `+`${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute(\"points\",\nc.cornerPoints.map(({x:d,y:f})=>`${d},${f}`).join(\" \")),this.$codeOutlineHighlight.style.display=\"\")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display=\"none\",100))}this._scanFrame()})}_onDecodeError(a){a!==e.NO_QR_CODE_FOUND&&console.log(a)}async _getCameraStream(){if(!navigator.mediaDevices)throw\"Camera not found.\";let a=/^(environment|user)$/.test(this._preferredCamera)?\"facingMode\":\n\"deviceId\",b=[{width:{min:1024}},{width:{min:768}},{}],c=b.map(d=>Object.assign({},d,{[a]:{exact:this._preferredCamera}}));for(let d of[...c,...b])try{let f=await navigator.mediaDevices.getUserMedia({video:d,audio:!1}),h=this._getFacingMode(f)||(d.facingMode?this._preferredCamera:\"environment\"===this._preferredCamera?\"user\":\"environment\");return{stream:f,facingMode:h}}catch(f){}throw\"Camera not found.\";}async _restartVideoStream(){let a=this._paused;await this.pause(!0)&&!a&&this._active&&await this.start()}static _stopVideoStream(a){for(let b of a.getTracks())b.stop(),\na.removeTrack(b)}_setVideoMirror(a){this.$video.style.transform=\"scaleX(\"+(\"user\"===a?-1:1)+\")\"}_getFacingMode(a){return(a=a.getVideoTracks()[0])?/rear|back|environment/i.test(a.label)?\"environment\":/front|user|face/i.test(a.label)?\"user\":null:null}static _drawToCanvas(a,b,c,d=!1){c=c||document.createElement(\"canvas\");let f=b&&b.x?b.x:0,h=b&&b.y?b.y:0,m=b&&b.width?b.width:a.videoWidth||a.width,n=b&&b.height?b.height:a.videoHeight||a.height;d||(d=b&&b.downScaledWidth?b.downScaledWidth:m,b=b&&b.downScaledHeight?\nb.downScaledHeight:n,c.width!==d&&(c.width=d),c.height!==b&&(c.height=b));b=c.getContext(\"2d\",{alpha:!1});b.imageSmoothingEnabled=!1;b.drawImage(a,f,h,m,n,0,0,c.width,c.height);return[c,b]}static async _loadImage(a){if(a instanceof Image)return await e._awaitImageLoad(a),a;if(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement||a instanceof SVGImageElement||\"OffscreenCanvas\"in window&&a instanceof OffscreenCanvas||\"ImageBitmap\"in window&&a instanceof ImageBitmap)return a;if(a instanceof\nFile||a instanceof Blob||a instanceof URL||\"string\"===typeof a){let b=new Image;b.src=a instanceof File||a instanceof Blob?URL.createObjectURL(a):a.toString();try{return await e._awaitImageLoad(b),b}finally{(a instanceof File||a instanceof Blob)&&URL.revokeObjectURL(b.src)}}else throw\"Unsupported image type.\";}static async _awaitImageLoad(a){a.complete&&0!==a.naturalWidth||await new Promise((b,c)=>{let d=f=>{a.removeEventListener(\"load\",d);a.removeEventListener(\"error\",d);f instanceof ErrorEvent?\nc(\"Image load error\"):b()};a.addEventListener(\"load\",d);a.addEventListener(\"error\",d)})}static async _postWorkerMessage(a,b,c,d){return e._postWorkerMessageSync(await a,b,c,d)}static _postWorkerMessageSync(a,b,c,d){if(!(a instanceof Worker))return-1;let f=e._workerMessageId++;a.postMessage({id:f,type:b,data:c},d);return f}}e.DEFAULT_CANVAS_SIZE=400;e.NO_QR_CODE_FOUND=\"No QR code found\";e._disableBarcodeDetector=!1;e._workerMessageId=0;export default e\n"],"names":["i0","ɵɵelement","BookComponent","hide_nav","localStorage","getItem","_","_2","selectors","decls","vars","consts","template","BookComponent_Template","rf","ctx","ɵɵtemplate","BookComponent_topbar_0_Template","ɵɵelementStart","ɵɵelementEnd","BookComponent_footer_menu_4_Template","ɵɵproperty","ɵɵadvance","CommonModule","FormsModule","ReactiveFormsModule","RouterModule","MatButtonToggleModule","MatBottomSheetModule","SharedExploreModule","SharedBookingsModule","SharedCateringModule","BookCodeFlowComponent","BookDeskFlowComponent","DeskFlowConfirmComponent","DeskFlowFormComponent","DeskFlowDetailedFormComponent","DeskFlowMapComponent","FlowSuccessComponent","BookSpaceFlowComponent","SpaceFlowConfirmComponent","DetailBookSpaceFormComponent","SpaceFlowFindItemComponent","SpaceFlowFindComponent","SpaceFlowFormComponent","SharedComponentModule","BookParkingFlowComponent","ParkingFlowMapComponent","ParkingFlowConfirmComponent","BookMeetingFlowComponent","MeetingFlowFormComponent","MeetingFormDetailsComponent","MeetingFlowConfirmComponent","MeetingFlowSuccessComponent","NewDeskFlowComponent","NewDeskFlowFormComponent","NewDeskFormDetailsComponent","NewDeskFlowConfirmComponent","NewDeskFlowSuccessComponent","VisitorFlowComponent","NewParkingFlowComponent","ParkingFlowFormComponent","ParkingFlowSuccessComponent","ParkingFormDetailsComponent","MeetingFlowConfirmModalComponent","NewParkingFlowConfirmComponent","CodeFlowSuccessComponent","CodeFlowErrorComponent","BookLockerFlowComponent","BookLockerFlowSuccessComponent","BookLockerFlowFormComponent","BookLockerFlowConfirmComponent","LockerFormDetailsComponent","ROUTES","path","component","children","redirectTo","BookModule","_3","forChild","declarations","imports","i1","ActivatedRoute","BookingFormService","AsyncHandler","ɵɵelementContainerStart","ɵɵtext","ɵɵpureFunction0","_c1","ɵɵpureFunction1","_c2","ctx_r0","asset_id","ɵɵtextInterpolate1","ɵɵpipeBind1","_c3","VALID_TYPES","constructor","_route","_state","type","asset","ngOnInit","subscription","queryParamMap","subscribe","params","get","ɵɵdirectiveInject","i2","features","ɵɵInheritDefinitionFeature","CodeFlowErrorComponent_Template","CodeFlowErrorComponent_ng_container_8_Template","CodeFlowErrorComponent_ng_container_9_Template","CodeFlowErrorComponent_ng_container_10_Template","CodeFlowErrorComponent_a_12_Template","CodeFlowErrorComponent_a_13_Template","_c0","CodeFlowSuccessComponent_Template","EventEmitter","ElementRef","Router","Booking","checkinBooking","queryBookings","currentUser","notifyError","CalendarEvent","checkinEventGuest","EventFormService","queryEvents","showSystem","addMinutes","endOfDay","getUnixTime","QrScanner","BookCodeFlowComponent_div_0_div_4_Template","BookCodeFlowComponent_div_0_div_5_Template","ɵɵtwoWayListener","BookCodeFlowComponent_div_0_Template_input_ngModelChange_10_listener","$event","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵtwoWayBindingSet","room_code","ɵɵresetView","ɵɵlistener","BookCodeFlowComponent_div_0_Template_button_click_12_listener","is_scanning","BookCodeFlowComponent_div_0_Template_button_click_14_listener","ɵɵclassProp","ɵɵtwoWayProperty","ɵɵclassMap","_router","_event_form","_booking_form","menu","loading","ngOnDestroy","_video_el","nativeElement","srcObject","getTracks","forEach","track","stop","_qr_scanner","has","_checkinBooking","_checkinEvent","ngAfterViewInit","navigator","mediaDevices","getUserMedia","video","then","stream","catch","e","console","error","r","handleQrCode","start","result","url","hashindex","indexOf","regex","match","exec","navigate","split","_this","_asyncToGenerator","bookings","period_start","Date","now","period_end","email","toPromise","item","find","id","queryParams","newForm","setOptions","space_id","_this2","resources","s","space","system","i3","viewQuery","BookCodeFlowComponent_Query","BookCodeFlowComponent_div_0_Template","BookCodeFlowComponent_ng_template_1_Template","ɵɵtemplateRefExtractor","load_state_r3","OrganisationService","first","last_success","user_email","extension_data","secondary_resource","view","_org","initialised","pipe","loadForm","form","patchValue","booking_type","paramMap","param","setView","BookDeskFlowComponent_Template","BookDeskFlowComponent_ng_container_2_Template","BookDeskFlowComponent_ng_container_3_Template","BookDeskFlowComponent_ng_container_4_Template","BookDeskFlowComponent_ng_container_5_Template","DeskFlowConfirmComponent_Template","FormGroup","SettingsService","addDays","DeskFlowDetailedFormComponent_form_0_div_1_Template_mat_button_toggle_group_ngModelChange_1_listener","group","tmp_2_0","options","bld_r4","display_name","name","DeskFlowDetailedFormComponent_form_0_div_8_Template_mat_select_ngModelChange_4_listener","_r3","building","zone_id","DeskFlowDetailedFormComponent_form_0_div_8_mat_option_5_Template","buildings","lvl_r6","DeskFlowDetailedFormComponent_form_0_div_10_Template_mat_select_ngModelChange_4_listener","_r5","DeskFlowDetailedFormComponent_form_0_div_10_mat_option_5_Template","levels","DeskFlowDetailedFormComponent_form_0_div_12_Template_a_time_field_ngModelChange_4_listener","_r7","date","DeskFlowDetailedFormComponent_form_0_div_12_mat_checkbox_9_Template","value","tmp_4_0","all_day","allow_all_day","DeskFlowDetailedFormComponent_form_0_div_15_Template_a_user_list_field_ngModelChange_3_listener","_r8","members","tmp_3_0","opt_r10","ɵɵtextInterpolate","DeskFlowDetailedFormComponent_form_0_div_17_Template_mat_select_ngModelChange_5_listener","_r9","pattern","DeskFlowDetailedFormComponent_form_0_div_17_mat_option_9_Template","DeskFlowDetailedFormComponent_form_0_div_17_Template_a_date_field_ngModelChange_13_listener","recurr_end","recurrence_pattern","recurrence_options","tmp_5_0","tmp_6_0","book_until","opt_r12","DeskFlowDetailedFormComponent_form_0_div_18_Template_mat_select_ngModelChange_4_listener","_r11","DeskFlowDetailedFormComponent_form_0_div_18_mat_option_6_Template","DeskFlowDetailedFormComponent_form_0_div_20_Template_mat_checkbox_ngModelChange_1_listener","_r13","DeskFlowDetailedFormComponent_form_0_div_1_Template","DeskFlowDetailedFormComponent_form_0_div_8_Template","DeskFlowDetailedFormComponent_form_0_div_10_Template","DeskFlowDetailedFormComponent_form_0_div_12_Template","DeskFlowDetailedFormComponent_form_0_div_13_Template","DeskFlowDetailedFormComponent_form_0_div_14_Template","DeskFlowDetailedFormComponent_form_0_div_15_Template","DeskFlowDetailedFormComponent_form_0_div_17_Template","DeskFlowDetailedFormComponent_form_0_div_18_Template","DeskFlowDetailedFormComponent_form_0_div_20_Template","allow_groups","length","allow_time_changes","can_book_for_others","needs_reason","tmp_9_0","can_recurr","tmp_11_0","can_book_lockers","bld","_settings","building_list","active_levels","o","inputs","DeskFlowDetailedFormComponent_Template","DeskFlowDetailedFormComponent_form_0_Template","findNearbyFeature","getInvalidFields","randomInt","setHours","roundToNearestMinutes","take","DeskFlowFormComponent_button_12_Template_button_click_0_listener","_r2","ctx_r2","findDesk","is_edit","DeskFlowFormComponent_ng_template_13_Template_button_click_0_listener","_r4","allocateDesk","auto_allocation","time","level","quick_times","valueOf","clearForm","levelsForBuilding","quickBook","nearestTo","title","markAllAsTouched","valid","join","settings","centered_at","x","y","groups","lvl","levelWithID","desk_list","available_resources","desk_id","map_id","map","desk","asset_name","description","zones","zone","parent_id","confirmPost","i4","DeskFlowFormComponent_Template","DeskFlowFormComponent_Template_button_click_6_listener","DeskFlowFormComponent_button_12_Template","DeskFlowFormComponent_ng_template_13_Template","alloc_button_r5","formatRecurrence","ExploreStateService","format","BehaviorSubject","combineLatest","debounceTime","startWith","feat_r5","DeskFlowMapComponent_li_22_Template_li_click_0_listener","desk_r3","$implicit","ctx_r3","setActiveDesk","DeskFlowMapComponent_li_22_div_9_Template","active_desk","DeskFlowMapComponent_div_24_div_9_Template","positions","zoom","center","styles","actions","labels","DeskFlowMapComponent_div_27_Template_button_click_7_listener","_r6","DeskFlowMapComponent_div_27_Template_button_click_9_listener","makeBooking","_active_desk","getValue","hide_map","_explore","map_url","map_styles","map_positions","map_features","map_actions","map_labels","desks","option_details","valueChanges","recurrence","end","interval","days_of_week","details","setLevel","assets","available","status","active","bookable","d","fill","opacity","push","action","callback","setStyles","setActions","setFeatures","location","content","next","DeskFlowMapComponent_Template","DeskFlowMapComponent_Template_div_click_15_listener","stopPropagation","preventDefault","DeskFlowMapComponent_li_22_Template","DeskFlowMapComponent_div_24_Template","DeskFlowMapComponent_div_25_Template","DeskFlowMapComponent_div_27_Template","menu_r7","tmp_7_0","extra","route","is_host","calendar","FlowSuccessComponent_Template","FlowSuccessComponent_br_8_Template","listenForStatusChanges","BookLockerFlowComponent_Template","BookLockerFlowComponent_locker_flow_success_1_Template","BookLockerFlowComponent_locker_flow_confirm_2_Template","BookLockerFlowComponent_locker_flow_form_3_Template","MatBottomSheetRef","BookLockerFlowConfirmComponent_button_0_Template_button_click_0_listener","dismiss","feat_r3","BookLockerFlowConfirmComponent_section_25_ng_container_11_Template","booking_asset","asset_r4","amount","ɵɵi18n","BookLockerFlowConfirmComponent_section_26_div_6_Template","ɵɵi18nExp","assets_count","BookLockerFlowConfirmComponent_button_28_Template_button_click_0_listener","postForm","time_format","booking","reduce","a","b","l","address","_sheet_ref","this","show_close","postFormForGroup","i18n_0","ngI18nClosureMode","$localize","BookLockerFlowConfirmComponent_button_0_Template","BookLockerFlowConfirmComponent_mat_spinner_4_Template","BookLockerFlowConfirmComponent_section_25_Template","BookLockerFlowConfirmComponent_section_26_Template","BookLockerFlowConfirmComponent_button_28_Template","ɵɵpipeBind2","duration","MatBottomSheet","isBefore","startOfMinute","_bottom_sheet","viewConfirm","sheet_ref","open","instance","afterDismissed","i5","BookLockerFlowFormComponent_Template_button_click_7_listener","generateCalendarFileLink","generateGoogleCalendarLink","generateMicrosoftCalendarLink","last_event","attendees","outlook_link","ɵɵsanitizeUrl","google_link","ical_link","locker","show_links","viewCalendarLinks","openBookingLinkModal","ɵɵi18nStart","BookLockerFlowSuccessComponent_span_7_Template","BookLockerFlowSuccessComponent_span_8_Template","ɵɵi18nEnd","BookLockerFlowSuccessComponent_div_12_Template","SimpleChanges","b_r3","LockerFormDetailsComponent_div_0_Template_mat_select_ngModelChange_13_listener","LockerFormDetailsComponent_div_0_mat_option_14_Template","LockerFormDetailsComponent_div_0_Template_a_time_field_ngModelChange_27_listener","LockerFormDetailsComponent_div_0_section_33_Template","use_24hr","tmp_10_0","custom_durations","contains","from_id","setFeature","f","ngOnChanges","changes","list","setBookingAsset","_setCustomDateOptions","i","undefined","selected_locker","bank_id","outputs","ɵɵNgOnChangesFeature","LockerFormDetailsComponent_div_0_Template","BookMeetingFlowComponent_Template","BookMeetingFlowComponent_meeting_flow_success_1_Template","BookMeetingFlowComponent_meeting_flow_confirm_2_Template","BookMeetingFlowComponent_meeting_flow_form_3_Template","MatDialog","MatDialogRef","validateAssetRequestsForResource","CateringOrder","openConfirmModal","startOfDay","AssetRequest","SpacePipe","formatted_recurrence","ɵɵtextInterpolate2","s_r2","MeetingFlowConfirmModalComponent_div_32_ng_container_6_Template","event","user_r3","MeetingFlowConfirmModalComponent_div_33_mat_chip_9_Template","err_tooltip","optionList","item_r4","option_list","MeetingFlowConfirmModalComponent_div_34_div_1_div_7_div_14_span_4_Template","quantity","unit_price_with_options","currency_code","total_cost","MeetingFlowConfirmModalComponent_div_34_div_1_div_7_div_6_Template","MeetingFlowConfirmModalComponent_div_34_div_1_div_7_div_14_Template","end_time","order_r5","deliver_at","item_count","items","MeetingFlowConfirmModalComponent_div_34_div_1_div_7_Template","catering_orders","request_r6","item_r7","MeetingFlowConfirmModalComponent_div_34_div_2_div_6_div_6_Template","MeetingFlowConfirmModalComponent_div_34_div_2_div_6_div_11_Template","deliver_at_time","conflict","MeetingFlowConfirmModalComponent_div_34_div_2_div_6_Template","has_conflict","MeetingFlowConfirmModalComponent_div_34_div_1_Template","MeetingFlowConfirmModalComponent_div_34_div_2_Template","catering","body","ɵɵsanitizeHtml","MeetingFlowConfirmModalComponent_footer_36_Template_button_click_1_listener","request","some","is_multiday","date_end","getRawValue","includes","code","_space_pipe","_dialog_ref","_dialog","_loading","icon","reason","close","resp","cancelPost","cancelPostForm","_space","order","transform","changed_spaces","changed_times","host","location_name","location_id","reset_state","timeout","ɵɵProvidersFeature","i18n_2","MeetingFlowConfirmModalComponent_button_1_Template","MeetingFlowConfirmModalComponent_div_20_Template","MeetingFlowConfirmModalComponent_div_32_Template","MeetingFlowConfirmModalComponent_div_33_Template","MeetingFlowConfirmModalComponent_div_34_Template","MeetingFlowConfirmModalComponent_div_35_Template","MeetingFlowConfirmModalComponent_footer_36_Template","MeetingFlowConfirmComponent_button_0_Template_button_click_0_listener","MeetingFlowConfirmComponent_section_30_mat_chip_9_Template","s_r4","MeetingFlowConfirmComponent_section_31_ng_container_6_Template","MeetingFlowConfirmComponent_button_33_Template_button_click_0_listener","i6","i18n_1","MeetingFlowConfirmComponent_button_0_Template","MeetingFlowConfirmComponent_mat_spinner_4_Template","MeetingFlowConfirmComponent_div_18_Template","MeetingFlowConfirmComponent_section_30_Template","MeetingFlowConfirmComponent_section_31_Template","MeetingFlowConfirmComponent_button_33_Template","TemplateRef","ANIMATION_SHOW_CONTRACT_EXPAND","notifyWarn","UserIdleTimeService","FindAvailabilityModalComponent","CateringOrderStateService","of","switchMap","tap","AssetStateService","MeetingFlowFormComponent_form_5_section_14_Template_button_click_8_listener","findAvailableTime","MeetingFlowFormComponent_form_5_section_14_Template_button_click_11_listener","hide_block","allow_externals","code_r6","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template_mat_form_field_openedChange_0_listener","focusInput","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template_input_ngModelChange_2_listener","code_filter","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_mat_option_5_Template","filtered_codes","has_codes","MeetingFlowFormComponent_form_5_section_29_Template_button_click_8_listener","MeetingFlowFormComponent_form_5_section_29_mat_form_field_13_Template","MeetingFlowFormComponent_form_5_section_29_mat_form_field_15_Template","ɵɵpureFunction4","MeetingFlowFormComponent_form_5_section_31_Template_button_click_9_listener","has_catering","invalid_assets","has_assets","MeetingFlowFormComponent_form_5_Template_button_click_9_listener","MeetingFlowFormComponent_form_5_section_14_Template","MeetingFlowFormComponent_form_5_Template_button_click_23_listener","MeetingFlowFormComponent_form_5_div_27_Template","MeetingFlowFormComponent_form_5_section_29_Template","MeetingFlowFormComponent_form_5_section_31_Template","MeetingFlowFormComponent_form_5_section_32_Template","MeetingFlowFormComponent_form_5_Template_button_click_34_listener","MeetingFlowFormComponent_form_5_Template_button_click_37_listener","hide_attendees","strict_capacity_check","total_capacity","allow_multiday","hide_notes","c","capacity","attendee_count","user","count","toLowerCase","_catering","_assets","_idle","available_menu","charge_codes","setValidators","updateValueAndValidity","filter","_space_list","_assets_available","space_list","tags","categories","filtered_assets","disabled_rooms","assets_available","every","hide_for_zones","z","time_changed","_catering_available","setFilters","search","filtered_menu","availability","can_cater","resetForm","openEventLinkModal","window","innerWidth","dialog_ref","componentInstance","afterClosed","unsubWith","_updateValidAssets","requested_assets","linked_bookings","_changed","bkn","request_id","controls","key","disable","enable","idleFor","unsub","confirm_text","reload","_input_el","focus","organiser","ref","data","users","i7","i8","MeetingFlowFormComponent_Query","MeetingFlowFormComponent_form_5_Template","MeetingFlowSuccessComponent_span_8_span_2_Template","MeetingFlowSuccessComponent_span_8_Template","MeetingFlowSuccessComponent_span_9_Template","MeetingFlowSuccessComponent_span_11_Template","MeetingFlowSuccessComponent_p_12_Template","showMetadata","differenceInMinutes","formatDuration","set","catchError","shareReplay","MeetingFormDetailsComponent_div_0_div_11_mat_checkbox_9_Template","end_date","MeetingFormDetailsComponent_div_0_div_12_mat_checkbox_10_Template","start_date","MeetingFormDetailsComponent_div_0_div_13_div_8_Template_a_time_field_ngModelChange_6_listener","duration_info","max_duration","MeetingFormDetailsComponent_div_0_div_13_Template_a_time_field_ngModelChange_7_listener","MeetingFormDetailsComponent_div_0_div_13_div_8_Template","MeetingFormDetailsComponent_div_0_div_13_div_9_Template","option_r4","MeetingFormDetailsComponent_div_0_div_15_mat_option_14_Template","auto_r5","filtered_entities","MeetingFormDetailsComponent_div_0_div_16_mat_checkbox_7_Template","MeetingFormDetailsComponent_div_0_div_11_Template","MeetingFormDetailsComponent_div_0_div_12_Template","MeetingFormDetailsComponent_div_0_div_13_Template","MeetingFormDetailsComponent_div_0_div_14_Template","MeetingFormDetailsComponent_div_0_div_15_Template","MeetingFormDetailsComponent_div_0_div_16_Template","can_book_for_anyone","allow_recurrence","is_next_day","host_entity_list","organisation","Array","_host_entity","entity","force_time","hours","minutes","diff","Math","floor","host_entity","MeetingFormDetailsComponent_Template","MeetingFormDetailsComponent_div_0_Template","notifyInfo","Desk","_ref","_x","apply","arguments","NewDeskFlowComponent_Template","NewDeskFlowComponent_ng_container_2_Template","NewDeskFlowComponent_ng_container_3_Template","NewDeskFlowConfirmComponent_button_0_Template_button_click_0_listener","NewDeskFlowConfirmComponent_section_25_ng_container_17_Template","is_group","NewDeskFlowConfirmComponent_section_26_div_6_div_6_Template","NewDeskFlowConfirmComponent_section_26_div_6_div_11_Template","request_r5","NewDeskFlowConfirmComponent_section_26_div_6_Template","NewDeskFlowConfirmComponent_button_29_Template_button_click_0_listener","needs_locker","NewDeskFlowConfirmComponent_button_0_Template","NewDeskFlowConfirmComponent_mat_spinner_4_Template","NewDeskFlowConfirmComponent_section_25_Template","NewDeskFlowConfirmComponent_section_26_Template","NewDeskFlowConfirmComponent_section_27_Template","NewDeskFlowConfirmComponent_button_29_Template","NewDeskFlowFormComponent_Template_button_click_7_listener","NewDeskFlowSuccessComponent_span_7_Template","NewDeskFlowSuccessComponent_span_8_Template","NewDeskFlowSuccessComponent_span_10_Template","NewDeskFlowSuccessComponent_p_11_Template","NewDeskFlowSuccessComponent_div_12_Template","NewDeskFormDetailsComponent_div_0_section_1_Template_button_click_1_listener","NewDeskFormDetailsComponent_div_0_section_1_Template_button_click_10_listener","NewDeskFormDetailsComponent_div_0_div_27_Template_a_time_field_ngModelChange_5_listener","NewDeskFormDetailsComponent_div_0_div_28_Template_mat_checkbox_ngModelChange_2_listener","NewDeskFormDetailsComponent_div_0_section_29_Template_a_user_list_field_ngModelChange_8_listener","NewDeskFormDetailsComponent_div_0_section_31_p_8_Template","ɵɵpureFunction3","NewDeskFormDetailsComponent_div_0_section_1_Template","NewDeskFormDetailsComponent_div_0_div_8_Template","NewDeskFormDetailsComponent_div_0_mat_checkbox_26_Template","NewDeskFormDetailsComponent_div_0_div_27_Template","NewDeskFormDetailsComponent_div_0_div_28_Template","NewDeskFormDetailsComponent_div_0_section_29_Template","NewDeskFormDetailsComponent_div_0_section_31_Template","NewDeskFormDetailsComponent_div_0_section_32_Template","selected_desk","NewDeskFormDetailsComponent_div_0_Template","ParkingService","NewParkingFlowComponent_ng_container_0_ng_container_1_parking_flow_success_2_Template","NewParkingFlowComponent_ng_container_0_ng_container_1_parking_flow_confirm_3_Template","NewParkingFlowComponent_ng_container_0_ng_container_1_parking_flow_form_4_Template","NewParkingFlowComponent_ng_container_0_ng_container_1_Template","assigned_space","assigned_state_r2","_parking","deny_parking_access","NewParkingFlowComponent_Template","NewParkingFlowComponent_ng_container_0_Template","NewParkingFlowComponent_ng_template_2_Template","NewParkingFlowComponent_ng_template_4_Template","deny_state_r3","NewParkingFlowConfirmComponent_button_0_Template_button_click_0_listener","NewParkingFlowConfirmComponent_section_25_ng_container_16_Template","NewParkingFlowConfirmComponent_section_26_div_6_Template","NewParkingFlowConfirmComponent_button_28_Template_button_click_0_listener","NewParkingFlowConfirmComponent_button_0_Template","NewParkingFlowConfirmComponent_mat_spinner_4_Template","NewParkingFlowConfirmComponent_section_25_Template","NewParkingFlowConfirmComponent_section_26_Template","NewParkingFlowConfirmComponent_button_28_Template","user_details","plate_number","ParkingFlowFormComponent_Template_button_click_12_listener","ParkingFlowFormComponent_Template_button_click_24_listener","ParkingFlowFormComponent_Template_button_click_30_listener","ParkingFlowFormComponent_Template_button_click_32_listener","resource","bld_r3","ParkingFormDetailsComponent_div_0_div_28_Template_a_time_field_ngModelChange_5_listener","ParkingFormDetailsComponent_div_0_div_28_mat_checkbox_11_Template","ParkingFormDetailsComponent_div_0_Template_mat_select_ngModelChange_7_listener","setBuilding","ParkingFormDetailsComponent_div_0_mat_option_9_Template","ParkingFormDetailsComponent_div_0_div_28_Template","ParkingFormDetailsComponent_div_0_div_29_Template","active_building","ParkingFormDetailsComponent_div_0_Template","BookParkingFlowComponent_Template","BookParkingFlowComponent_ng_container_2_Template","BookParkingFlowComponent_ng_container_3_Template","BookParkingFlowComponent_ng_container_4_Template","ParkingFlowConfirmComponent_Template","MAP_FEATURE_DATA","ExploreParkingService","ParkingFlowMapComponent_div_0_button_2_Template_button_click_0_listener","date_r2","setDate","counts","lvl_r5","ParkingFlowMapComponent_div_0_div_5_Template_mat_select_ngModelChange_2_listener","ParkingFlowMapComponent_div_0_div_5_mat_option_4_Template","ParkingFlowMapComponent_div_0_button_10_Template_button_click_0_listener","space_r7","setActive","active_space","levelName","ParkingFlowMapComponent_div_0_div_22_p_4_Template","ParkingFlowMapComponent_div_0_div_22_Template_button_click_6_listener","reserveSpace","existing","ParkingFlowMapComponent_div_0_button_2_Template","ParkingFlowMapComponent_div_0_div_5_Template","ParkingFlowMapComponent_div_0_button_10_Template","ParkingFlowMapComponent_div_0_div_22_Template","ParkingFlowMapComponent_div_0_div_24_Template","dates","tmp_8_0","tmp_14_0","ParkingFlowMapComponent_ng_template_2_div_0_Template","SpacePingComponent","_details","ratio","zoom$","ratio$","SpacePingComponent_Template","ɵɵstyleProp","_booking","available_spaces","idx","reset","spaces","full_size","z_index","ParkingFlowMapComponent_Template","ParkingFlowMapComponent_div_0_Template","ParkingFlowMapComponent_ng_template_2_Template","load_state_r9","BookSpaceFlowComponent_Template","BookSpaceFlowComponent_ng_container_2_Template","BookSpaceFlowComponent_ng_container_3_Template","BookSpaceFlowComponent_ng_container_4_Template","BookSpaceFlowComponent_ng_container_5_Template","SpaceFlowConfirmComponent_div_41_button_3_Template","space_r2","can_view_location","optionsFor","item_r6","SpaceFlowConfirmComponent_div_55_div_12_div_4_Template","SpaceFlowConfirmComponent_div_55_div_12_Template_a_counter_ngModelChange_8_listener","SpaceFlowConfirmComponent_div_55_Template_button_click_7_listener","show_catering","SpaceFlowConfirmComponent_div_55_div_12_Template","show_people","show_spaces","Object","message","SpaceFlowConfirmComponent_Template","SpaceFlowConfirmComponent_span_17_Template","SpaceFlowConfirmComponent_Template_button_click_36_listener","SpaceFlowConfirmComponent_div_41_Template","SpaceFlowConfirmComponent_Template_button_click_49_listener","SpaceFlowConfirmComponent_div_54_Template","SpaceFlowConfirmComponent_div_55_Template","SpaceFlowConfirmComponent_Template_button_click_56_listener","SpaceFlowConfirmComponent_span_57_Template","SpaceFlowConfirmComponent_mat_spinner_58_Template","tmp_12_0","tmp_13_0","tmp_16_0","tmp_17_0","CateringStateService","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_Template_mat_select_ngModelChange_1_listener","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_mat_option_2_Template","DetailBookSpaceFormComponent_form_0_div_18_mat_form_field_3_Template","DetailBookSpaceFormComponent_form_0_div_19_Template_mat_select_ngModelChange_4_listener","optionsChange","emit","DetailBookSpaceFormComponent_form_0_div_19_mat_option_5_Template","features_label","hide_actions","DetailBookSpaceFormComponent_form_0_section_20_div_1_Template","DetailBookSpaceFormComponent_form_0_section_20_div_2_Template","DetailBookSpaceFormComponent_form_0_div_33_Template_an_action_field_onAction_3_listener","editCatering","DetailBookSpaceFormComponent_form_0_div_33_div_4_Template","DetailBookSpaceFormComponent_form_0_div_33_div_5_Template","DetailBookSpaceFormComponent_form_0_Template_a_time_field_ngModelChange_11_listener","DetailBookSpaceFormComponent_form_0_mat_checkbox_16_Template","DetailBookSpaceFormComponent_form_0_div_18_Template","DetailBookSpaceFormComponent_form_0_div_19_Template","DetailBookSpaceFormComponent_form_0_section_20_Template","DetailBookSpaceFormComponent_form_0_div_32_Template","DetailBookSpaceFormComponent_form_0_div_33_Template","show_features","manageCateringOrder","DetailBookSpaceFormComponent_Template","DetailBookSpaceFormComponent_form_0_Template","Space","MapLocateModalComponent","bookChange","bookSpace","book","multiple","viewLocation","maxWidth","maxHeight","SpaceFlowFindItemComponent_Template","SpaceFlowFindItemComponent_Template_button_click_15_listener","SpaceFlowFindItemComponent_Template_button_click_17_listener","SpaceFlowFindComponent_mat_form_field_12_Template_mat_select_ngModelChange_1_listener","SpaceFlowFindComponent_mat_form_field_12_mat_option_3_Template","SpaceFlowFindComponent_mat_form_field_14_Template_mat_select_ngModelChange_1_listener","zone_ids","SpaceFlowFindComponent_mat_form_field_14_mat_option_4_Template","item_r9","SpaceFlowFindComponent_mat_form_field_20_Template_mat_select_ngModelChange_1_listener","SpaceFlowFindComponent_mat_form_field_20_mat_option_3_Template","SpaceFlowFindComponent_ng_container_23_ng_container_1_space_flow_find_item_1_Template_space_flow_find_item_bookChange_0_listener","space_r11","_r10","handleBookEvent","book_space","SpaceFlowFindComponent_ng_container_23_ng_container_1_space_flow_find_item_1_Template","SpaceFlowFindComponent_ng_container_23_ng_container_1_Template","empty_state_r12","SpaceFlowFindComponent_div_25_div_8_Template_button_click_6_listener","space_r15","_r14","SpaceFlowFindComponent_div_25_Template_button_click_4_listener","confirmBooking","SpaceFlowFindComponent_div_25_div_8_Template","SpaceFlowFindComponent_div_25_div_9_Template","menu_r16","opts","quick_capacities","_getSpaceList","_this3","_this4","id_list","keys","k","Promise","all","resolve","SpaceFlowFindComponent_Template","SpaceFlowFindComponent_mat_form_field_12_Template","SpaceFlowFindComponent_mat_form_field_14_Template","SpaceFlowFindComponent_Template_mat_select_ngModelChange_17_listener","SpaceFlowFindComponent_mat_option_19_Template","SpaceFlowFindComponent_mat_form_field_20_Template","SpaceFlowFindComponent_ng_container_23_Template","SpaceFlowFindComponent_div_25_Template","SpaceFlowFindComponent_ng_template_26_Template","SpaceFlowFindComponent_ng_template_28_Template","load_state_r17","SpaceFlowFormComponent_button_19_Template_button_click_0_listener","allow_standalone_bookings","findSpace","SpaceFlowFormComponent_Template","SpaceFlowFormComponent_Template_detailed_book_space_form_optionsChange_3_listener","SpaceFlowFormComponent_Template_button_click_7_listener","SpaceFlowFormComponent_Template_button_click_13_listener","SpaceFlowFormComponent_button_19_Template","onDone","VisitorFlowComponent_Template","VisitorFlowComponent_Template_invite_visitor_form_done_2_listener","csvToJson","downloadFile","CateringItem","CateringImportMenuModalComponent_main_4_Template_input_change_6_listener","handleFileEvent","CateringImportMenuModalComponent_main_4_Template_button_click_8_listener","downloadTemplate","CateringImportMenuModalComponent","element","target","files","file","fileReader","FileReader","addEventListener","contents","metadata","category","unit_price","readAsText","CateringImportMenuModalComponent_Template","CateringImportMenuModalComponent_button_3_Template","CateringImportMenuModalComponent_main_4_Template","CateringImportMenuModalComponent_ng_template_5_Template","COMMA","ENTER","SPACE","FormControl","Validators","MAT_DIALOG_DATA","invalid","touched","auto_r3","CateringItemModalComponent_form_4_div_4_mat_chip_row_6_Template_mat_chip_row_removed_0_listener","removeTag","CateringItemModalComponent_form_4_div_4_mat_chip_row_6_Template","CateringItemModalComponent_form_4_div_4_Template_input_matChipInputTokenEnd_7_listener","addTag","tag_list","chipList_r7","separators","CateringItemModalComponent_form_4_div_2_Template","CateringItemModalComponent_form_4_div_3_Template","CateringItemModalComponent_form_4_div_4_Template","CateringItemModalComponent_form_4_div_5_Template","CateringItemModalComponent_form_4_div_6_Template","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_13_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_15_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_17_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_19_listener","CateringItemModalComponent_form_4_Template_mat_checkbox_ngModelChange_21_listener","CateringItemModalComponent_form_4_div_27_Template","hasTag","renderPercent","images","CateringItemModalComponent_footer_5_Template_button_click_1_listener","saveChanges","dirty","option_r9","CateringItemModalComponent","_data","tag","required","accept_points","discount_cap","markAsDirty","input","trim","setValue","existing_tag","index","splice","CateringItemModalComponent_button_3_Template","CateringItemModalComponent_form_4_Template","CateringItemModalComponent_footer_5_Template","CateringItemModalComponent_ng_template_6_Template","CateringItemModalComponent_mat_option_10_Template","load_state_r10","forwardRef","NG_VALUE_ACCESSOR","randomString","NewCateringOrderModalComponent","CateringListFieldComponent_div_1_button_12_Template_button_click_0_listener","order_r4","duplicateOrder","CateringListFieldComponent_div_1_button_13_Template_button_click_0_listener","editOrder","CateringListFieldComponent_div_1_button_14_Template_button_click_0_listener","removeOrder","item_r8","CateringListFieldComponent_div_1_div_19_button_9_Template_button_click_0_listener","removeOrderItem","CateringListFieldComponent_div_1_div_19_span_3_Template","CateringListFieldComponent_div_1_div_19_button_9_Template","CateringListFieldComponent_div_1_div_19_Template_button_click_10_listener","toggleFavourite","disabled","favorites","CateringListFieldComponent_div_1_div_8_Template","CateringListFieldComponent_div_1_button_12_Template","CateringListFieldComponent_div_1_button_13_Template","CateringListFieldComponent_div_1_button_14_Template","CateringListFieldComponent_div_1_Template_button_click_15_listener","show_order","CateringListFieldComponent_div_1_div_19_Template","EMPTY_FAVS","CateringListFieldComponent","currency","orders","selected","registerOnChange","fn","_onChange","registerOnTouched","_onTouch","setDisabledState","new_value","writeValue","updated_list","new_order","custom_id","max","exact_time","deliver_time","offset","deliver_offset","offset_day","deliver_day_offset","option","opt","getHours","getMinutes","cateringitem","fav_list","new_state","saveUserSetting","provide","useExisting","multi","CateringListFieldComponent_Template","CateringListFieldComponent_div_1_Template","CateringListFieldComponent_Template_button_click_2_listener","unique","CateringOrdersService","CateringMenuComponent_ng_template_1_Template_mat_checkbox_ngModelChange_0_listener","row_r2","row","setEnabled","isEnabled","data_r4","symbol","CateringMenuComponent_ng_template_5_Template_button_click_6_listener","row_r6","addOption","CateringMenuComponent_ng_template_5_Template_button_click_12_listener","editItem","CateringMenuComponent_ng_template_5_Template_button_click_18_listener","removeItem","CateringMenuComponent_ng_template_5_Template_button_click_24_listener","show_children","can_edit","CateringMenuComponent_ng_template_7_div_0_button_7_Template_button_click_0_listener","row_r10","editOption","CateringMenuComponent_ng_template_7_div_0_button_8_Template_button_click_0_listener","removeOption","CateringMenuComponent_ng_template_7_div_0_button_7_Template","CateringMenuComponent_ng_template_7_div_0_button_8_Template","CateringMenuComponent_ng_template_7_div_0_Template","CateringMenuComponent","filters","_orders","is_editable","deleteOption","addItem","deleteItem","state","updateItem","CateringMenuComponent_Template","CateringMenuComponent_ng_template_1_Template","CateringMenuComponent_ng_template_3_Template","CateringMenuComponent_ng_template_5_Template","CateringMenuComponent_ng_template_7_Template","ɵɵpureFunction5","_c5","active_template_r12","price_template_r13","_c4","actions_template_r14","child_template_r15","auto_r2","CateringItemOptionModalComponent_form_4_div_1_Template","CateringItemOptionModalComponent_form_4_div_2_Template","CateringItemOptionModalComponent_form_4_div_3_Template","CateringItemOptionModalComponent_form_4_div_4_Template","CateringItemOptionModalComponent_footer_5_Template_button_click_1_listener","CateringItemOptionModalComponent","types","new_option","parent","concat","CateringItemOptionModalComponent_Template","CateringItemOptionModalComponent_button_3_Template","CateringItemOptionModalComponent_form_4_Template","CateringItemOptionModalComponent_footer_5_Template","CateringItemOptionModalComponent_ng_template_6_Template","CateringItemOptionModalComponent_mat_option_10_Template","load_state_r5","opt_r3","CateringOrderItemComponent_ng_container_0_ng_container_14_div_1_Template","CateringOrderItemComponent_ng_container_0_Template_button_click_4_listener","toggle","CateringOrderItemComponent_ng_container_0_ng_container_14_Template","ACTIVE_ITEMS","Set","CateringOrderItemComponent","item_key","order_id","delete","add","attrs","CateringOrderItemComponent_Template","CateringOrderItemComponent_ng_container_0_Template","CATERING_STATUSES","data_r1","ɵɵtextInterpolate4","CateringOrderListComponent_ng_template_8_span_2_Template","CateringOrderListComponent_ng_template_10_span_3_Template","data_r5","CateringOrderListComponent_ng_template_12_button_8_Template_button_click_0_listener","status_r7","row_r8","updateStatus","colour","CateringOrderListComponent_ng_template_12_button_8_Template","data_r9","menu_r10","statuses","row_r12","notes","CateringOrderListComponent_ng_template_14_ng_template_4_Template","CateringOrderListComponent_ng_template_14_Template_button_click_6_listener","notes_template_r13","row_r15","item_r14","CateringOrderListComponent_ng_template_16_ul_0_li_1_Template","CateringOrderListComponent_ng_template_16_ul_0_Template","CateringOrderListComponent","order_list","filtered","_x2","startPolling","stopPolling","trackByFn","CateringOrderListComponent_Template","CateringOrderListComponent_ng_template_4_Template","CateringOrderListComponent_ng_template_6_Template","CateringOrderListComponent_ng_template_8_Template","CateringOrderListComponent_ng_template_10_Template","CateringOrderListComponent_ng_template_12_Template","CateringOrderListComponent_ng_template_14_Template","CateringOrderListComponent_ng_template_16_Template","ɵɵpureFunction8","_c8","state_template_r16","time_template_r17","location_template_r18","host_template_r19","_c6","status_template_r20","_c7","actions_template_r21","child_template_r22","cateringItemAvailable","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_a_counter_8_Template_a_counter_ngModelChange_0_listener","item_r2","updateItemQuantity","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_9_Template_button_click_7_listener","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_4_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_a_counter_8_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_9_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_Template","cat_r5","menu_items","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_Template","CateringOrderModalComponent_div_0_ng_container_1_Template","show_order_details","order_details_r6","CateringOrderModalComponent_footer_1_ng_container_1_Template_button_click_3_listener","CateringOrderModalComponent_footer_1_ng_template_2_Template_button_click_0_listener","CateringOrderModalComponent_footer_1_ng_template_2_Template_button_click_2_listener","saveOrder","CateringOrderModalComponent_footer_1_ng_container_1_Template","CateringOrderModalComponent_footer_1_ng_template_2_Template","order_actions_r9","item_r11","CateringOrderModalComponent_ng_template_4_div_4_div_4_Template","CateringOrderModalComponent_ng_template_4_div_4_Template_a_counter_ngModelChange_8_listener","CateringOrderModalComponent_ng_template_4_div_4_Template","CateringOrderModalComponent","rules","getCateringConfig","cat","updateMenuQuantities","choose_options","old_item","itm","selectOptions","new_item","options_string","sort","localeCompare","confirmOrder","CateringOrderModalComponent_Template","CateringOrderModalComponent_div_0_Template","CateringOrderModalComponent_footer_1_Template","CateringOrderModalComponent_ng_template_2_Template","CateringOrderModalComponent_ng_template_4_Template","load_state_r12","tag_r3","opt_r6","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_mat_radio_button_5_div_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_Template_mat_radio_group_ngModelChange_1_listener","group_r5","group_state","updateGroupOption","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_mat_radio_button_5_Template","in_order","opt_r8","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_Template_mat_checkbox_ngModelChange_0_listener","option_state","updateCheckedState","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_div_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_mat_checkbox_0_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_container_4_Template","CateringItemDetailsComponent_ng_container_0_div_21_ng_template_5_Template","multi_options_r9","CateringItemDetailsComponent_ng_container_0_Template_button_click_3_listener","CateringItemDetailsComponent_ng_container_0_Template_button_click_6_listener","toggleFav","CateringItemDetailsComponent_ng_container_0_p_14_Template","CateringItemDetailsComponent_ng_container_0_Template_a_counter_ngModelChange_15_listener","activeChange","CateringItemDetailsComponent_ng_container_0_div_17_Template","CateringItemDetailsComponent_ng_container_0_div_21_Template","CateringItemDetailsComponent_ng_container_0_Template_button_click_23_listener","fav","CateringItemDetailsComponent","_update","group_list","g","CateringItemDetailsComponent_ng_container_0_Template","CateringItemDetailsComponent_ng_template_1_Template","empty_state_r10","day_r4","CateringItemFiltersComponent_div_7_ng_container_3_Template_mat_select_ngModelChange_4_listener","offset_dayChange","CateringItemFiltersComponent_div_7_ng_container_3_mat_option_5_Template","day_options","CateringItemFiltersComponent_div_7_Template_mat_checkbox_ngModelChange_1_listener","at_time","at_timeChange","CateringItemFiltersComponent_div_7_ng_container_3_Template","CateringItemFiltersComponent_div_7_Template_a_duration_field_ngModelChange_6_listener","offsetChange","exact_tooltip","start_of_date","step_interval","min_offset","max_offset","CateringItemFiltersComponent_mat_checkbox_10_Template_mat_checkbox_ngModelChange_0_listener","toggleCategory","ICONS","coffee","drinks","snacks","meals","CateringItemFiltersComponent","getFilters","_min_offset","min","_max_offset","icons","_updateDayOptions","toggleTag","day","CateringItemFiltersComponent_Template_input_ngModelChange_4_listener","CateringItemFiltersComponent_h3_6_Template","CateringItemFiltersComponent_div_7_Template","CateringItemFiltersComponent_h3_8_Template","CateringItemFiltersComponent_mat_checkbox_10_Template","tmp_1_0","CateringItemListItemComponent","favourite","select","CateringItemListItemComponent_Template","CateringItemListItemComponent_Template_button_click_1_listener","CateringItemListItemComponent_div_3_Template","CateringItemListItemComponent_img_4_Template","CateringItemListItemComponent_ng_template_5_Template","CateringItemListItemComponent_p_14_Template","CateringItemListItemComponent_div_15_Template","CateringItemListItemComponent_div_16_Template","CateringItemListItemComponent_div_17_Template","CateringItemListItemComponent_div_18_Template","CateringItemListItemComponent_div_19_Template","CateringItemListItemComponent_div_20_Template","CateringItemListItemComponent_Template_button_click_21_listener","placeholder_r3","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template_catering_item_list_item_toggleFav_0_listener","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template_catering_item_list_item_select_0_listener","selectItem","isFavourite","CateringItemListComponent_ng_container_1_catering_item_list_item_7_Template","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template_catering_item_list_item_toggleFav_0_listener","item_r5","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template_catering_item_list_item_select_0_listener","CateringItemListComponent_ng_container_8_ul_1_catering_item_list_item_1_Template","item_list","CateringItemListComponent_ng_container_8_ul_1_Template","empty_state_r6","CateringItemListComponent","selected_items","onSelect","item_id","clear_state","CateringItemListComponent_Template","CateringItemListComponent_ng_container_1_Template","CateringItemListComponent_ng_container_8_Template","CateringItemListComponent_ng_template_10_Template","CateringItemListComponent_ng_template_12_Template","load_state_r7","getCateringRulesForZone","_options","_filters","asObservable","post","require_notes","t","ɵɵinject","factory","ɵfac","providedIn","NewCateringOrderModalComponent_button_14_Template_button_click_0_listener","displayed","selected_ids","_order","isSelected","setSelected","NewCateringOrderModalComponent_Template_catering_item_filters_at_timeChange_8_listener","NewCateringOrderModalComponent_Template_catering_item_filters_offsetChange_8_listener","NewCateringOrderModalComponent_Template_catering_item_filters_offset_dayChange_8_listener","NewCateringOrderModalComponent_Template_catering_item_list_toggleFav_11_listener","NewCateringOrderModalComponent_Template_catering_item_list_onSelect_11_listener","NewCateringOrderModalComponent_Template_catering_item_details_activeChange_12_listener","NewCateringOrderModalComponent_Template_catering_item_details_toggleFav_12_listener","NewCateringOrderModalComponent_Template_catering_item_details_close_12_listener","NewCateringOrderModalComponent_button_14_Template","NewCateringOrderModalComponent_Template_button_click_26_listener","opt_r4","CateringOrderOptionsModalComponent_div_7_ng_container_4_mat_radio_button_5_div_4_Template","CateringOrderOptionsModalComponent_div_7_ng_container_4_Template_mat_radio_group_ngModelChange_1_listener","group_r2","CateringOrderOptionsModalComponent_div_7_ng_container_4_mat_radio_button_5_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_Template_mat_checkbox_ngModelChange_0_listener","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_div_4_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_Template","CateringOrderOptionsModalComponent_div_7_ng_container_4_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_Template","multi_options_r7","CateringOrderOptionsModalComponent","saveOptions","CateringOrderOptionsModalComponent_Template","CateringOrderOptionsModalComponent_div_7_Template","CateringOrderOptionsModalComponent_Template_button_click_9_listener","flatten","updateEventMetadata","checkOrder","_poll","events","valid_catering","delay","clearInterval","updated_order","system_id","updateMetadata","notifySuccess","AttachedResourceConfigModalComponent","_menu","_updated","_currency","_change","getCateringForZone","race","findIndex","updateMenu","_this5","_this6","class","_this7","editConfig","_this8","config","saveNotes","saveSettings","updateConfig","importMenu","_this9","updated_menu","_this10","old_settings","addItemToOrder","Type","MatAutocompleteModule","MatCheckboxModule","MatDialogModule","MatMenuModule","MatTabsModule","MatRadioModule","MatTooltipModule","MatFormFieldModule","MatProgressSpinnerModule","MatProgressBarModule","FormFieldsModule","ComponentsModule","ChargeCodeListModalComponent","COMPONENTS","exports","ChargeCodeListModalComponent_main_6_div_1_Template_input_ngModelChange_2_listener","i_r2","ChargeCodeListModalComponent_main_6_div_1_Template_button_click_3_listener","removeCode","ChargeCodeListModalComponent_main_6_div_1_Template","ChargeCodeListModalComponent_footer_7_Template_input_change_3_listener","addCodesFromFile","ChargeCodeListModalComponent_footer_7_Template_button_click_4_listener","newCode","ChargeCodeListModalComponent_footer_7_Template_button_click_6_listener","saveChargeCodes","reader","evt","srcElement","cleaned_codes","ChargeCodeListModalComponent_Template","ChargeCodeListModalComponent_main_6_Template","ChargeCodeListModalComponent_footer_7_Template","ChargeCodeListModalComponent_ng_template_8_Template","isAfter","subHours","stringToMinutes","RULE_REQUESTS","fresh","is_available","rule","matches","condition","ext","_legacyCanvasSize","DEFAULT_CANVAS_SIZE","_preferredCamera","_maxScansPerSecond","_lastScanTimestamp","_destroyed","_flashOn","_paused","_active","$video","$canvas","document","createElement","_onDecode","warn","_legacyOnDecode","_onDecodeError","onDecodeError","_calculateScanRegion","calculateScanRegion","preferredCamera","maxScansPerSecond","_onPlay","bind","_onLoadedMetaData","_onVisibilityChange","_updateOverlay","disablePictureInPicture","playsInline","muted","h","hidden","appendChild","parentElement","highlightScanRegion","highlightCodeOutline","overlay","$overlay","style","position","display","pointerEvents","classList","innerHTML","firstElementChild","animate","iterations","Infinity","direction","easing","m","insertBefore","nextSibling","insertAdjacentHTML","$codeOutlineHighlight","lastElementChild","_scanRegion","requestAnimationFrame","getComputedStyle","setProperty","visibility","width","height","removeChild","_qrEnginePromise","createQrEngine","WORKER_PATH","hasCamera","listCameras","enumerateDevices","kind","label","audio","deviceId","_stopVideoStream","hasFlash","MediaStream","_getCameraStream","getVideoTracks","getSettings","isFlashOn","toggleFlash","turnFlashOff","turnFlashOn","applyConstraints","advanced","torch","_restartVideoStream","destroy","removeEventListener","_postWorkerMessage","Error","protocol","play","facingMode","_setVideoMirror","pause","setTimeout","setCamera","scanImage","n","scanRegion","qrEngine","canvas","disallowCanvasResizing","alsoTryWithoutScanRegion","p","_loadImage","_drawToCanvas","q","Worker","_postWorkerMessageSync","v","w","u","clearTimeout","cornerPoints","_convertPoints","NO_QR_CODE_FOUND","getImageData","buffer","detect","rawValue","test","_disableBarcodeDetector","setGrayscaleWeights","red","green","blue","useIntegerApproximation","setInversionMode","createWorker","BarcodeDetector","getSupportedFormats","userAgentData","brands","brand","platform","getHighEntropyValues","architecture","platformVersion","parseInt","formats","_scanFrame","round","videoWidth","videoHeight","downScaledWidth","downScaledHeight","offsetWidth","offsetHeight","offsetLeft","offsetTop","objectFit","objectPosition","parseFloat","endsWith","top","left","paused","ended","requestVideoFrameCallback","readyState","_codeOutlineHighlightRemovalTimeout","setAttribute","log","assign","exact","_getFacingMode","removeTrack","getContext","alpha","imageSmoothingEnabled","drawImage","Image","_awaitImageLoad","HTMLVideoElement","HTMLCanvasElement","SVGImageElement","OffscreenCanvas","ImageBitmap","File","Blob","URL","src","createObjectURL","toString","revokeObjectURL","complete","naturalWidth","ErrorEvent","_workerMessageId","postMessage"],"sourceRoot":"webpack:///","x_google_ignoreList":[66]}