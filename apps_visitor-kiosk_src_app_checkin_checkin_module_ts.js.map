{"version":3,"file":"apps_visitor-kiosk_src_app_checkin_checkin_module_ts.js","mappings":"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","names":["startOfHour","date","_date","toDate","setMinutes","CheckinStateService","constructor","this","_booking","BehaviorSubject","Booking","asset_id","asset_name","user_email","user_name","Date","now","valueOf","duration","zones","_guest","_photo","_error","_form","generateGuestForm","_space_pipe","SpacePipe","event","asObservable","guest","error","form","clear","next","setPhoto","data","setError","message","loadGuestAndEvent","email","event_id","_this","_asyncToGenerator","showGuest","toPromise","showBooking","booking","upcoming","queryAllBookings","type","period_start","getUnixTime","period_end","addMinutes","filter","_","today","todays_events","isSameDay","sort","a","b","length","Error","updateGuest","_this2","getValue","completeInduction","_this3","extension_data","updateBookingInductionStatus","id","declineInduction","_this4","checkinGuest","_this5","checkinBooking","catch","_ref","e","notifyError","name","_x","apply","arguments","notifySuccess","printPass","Promise","res","setTimeout","reject","static","__ngFactoryType__","core","jDH","factory","fac","providedIn","i0","_r1","ctx_r1","_c1","CheckinDetailsComponent","induction_after_details","_settings","get","_checkin","_router","loading","ngOnInit","pipe","first","subscribe","value","previous","navigate","i1","i2","i3","VBU","selectors","attrs","_c0","decls","vars","consts","template","rf","ctx","CheckinDetailsComponent_form_0_Template","CheckinDetailsComponent_ng_template_2_Template","load_state_r3","$event","handlePhoto","CheckinPhotoComponent","CheckinPhotoComponent_div_0_Template","CheckinPhotoComponent_ng_template_1_Template","controls","invalid","touched","category","auto_r3","item_r6","_r5","$implicit","removeTag","CateringItemModalComponent_form_4_div_4_mat_chip_row_6_Template","_r4","addTag","tags","tag_list","chipList_r7","separators","unit_price","CateringItemModalComponent_form_4_div_2_Template","CateringItemModalComponent_form_4_div_3_Template","CateringItemModalComponent_form_4_div_4_Template","CateringItemModalComponent_form_4_div_5_Template","CateringItemModalComponent_form_4_div_6_Template","CateringItemModalComponent_form_4_div_27_Template","description","tmp_9_0","hasTag","renderPercent","images","_r8","saveChanges","dirty","option_r9","CateringItemModalComponent","item","_data","CateringItem","categories","tag","includes","EventEmitter","FormGroup","FormControl","Validators","required","accept_points","discount_cap","ENTER","COMMA","SPACE","markAsDirty","input","trim","push","setValue","existing_tag","index","indexOf","splice","emit","reason","metadata","randomInt","MAT_DIALOG_DATA","outputs","i18n_0","$localize","CateringItemModalComponent_button_3_Template","CateringItemModalComponent_form_4_Template","CateringItemModalComponent_footer_5_Template","CateringItemModalComponent_ng_template_6_Template","CateringItemModalComponent_mat_option_10_Template","load_state_r10","ctx_r0","group","auto_r2","CateringItemOptionModalComponent_form_4_div_1_Template","CateringItemOptionModalComponent_form_4_div_2_Template","CateringItemOptionModalComponent_form_4_div_3_Template","CateringItemOptionModalComponent_form_4_div_4_Template","multiple","_r3","option_r4","CateringItemOptionModalComponent","option","types","new_option","parent","options","i","concat","CateringItemOptionModalComponent_button_3_Template","CateringItemOptionModalComponent_form_4_Template","CateringItemOptionModalComponent_footer_5_Template","CateringItemOptionModalComponent_ng_template_6_Template","CateringItemOptionModalComponent_mat_option_10_Template","load_state_r5","cateringItemAvailable","rules","is_available","rule","resources","find","space","matches","condition","isBefore","subHours","isAfter","setHours","stringToMinutes","ext","MatTab_ng_template_0_Template","_c2","_c3","_c4","_c5","_c6","a0","animationDuration","_c7","a1","params","MatTabBody_ng_template_2_Template","_c8","_c9","MatTabGroup_For_3_Conditional_6_ng_template_0_Template","MatTabGroup_For_3_Conditional_6_Template","tab_r4","templateLabel","MatTabGroup_For_3_Conditional_7_Template","textLabel","MatTabGroup_For_3_Template","_r2","ctx_r2","$index_3_r5","$index","ctx_r5","tabHeader_r7","_handleClick","_tabFocusChanged","tabNode_r8","labelClass","selectedIndex","_getTabLabelId","disabled","fitInkBarToContent","_getTabIndex","_tabs","_getTabContentId","ariaLabel","ariaLabelledby","disableRipple","MatTabGroup_Conditional_4_Template","MatTabGroup_For_8_Template","_r9","_removeTabBodyWrapperHeight","_setTabBodyWrapperHeight","tab_r10","$index_23_r11","bodyClass","content","position","origin","preserveContent","contentTabIndex","MAT_TAB_CONTENT","InjectionToken","MatTabContent","dir","standalone","features","provide","useExisting","MAT_TAB_LABEL","MAT_TAB","MatTabLabel","CdkPortal","templateRef","viewContainerRef","_closestTab","super","MAT_TAB_GROUP","MatTab","_templateLabel","_setTemplateLabelInput","_contentPortal","_viewContainerRef","_closestTabGroup","_explicitContent","undefined","_stateChanges","Subject","isActive","ngOnChanges","changes","hasOwnProperty","ngOnDestroy","complete","TemplatePortal","_implicitContent","cmp","contentQueries","dirIndex","TemplateRef","_t","viewQuery","hostAttrs","inputs","booleanAttribute","exportAs","ngContentSelectors","encapsulation","ACTIVE_CLASS","NO_TRANSITION_CLASS","MatInkBar","_items","hide","forEach","deactivateInkBar","alignToElement","element","correspondingItem","elementRef","nativeElement","currentItem","_currentItem","domRect","getBoundingClientRect","activateInkBar","InkBarItem","_elementRef","inject","ElementRef","_fitToContent","newValue","_inkBarElement","_appendInkBarElement","previousIndicatorClientRect","_inkBarContentElement","classList","add","currentClientRect","widthDelta","width","xPosition","left","style","setProperty","remove","_createInkBarElement","documentNode","ownerDocument","document","inkBarElement","createElement","inkBarContentElement","className","appendChild","querySelector","MatTabLabelWrapper","focus","getOffsetLeft","offsetLeft","getOffsetWidth","offsetWidth","hostVars","hostBindings","passiveEventListenerOptions","normalizePassiveListenerOptions","passive","MatPaginatedTabHeader","_selectedIndex","v","isNaN","_selectedIndexChanged","_keyManager","updateActiveItem","_changeDetectorRef","_viewportRuler","_dir","_ngZone","_platform","_animationMode","_scrollDistance","_destroyed","_showPaginationControls","_disableScrollAfter","_disableScrollBefore","_stopScrolling","disablePagination","selectFocusedIndex","indexFocused","_sharedResizeObserver","SharedResizeObserver","_injector","Injector","runOutsideAngular","fromEvent","takeUntil","_stopInterval","ngAfterViewInit","_previousPaginator","_handlePaginatorPress","_nextPaginator","ngAfterContentInit","dirChange","change","of","resize","observe","debounceTime","viewportResize","realign","updatePagination","_alignInkBarToSelectedTab","FocusKeyManager","withHorizontalOrientation","_getLayoutDirection","withHomeAndEnd","withWrap","skipPredicate","afterNextRender","injector","merge","_itemsResized","run","resolve","then","Math","max","min","_getMaxScrollDistance","newFocusIndex","_setTabFocus","ResizeObserver","EMPTY","startWith","switchMap","tabItems","Observable","observer","resizeObserver","entries","disconnect","skip","some","contentRect","height","ngAfterContentChecked","_tabLabelCount","markForCheck","_scrollToLabel","_checkScrollingControls","_scrollDistanceChanged","_updateTabScrollPosition","destroy","_handleKeydown","hasModifierKey","keyCode","focusIndex","_itemSelected","onKeydown","_onContentChanges","textContent","_currentTextContent","_checkPaginationEnabled","activeItemIndex","_isValidIndex","setActiveItem","toArray","tabIndex","containerEl","_tabListContainer","scrollLeft","scrollWidth","scrollDistance","translateX","_tabList","transform","round","TRIDENT","EDGE","_scrollTo","_scrollHeader","direction","_handlePaginatorClick","labelIndex","selectedLabel","viewLength","labelBeforePos","labelAfterPos","_tabListInner","beforeVisiblePos","afterVisiblePos","isEnabled","selectedItem","selectedLabelWrapper","_inkBar","mouseEvent","button","timer","maxScrollDistance","distance","ANIMATION_MODULE_TYPE","numberAttribute","MatTabHeader","changeDetectorRef","viewportRuler","dir","ngZone","platform","animationMode","preventDefault","dependencies","MatRipple","CdkObserveContent","styles","MAT_TABS_CONFIG","matTabsAnimations","translateTab","trigger","state","visibility","minHeight","transition","animate","MatTabBodyPortal","CdkPortalOutlet","componentFactoryResolver","_host","_document","_centeringSub","Subscription","_leavingSub","_beforeCentering","_isCenterPosition","_position","isCentering","_content","hasAttached","attach","_afterLeavingCenter","detach","unsubscribe","forwardRef","MatTabBody","DOCUMENT","_positionIndex","_computePositionAnimationState","_dirChangeSubscription","_translateTabComplete","_onCentering","_onCentered","distinctUntilChanged","x","y","fromState","toState","_computePositionFromOrigin","_onTranslateTabStarted","clientHeight","_portalHost","CdkScrollable","animation","nextId","MatTabGroup","_fitInkBarToContent","_indexToSelect","_animationDuration","stringValue","test","_contentTabIndex","backgroundColor","_backgroundColor","defaultConfig","QueryList","_lastFocusedTabIndex","_tabBodyWrapperHeight","_tabsSubscription","_tabLabelSubscription","stretchTabs","dynamicHeight","headerPosition","selectedIndexChange","focusChange","animationDone","selectedTabChange","_isServer","Platform","isBrowser","_groupId","indexToSelect","_clampTabIndex","isFirstRun","_createChangeEvent","wrapper","_tabBodyWrapper","tab","_subscribeToAllTabChanges","_subscribeToTabLabels","tabs","selectedTab","_allTabs","reset","notifyOnChanges","realignInkBar","_tabHeader","focusTab","header","_focusChanged","MatTabChangeEvent","map","tabHeight","offsetHeight","tabHeader","focusOrigin","color","CdkMonitorFocus","item_r2","updateItemQuantity","quantity","addItem","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_4_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_a_counter_8_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_div_9_Template","code","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_div_2_Template","cat_r5","menu_items","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_mat_tab_1_Template","CateringOrderModalComponent_div_0_ng_container_1_ng_container_2_Template","CateringOrderModalComponent_div_0_ng_container_1_Template","show_order_details","order_details_r6","_r7","order","item_count","saveOrder","CateringOrderModalComponent_footer_1_ng_container_1_Template","CateringOrderModalComponent_footer_1_ng_template_2_Template","order_actions_r9","optionsFor","item_r11","CateringOrderModalComponent_ng_template_4_div_4_div_4_Template","_r10","total_cost","CateringOrderModalComponent_ng_template_4_div_4_Template","items","CateringOrderModalComponent","AsyncHandler","_org","currency_code","CateringOrder","getCateringConfig","level","parent_id","menu","list","unique","cat","updateMenuQuantities","timeout","choose_options","old_item","itm","reduce","c","o","opt","selectOptions","new_item","options_string","removeItem","amount","localeCompare","join","confirmOrder","CateringOrderModalComponent_div_0_Template","CateringOrderModalComponent_footer_1_Template","CateringOrderModalComponent_ng_template_2_Template","CateringOrderModalComponent_ng_template_4_Template","load_state_r12","opt_r4","CateringOrderOptionsModalComponent_div_7_ng_container_4_mat_radio_button_5_div_4_Template","group_r2","updateGroupOption","CateringOrderOptionsModalComponent_div_7_ng_container_4_mat_radio_button_5_Template","opt_r6","option_state","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_div_4_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_mat_checkbox_0_Template","CateringOrderOptionsModalComponent_div_7_ng_container_4_Template","CateringOrderOptionsModalComponent_div_7_ng_template_5_Template","multi_options_r7","CateringOrderOptionsModalComponent","groups","group_list","saveOptions","CateringOrderOptionsModalComponent_div_7_Template","handleFileEvent","downloadTemplate","CateringImportMenuModalComponent","target","files","file","fileReader","FileReader","addEventListener","csvToJson","result","toLowerCase","readAsText","downloadFile","CateringImportMenuModalComponent_button_3_Template","CateringImportMenuModalComponent_main_4_Template","CateringImportMenuModalComponent_ng_template_5_Template","CateringStateService","is_editable","zone","building","_menu","_dialog","_updated","_loading","_currency","_change","currency","settings","combineLatest","active_building","showMetadata","catchError","details","tap","post","require_notes","shareReplay","charge_codes","availability","disabled_rooms","subscription","bld","getCateringForZone","manageCateringOrder","ref","open","race","componentInstance","afterClosed","close","findIndex","updateMenu","updateItem","addOption","deleteItem","_this6","openConfirmModal","title","icon","class","deleteOption","_this7","editConfig","_this8","config","take","flatten","AttachedResourceConfigModalComponent","saveNotes","saveSettings","updateConfig","importMenu","_this9","updated_menu","zone_id","updateMetadata","_this10","old_settings","Array","addItemToOrder","match","item_r1","CheckinPreferencesComponent","_catering","l","update","beverage","CheckinPreferencesComponent_mat_option_6_Template","qr_scanner_min","d","f","_legacyCanvasSize","DEFAULT_CANVAS_SIZE","_preferredCamera","_maxScansPerSecond","_lastScanTimestamp","_flashOn","_paused","_active","$video","$canvas","_onDecode","console","warn","_legacyOnDecode","_onDecodeError","onDecodeError","_calculateScanRegion","calculateScanRegion","preferredCamera","maxScansPerSecond","_onPlay","bind","_onLoadedMetaData","_onVisibilityChange","_updateOverlay","disablePictureInPicture","playsInline","muted","h","hidden","body","contains","parentElement","highlightScanRegion","highlightCodeOutline","overlay","$overlay","display","pointerEvents","innerHTML","firstElementChild","iterations","Infinity","easing","insertBefore","nextSibling","insertAdjacentHTML","$codeOutlineHighlight","lastElementChild","_scanRegion","requestAnimationFrame","m","window","getComputedStyle","opacity","removeChild","_qrEnginePromise","createQrEngine","WORKER_PATH","hasCamera","listCameras","navigator","mediaDevices","enumerateDevices","kind","every","label","getUserMedia","audio","video","deviceId","_stopVideoStream","hasFlash","srcObject","MediaStream","_getCameraStream","stream","getVideoTracks","getSettings","isFlashOn","toggleFlash","turnFlashOff","turnFlashOn","applyConstraints","advanced","torch","_restartVideoStream","removeEventListener","stop","_postWorkerMessage","start","location","protocol","play","facingMode","_setVideoMirror","pause","setCamera","scanImage","n","scanRegion","qrEngine","canvas","disallowCanvasResizing","alsoTryWithoutScanRegion","p","k","q","all","_loadImage","_drawToCanvas","Worker","g","_postWorkerMessageSync","w","u","r","t","clearTimeout","cornerPoints","_convertPoints","NO_QR_CODE_FOUND","getImageData","buffer","detect","rawValue","_disableBarcodeDetector","setGrayscaleWeights","red","green","blue","useIntegerApproximation","setInversionMode","__webpack_require__","createWorker","BarcodeDetector","getSupportedFormats","userAgentData","brands","brand","getHighEntropyValues","architecture","platformVersion","parseInt","formats","_scanFrame","videoWidth","videoHeight","downScaledWidth","downScaledHeight","offsetTop","objectFit","objectPosition","split","parseFloat","endsWith","top","paused","ended","requestVideoFrameCallback","readyState","_codeOutlineHighlightRemovalTimeout","setAttribute","log","Object","assign","exact","_getFacingMode","getTracks","removeTrack","getContext","alpha","imageSmoothingEnabled","drawImage","Image","_awaitImageLoad","HTMLVideoElement","HTMLCanvasElement","SVGImageElement","OffscreenCanvas","ImageBitmap","File","Blob","URL","src","createObjectURL","toString","revokeObjectURL","naturalWidth","ErrorEvent","_workerMessageId","postMessage","CheckinQRScanComponent","is_induction_enabled","checking_code","setupQRReader","_video_el","track","_reader","checkQRCode","raw_text","chunks","visit_block","system_id","host_email","visitor_email","err","handleError","rejected","induction","checkEmail","QrScanner","statusText","tmp_2_0","display_name","print","CheckinResultsComponent_div_0_div_23_Template","CheckinResultsComponent_div_0_button_40_Template","result_template","tmp_3_0","tmp_4_0","tmp_5_0","logo","tmp_8_0","extra_details","tmp_10_0","allow_printing_label","DEFAULT_TEMPLATE","CheckinResultsComponent","time_format","startOfMinute","roundToNearestMinutes","nearestTo","initialised","levelWithID","updated_template","replace","location_id","can_use_lift","event_start","booking_start","i4","i5","DatePipe","CheckinResultsComponent_div_0_Template","CheckinErrorComponent","CheckinErrorComponent_p_3_Template","CheckinCovidComponent","confirm","symptoms","contact","covid","ROUTES","path","component","CheckinComponent","background","children","CheckinInductionComponent","induction_details","is_enabled","agree","decline","notifyInfo","continue","redirectTo","VisitorCheckinModule","$C","G2t","CommonModule","FormsModule","ReactiveFormsModule","SharedComponentsModule","RouterModule","forChild"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./node_modules/date-fns/startOfHour.mjs","./apps/visitor-kiosk/src/app/checkin/checkin-state.service.ts","./apps/visitor-kiosk/src/app/checkin/checkin-details.component.ts","./apps/visitor-kiosk/src/app/checkin/checkin-photo.component.ts","./libs/catering/src/lib/catering-item-modal.component.ts","./libs/catering/src/lib/catering-option-modal.component.ts","./libs/catering/src/lib/utilities.ts","./node_modules/@angular/material/fesm2022/tabs.mjs","./libs/catering/src/lib/catering-order-modal.component.ts","./libs/catering/src/lib/catering-order-options-modal.component.ts","./libs/catering/src/lib/catering-import-menu-modal.component.ts","./libs/catering/src/lib/catering-state.service.ts","./apps/visitor-kiosk/src/app/checkin/checkin-preferences.component.ts","./node_modules/qr-scanner/qr-scanner.min.js","./apps/visitor-kiosk/src/app/checkin/checkin-qr-scan.component.ts","./apps/visitor-kiosk/src/app/checkin/checkin-result.component.ts","./apps/visitor-kiosk/src/app/checkin/checkin-error.component.ts","./apps/visitor-kiosk/src/app/checkin/checkin-covid.component.ts","./apps/visitor-kiosk/src/app/checkin/checkin.module.ts","./apps/visitor-kiosk/src/app/checkin/checkin.component.ts","./apps/visitor-kiosk/src/app/checkin/checkin-induction.component.ts"],"sourcesContent":["import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name startOfHour\n * @category Hour Helpers\n * @summary Return the start of an hour for the given date.\n *\n * @description\n * Return the start of an hour for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The start of an hour\n *\n * @example\n * // The start of an hour for 2 September 2014 11:55:00:\n * const result = startOfHour(new Date(2014, 8, 2, 11, 55))\n * //=> Tue Sep 02 2014 11:00:00\n */\nexport function startOfHour(date) {\n  const _date = toDate(date);\n  _date.setMinutes(0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfHour;\n","import { Injectable } from '@angular/core';\nimport { HashMap, notifyError, notifySuccess } from '@placeos/common';\nimport { GuestUser, generateGuestForm, showGuest } from '@placeos/users';\nimport { addMinutes, getUnixTime, isSameDay, startOfHour } from 'date-fns';\nimport { BehaviorSubject } from 'rxjs';\nimport {\n    Booking,\n    checkinBooking,\n    queryAllBookings,\n    setBookingState,\n    showBooking,\n    updateBooking,\n    updateBookingInductionStatus,\n} from '@placeos/bookings';\nimport { SpacePipe } from '@placeos/spaces';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CheckinStateService {\n    /** Current event being checked in */\n    private _booking = new BehaviorSubject<Booking>(\n        new Booking({\n            asset_id: 'jim@1234.com',\n            asset_name: 'Jim Jones',\n            user_email: 'alex@place.tech',\n            user_name: 'Alex Sorafumo',\n            date: startOfHour(Date.now()).valueOf(),\n            duration: 60,\n            zones: ['zone-Do2HJ00hTG'],\n        }),\n    );\n    /** Current guest being checked in */\n    private _guest = new BehaviorSubject<GuestUser>(null);\n    /** Photo of the current guest */\n    private _photo = new BehaviorSubject<string>('');\n    /** Photo of the current guest */\n    private _error = new BehaviorSubject<string>('');\n    /** Form for the current guest details */\n    private _form = new BehaviorSubject(generateGuestForm());\n    private _space_pipe = new SpacePipe();\n\n    public readonly event = this._booking.asObservable();\n    public readonly guest = this._guest.asObservable();\n    public readonly error = this._error.asObservable();\n    public readonly form = this._form.asObservable();\n\n    public clear() {\n        this._guest.next(null);\n        this._booking.next(null);\n        this._photo.next(null);\n    }\n\n    public setPhoto(data: string) {\n        this._photo.next(data);\n    }\n\n    public setError(message: string) {\n        this._error.next(message);\n    }\n\n    /** Load guest and event data */\n    public async loadGuestAndEvent(email: string, event_id?: string) {\n        const guest = await showGuest(email).toPromise();\n        if (event_id) {\n            const event = await showBooking(event_id).toPromise();\n            this._guest.next(guest);\n            this._booking.next(event);\n            this._form.next(generateGuestForm(guest, event.user_email));\n            return { guest, event };\n        }\n        if (guest.booking) {\n            this._guest.next(guest);\n            this._booking.next(guest.booking);\n            this._form.next(generateGuestForm(guest, guest.booking.user_email));\n            return { guest, event: guest.booking };\n        }\n        let upcoming = await queryAllBookings({\n            type: 'visitor',\n            period_start: getUnixTime(Date.now()),\n            period_end: getUnixTime(addMinutes(Date.now(), 120)),\n        }).toPromise();\n        upcoming = upcoming.filter(\n            (_) => _.user_email === email || _.asset_id === email,\n        );\n        const today = new Date();\n        const todays_events = upcoming.filter((event) =>\n            isSameDay(new Date(event.date), today),\n        );\n        todays_events.sort((a, b) => a.date - b.date);\n        if (todays_events.length <= 0) {\n            throw new Error(`No meetings for guest \"${email}\" today`);\n        }\n        this._guest.next(guest);\n        this._booking.next(todays_events[0]);\n        this._form.next(generateGuestForm(guest, todays_events[0].user_email));\n        return { guest, event: todays_events[0] };\n    }\n\n    public async updateGuest(data?: HashMap) {\n        const guest = this._guest.getValue();\n        const form = this._form.getValue();\n        if (!guest || !form) return;\n        // await updateMetadata(guest.email, {\n        //     name: 'preferences',\n        //     details: { ...guest, ...form.value, ...(data || {}) },\n        //     description: '',\n        // }).toPromise();\n    }\n\n    public async completeInduction() {\n        const guest = this._guest.getValue();\n        const event = this._booking.getValue() || guest.extension_data.event;\n        if (!guest || !event) return;\n        await updateBookingInductionStatus(event.id, 'accepted').toPromise();\n    }\n\n    public async declineInduction() {\n        const guest = this._guest.getValue();\n        const event = this._booking.getValue() || guest.extension_data.event;\n        if (!guest || !event) return;\n        await updateBookingInductionStatus(event.id, 'declined').toPromise();\n    }\n\n    public async checkinGuest() {\n        const guest = this._guest.getValue();\n        const event = this._booking.getValue() || guest.extension_data.event;\n        if (!guest || !event) return;\n        const checkin_fn = checkinBooking(event.id, true).toPromise();\n        await checkin_fn.catch(async (e) => {\n            notifyError(\n                e ||\n                    `Error checking in ${guest.name} for ${\n                        event.user_name || event.user_email\n                    }'s meeting.`,\n            );\n            throw e;\n        });\n        notifySuccess(\n            `Successfully checked in ${guest.name} for ${\n                event.user_name || event.user_email\n            }'s meeting`,\n        );\n    }\n\n    public printPass() {\n        try {\n            // TODO: actually trigger print visitor pass\n            return new Promise((res) => setTimeout(() => res(''), 5000));\n        } catch (err) {\n            notifyError('Error printing visitor pass');\n        }\n        return Promise.reject();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { first } from 'rxjs/operators';\nimport { CheckinStateService } from './checkin-state.service';\nimport { SettingsService, notifyError } from '@placeos/common';\n\n@Component({\n    selector: '[checkin-details]',\n    template: `\n        <form\n            *ngIf=\"(form | async) && !loading; else load_state\"\n            [formGroup]=\"form | async\"\n            class=\"bg-base-100 rounded shadow overflow-hidden relative flex flex-col items-center w-[36rem] p-4\"\n        >\n            <h3 class=\"text-2xl m-4\">Confirm Details</h3>\n            <div field class=\"flex flex-col\">\n                <label form=\"host\">Host</label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"host\"\n                        formControlName=\"host\"\n                        placeholder=\"Host's Email Address\"\n                    />\n                    <mat-error>\n                        The email address of your host is required\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div field class=\"flex flex-col\">\n                <label form=\"name\">Name</label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"name\"\n                        formControlName=\"name\"\n                        placeholder=\"Full Name\"\n                    />\n                    <mat-error>Please enter your full name</mat-error>\n                </mat-form-field>\n            </div>\n            <div field class=\"flex flex-col\">\n                <label form=\"email\">Email</label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"email\"\n                        formControlName=\"email\"\n                        placeholder=\"Email Address\"\n                    />\n                    <mat-error>A valid email address is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div field class=\"flex flex-col\">\n                <label form=\"email\">Phone Number</label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"phone\"\n                        type=\"tel\"\n                        formControlName=\"phone\"\n                        placeholder=\"Phone Number\"\n                    />\n                </mat-form-field>\n            </div>\n            <div field class=\"flex flex-col\">\n                <label form=\"org\">Organisation / Company</label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"org\"\n                        formControlName=\"organisation\"\n                        placeholder=\"Organisation / Company\"\n                    />\n                </mat-form-field>\n            </div>\n            <button next btn matRipple (click)=\"updateGuest()\">Next</button>\n            <a\n                icon\n                matRipple\n                class=\"absolute top-0 right-0\"\n                [routerLink]=\"['/welcome']\"\n            >\n                <app-icon>close</app-icon>\n            </a>\n        </form>\n        <ng-template #load_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center\"\n            >\n                <div\n                    class=\"flex flex-col items-center space-y-2 bg-base-100 rounded shadow p-16\"\n                >\n                    <mat-spinner [diameter]=\"48\"></mat-spinner>\n                    <div class=\"my-4 text-lg\">\n                        Updating data and checking in...\n                    </div>\n                </div>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            form {\n                width: 32rem;\n                max-width: calc(100vw - 2rem);\n            }\n\n            [field] {\n                width: calc(100% - 2rem);\n            }\n\n            button {\n                margin-bottom: 1rem;\n                width: 8rem;\n            }\n        `,\n    ],\n})\nexport class CheckinDetailsComponent implements OnInit {\n    public readonly form = this._checkin.form;\n\n    public loading = false;\n\n    public get induction_after_details() {\n        return this._settings.get('app.induction_after_details');\n    }\n\n    constructor(\n        private _checkin: CheckinStateService,\n        private _router: Router,\n        private _settings: SettingsService,\n    ) {}\n\n    public ngOnInit(): void {\n        this.form\n            .pipe(first())\n            .subscribe((_) => (!_ || !_.value.email ? this.previous() : ''));\n    }\n\n    public async updateGuest() {\n        this.loading = true;\n        await this._checkin.updateGuest();\n        await this._checkin.checkinGuest()?.catch((e) => {\n            this.loading = false;\n            throw e;\n        });\n        this.loading = false;\n        if (this.induction_after_details) {\n            this._router.navigate(['/checkin', 'induction']);\n        } else {\n            this._router.navigate(['/checkin', 'results']);\n        }\n    }\n\n    public previous() {\n        this._router.navigate(['/checkin', 'scan']);\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { notifyError } from '@placeos/common';\nimport { CheckinStateService } from './checkin-state.service';\n\n@Component({\n    selector: 'checkin-photo',\n    template: `\n        <div\n            class=\"bg-base-100 rounded shadow overflow-hidden relative flex flex-col items-center p-4\"\n            *ngIf=\"!loading; else load_state\"\n        >\n            <h3 class=\"text-xl mb-4\">Take a photo to continue</h3>\n            <a-take-photo (photoAccepted)=\"handlePhoto($event)\"></a-take-photo>\n            <a\n                icon\n                matRipple\n                class=\"absolute top-0 right-0\"\n                [routerLink]=\"['/welcome']\"\n            >\n                <app-icon>close</app-icon>\n            </a>\n        </div>\n        <ng-template #load_state>\n            <div class=\"flex flex-col items-center m-auto\">\n                <mat-spinner [diameter]=\"48\"></mat-spinner>\n                <div class=\"my-4 text-lg text-white\">\n                    Printing guest pass...\n                </div>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                position: absolute;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background-color: rgba(0, 0, 0, 0.5);\n            }\n\n            .absolute {\n                position: absolute;\n            }\n        `,\n    ],\n})\nexport class CheckinPhotoComponent {\n    /** Whether guest pass is being loaded */\n    public loading: boolean;\n\n    constructor(\n        private _checkin: CheckinStateService,\n        private _router: Router\n    ) {}\n\n    public async handlePhoto(event: any) {\n        if (!event) {\n            return notifyError('Error saving image, please try again');\n        }\n        this.loading = true;\n        this._checkin.setPhoto(event);\n        await this._checkin.printPass().catch((e) => {\n            this.loading = false;\n            notifyError(e);\n            throw e;\n        });\n        this.loading = false;\n        this._router.navigate(['/checkin', 'results']);\n    }\n}\n","import { COMMA, ENTER, SPACE } from '@angular/cdk/keycodes';\nimport { Component, EventEmitter, Inject, Output } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatChipInputEvent } from '@angular/material/chips';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { DialogEvent, randomInt } from '@placeos/common';\nimport { CateringItem } from './catering-item.class';\n\nexport interface CateringItemModalData {\n    item: CateringItem;\n    categories?: string[];\n}\n\n@Component({\n    selector: 'catering-item-modal',\n    template: `\n        <header>\n            <h3>{{ item.id ? 'Edit' : 'Add' }} Item</h3>\n            <button icon matRipple mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <form\n            class=\"p-4 overflow-auto max-h-[65vh]\"\n            *ngIf=\"form && !loading; else load_state\"\n            [formGroup]=\"form\"\n        >\n            <div class=\"flex items-center space-x-2\">\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.name\">\n                    <label\n                        for=\"title\"\n                        [class.error]=\"\n                            form.controls.name.invalid &&\n                            form.controls.name.touched\n                        \"\n                    >\n                        Name<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"name\"\n                            placeholder=\"Item name\"\n                            formControlName=\"name\"\n                        />\n                        <mat-error>Name is required</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.category\">\n                    <label\n                        for=\"category\"\n                        [class.error]=\"\n                            form.controls.category.invalid &&\n                            form.controls.category.touched\n                        \"\n                    >\n                        Category<span>*</span>:\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"category\"\n                            placeholder=\"Category\"\n                            formControlName=\"category\"\n                            [matAutocomplete]=\"auto\"\n                        />\n                        <mat-error>Category is required</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.tags\">\n                <label\n                    for=\"tags\"\n                    [class.error]=\"\n                        form.controls.tags.invalid && form.controls.tags.touched\n                    \"\n                    i18n=\"@@tagsLabel\"\n                >\n                    Tags:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <mat-chip-grid #chipList aria-label=\"Item Tags\">\n                        <mat-chip-row\n                            *ngFor=\"let item of tag_list\"\n                            (removed)=\"removeTag(item)\"\n                        >\n                            {{ item }}\n                            <button\n                                matChipRemove\n                                [attr.aria-label]=\"'Remove ' + item\"\n                            >\n                                <app-icon>cancel</app-icon>\n                            </button>\n                        </mat-chip-row>\n                    </mat-chip-grid>\n                    <input\n                        name=\"tags\"\n                        placeholder=\"Item tags e.g. Gluten Free, Vegan etc.\"\n                        i18n-placeholder=\"@@zoneTagsPlaceholder\"\n                        [matChipInputFor]=\"chipList\"\n                        [matChipInputSeparatorKeyCodes]=\"separators\"\n                        [matChipInputAddOnBlur]=\"true\"\n                        (matChipInputTokenEnd)=\"addTag($event)\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.description\">\n                <label for=\"description\">Description:</label>\n                <mat-form-field appearance=\"outline\">\n                    <textarea\n                        matInput\n                        name=\"description\"\n                        placeholder=\"Item Description\"\n                        formControlName=\"description\"\n                    ></textarea>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.unit_price\">\n                <label\n                    for=\"title\"\n                    [class.error]=\"\n                        form.controls.unit_price.invalid &&\n                        form.controls.unit_price.touched\n                    \"\n                >\n                    Unit Price<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"unit-price\"\n                        type=\"number\"\n                        placeholder=\"Unit Price\"\n                        formControlName=\"unit_price\"\n                    />\n                    <mat-error>Unit Price is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex items-center\">\n                <label class=\"flex-none w-28 min-w-0\">Accept Points?</label>\n                <mat-checkbox formControlName=\"accept_points\">{{\n                    form.get('accept_points')?.value ? 'No' : 'Yes'\n                }}</mat-checkbox>\n            </div>\n            <div class=\"flex items-center flex-wrap max-w-lg\" list>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Gluten Free')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Gluten Free' })\n                            : removeTag('Gluten Free')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Gluten Free (GF)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Vegan')\"\n                    (ngModelChange)=\"\n                        $event ? addTag({ value: 'Vegan' }) : removeTag('Vegan')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Vegan (VG)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Vegetarian')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Vegetarian' })\n                            : removeTag('Vegetarian')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Vegetarian (V)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Contains Dairy')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Contains Dairy' })\n                            : removeTag('Contains Dairy')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Contains Dairy (D)\n                </mat-checkbox>\n                <mat-checkbox\n                    [ngModel]=\"hasTag('Contains Nuts')\"\n                    (ngModelChange)=\"\n                        $event\n                            ? addTag({ value: 'Contains Nuts' })\n                            : removeTag('Contains Nuts')\n                    \"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    Contains Nuts (N)\n                </mat-checkbox>\n            </div>\n            <div class=\"flex items-center\">\n                <label class=\"flex-1 w-24 min-w-0\">Discount Cap</label>\n                <a-counter\n                    class=\"border border-base-200 rounded\"\n                    formControlName=\"discount_cap\"\n                    [min]=\"0\"\n                    [max]=\"100\"\n                    [step]=\"5\"\n                    [render_fn]=\"renderPercent\"\n                ></a-counter>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.images\">\n                <label for=\"images\" i18n=\"@@imagesLabel\">Images:</label>\n                <image-list-field\n                    name=\"images\"\n                    formControlName=\"images\"\n                ></image-list-field>\n            </div>\n        </form>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex p-2 items-center justify-center border-t border-solid border-base-200\"\n        >\n            <button\n                btn\n                matRipple\n                [disabled]=\"!form.dirty\"\n                (click)=\"saveChanges()\"\n            >\n                Save\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col items-center p-8 space-y-2 w-64\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving catering item...</p>\n            </div>\n        </ng-template>\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let option of categories\" [value]=\"option\">\n                {{ option }}\n            </mat-option>\n        </mat-autocomplete>\n    `,\n    styles: [\n        `\n            [list] mat-checkbox {\n                margin: 0.5rem;\n            }\n        `,\n    ],\n})\nexport class CateringItemModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for item */\n    public form = new FormGroup({\n        name: new FormControl(this.item.name || '', [Validators.required]),\n        description: new FormControl(this.item.description || ''),\n        category: new FormControl(this.item.category || '', [\n            Validators.required,\n        ]),\n        unit_price: new FormControl(this.item.unit_price, [\n            Validators.required,\n        ]),\n        tags: new FormControl(this.item.tags || []),\n        accept_points: new FormControl(this.item.accept_points || false),\n        discount_cap: new FormControl(this.item.discount_cap || 0),\n        images: new FormControl(this.item.images || []),\n    });\n    /** Whether changes are being saved */\n    public loading = false;\n    /** List of separator characters for tags */\n    public readonly separators: number[] = [ENTER, COMMA, SPACE];\n\n    /** Current item details */\n    public get item(): CateringItem {\n        return this._data.item || new CateringItem();\n    }\n\n    /** List of available categories */\n    public get categories(): string[] {\n        return this._data.categories || [];\n    }\n\n    public get tag_list(): string[] {\n        return this.form.controls.tags.value;\n    }\n\n    public renderPercent(value: number = 0) {\n        return `${value}%`;\n    }\n\n    public hasTag(tag: string) {\n        return this.tag_list.includes(tag);\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringItemModalData\n    ) {}\n\n    /**\n     * Add a tag to the list of tags for the item\n     * @param event Input event\n     */\n    public addTag(event: MatChipInputEvent): void {\n        if (!this.form || !this.form.controls.tags) return;\n        this.form.controls.tags.markAsDirty();\n        const input = event.input;\n        const value = event.value;\n        const tag_list = this.tag_list;\n        if ((value || '').trim()) {\n            tag_list.push(value);\n            this.form.controls.tags.setValue(tag_list);\n        }\n\n        // Reset the input value\n        if (input) input.value = '';\n    }\n\n    /**\n     * Remove tag from the list\n     * @param existing_tag Tag to remove\n     */\n    public removeTag(existing_tag: string): void {\n        if (!this.form || !this.form.controls.tags) return;\n        const tag_list = this.tag_list;\n        this.form.controls.tags.markAsDirty();\n        const index = tag_list.indexOf(existing_tag);\n\n        if (index >= 0) {\n            tag_list.splice(index, 1);\n            this.form.controls.tags.setValue(tag_list);\n        }\n    }\n\n    public saveChanges() {\n        this.loading = true;\n        this.event.emit({\n            reason: 'done',\n            metadata: {\n                item: new CateringItem({\n                    ...this.item,\n                    id: this.item.id || `item-${randomInt(9999_9999)}`,\n                    ...this.form.value,\n                }),\n            },\n        });\n    }\n}\n","import { Component, EventEmitter, Inject, OnInit, Output } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { DialogEvent } from 'libs/common/src/lib/types';\nimport { randomInt } from 'libs/common/src/lib/general';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringOption } from './catering.interfaces';\n\nexport interface CateringItemOptionModalData {\n    parent: CateringItem;\n    option: CateringOption;\n    types: string[];\n}\n\n@Component({\n    selector: 'catering-option-modal',\n    template: `\n        <header>\n            <h3>{{ option.id ? 'Edit' : 'Add' }} Item Option</h3>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <form\n            class=\"p-4 overflow-auto max-h-[65vh]\"\n            *ngIf=\"form && !loading; else load_state\"\n            [formGroup]=\"form\"\n        >\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.name\">\n                <label\n                    for=\"title\"\n                    [class.error]=\"\n                        form.controls.name.invalid && form.controls.name.touched\n                    \"\n                >\n                    Name<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"name\"\n                        placeholder=\"Item name\"\n                        formControlName=\"name\"\n                    />\n                    <mat-error>Name is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.group\">\n                <label\n                    for=\"group\"\n                    [class.error]=\"\n                        form.controls.group.invalid &&\n                        form.controls.group.touched\n                    \"\n                >\n                    Type<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"group\"\n                        placeholder=\"Type of option e.g. Number of sugars\"\n                        formControlName=\"group\"\n                        [matAutocomplete]=\"auto\"\n                    />\n                    <mat-error>Type is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.unit_price\">\n                <label for=\"title\">Unit Price:</label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"unit-price\"\n                        type=\"number\"\n                        placeholder=\"Unit Price\"\n                        formControlName=\"unit_price\"\n                    />\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col\" *ngIf=\"form.controls.multiple\">\n                <mat-checkbox name=\"multiple\" formControlName=\"multiple\">\n                    Can select multiple of type\n                </mat-checkbox>\n            </div>\n        </form>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex p-2 items-center justify-center border-t border-solid border-base-200\"\n        >\n            <button\n                btn\n                matRipple\n                [disabled]=\"!form.dirty\"\n                (click)=\"saveChanges()\"\n            >\n                Save\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <div loading class=\"flex flex-col items-center p-8 space-y-2 w-64\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving catering item option...</p>\n            </div>\n        </ng-template>\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <mat-option *ngFor=\"let option of types\" [value]=\"option\">\n                {{ option }}\n            </mat-option>\n        </mat-autocomplete>\n    `,\n    styles: [``],\n})\nexport class CateringItemOptionModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for item */\n    public form = new FormGroup({\n        name: new FormControl(this.option.name || '', [Validators.required]),\n        group: new FormControl(this.option.group || '', [Validators.required]),\n        unit_price: new FormControl(this.option.unit_price),\n        multiple: new FormControl(!!this.option.multiple, []),\n    });\n    /** Whether changes are being saved */\n    public loading = false;\n\n    /** Current item details */\n    public get option(): CateringOption {\n        return this._data.option;\n    }\n\n    /** List of available categories */\n    public get types(): string[] {\n        return this._data.types || [];\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringItemOptionModalData\n    ) {}\n\n    public saveChanges() {\n        this.loading = true;\n        const new_option = {\n            ...this.option,\n            id: this.option.id || `option-${randomInt(9999_9999)}`,\n            ...this.form.value,\n        } as CateringOption;\n        this.event.emit({\n            reason: 'done',\n            metadata: {\n                item: new CateringItem({\n                    ...this._data.parent,\n                    options: this._data.parent.options\n                        .filter((i) => i.id !== new_option.id)\n                        .concat([new_option]),\n                }),\n            },\n        });\n    }\n}\n","import { isAfter, isBefore, setHours, subHours } from 'date-fns';\n\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\nimport { CateringItem } from './catering-item.class';\nimport { Observable, of } from 'rxjs';\nimport { showMetadata } from '@placeos/ts-client';\nimport { catchError, map } from 'rxjs/operators';\nimport { stringToMinutes } from '@placeos/common';\nimport { AttachedResourceRuleset } from '@placeos/components';\n\nconst RULE_REQUESTS: Record<string, Observable<AttachedResourceRuleset[]>> = {};\n\nexport function getCateringRulesForZone(\n    zone_id: string,\n    fresh: boolean = false\n) {\n    if (!zone_id) return of([] as AttachedResourceRuleset[]);\n    if (!RULE_REQUESTS[zone_id] || fresh)\n        RULE_REQUESTS[zone_id] = showMetadata(zone_id, 'catering_config').pipe(\n            map(\n                (_) =>\n                    (_.details instanceof Array\n                        ? _.details\n                        : []) as AttachedResourceRuleset[]\n            ),\n            catchError((e) => of([] as AttachedResourceRuleset[]))\n        );\n    return RULE_REQUESTS[zone_id];\n}\n\nexport function cateringItemAvailable(\n    item: CateringItem,\n    rules: AttachedResourceRuleset[],\n    event: CalendarEvent\n) {\n    let is_available = true;\n    for (const rule of rules) {\n        if (\n            item.category === rule.name ||\n            item.tags.includes(rule.name) ||\n            event.resources.find((_) => _.zones.includes(rule.name)) ||\n            event.space?.zones.includes(rule.name) ||\n            rule.name === '*'\n        ) {\n            let matches = 0;\n            for (const condition of rule.rules) {\n                const date = new Date(event.date);\n                switch (condition[0]) {\n                    case 'is_before':\n                        matches += isBefore(\n                            Date.now(),\n                            subHours(date, condition[1])\n                        )\n                            ? 1\n                            : 0;\n                        break;\n                    case 'within_hours':\n                        matches += isAfter(\n                            Date.now(),\n                            subHours(date, condition[1])\n                        )\n                            ? 1\n                            : 0;\n                        break;\n                    case 'after_hour':\n                        matches += isAfter(date, setHours(date, condition[1]))\n                            ? 1\n                            : 0;\n                        break;\n                    case 'before_hour':\n                        matches += isBefore(date, setHours(date, condition[1]))\n                            ? 1\n                            : 0;\n                        break;\n                    case 'min_length':\n                        matches +=\n                            event.duration >= stringToMinutes(condition[1])\n                                ? 1\n                                : 0;\n                        break;\n                    case 'max_length':\n                        matches +=\n                            event.duration <= stringToMinutes(condition[1])\n                                ? 1\n                                : 0;\n                        break;\n                    case 'visitor_type':\n                        matches +=\n                            event.ext('visitor_type') === condition[1] ? 1 : 0;\n                        break;\n                    default:\n                        matches += 1;\n                }\n            }\n            is_available = matches >= rule.rules.length;\n        }\n    }\n    return is_available;\n}\n","import * as i0 from '@angular/core';\nimport { InjectionToken, Directive, Inject, Optional, booleanAttribute, TemplateRef, Component, ChangeDetectionStrategy, ViewEncapsulation, Input, ContentChild, ViewChild, inject, ElementRef, EventEmitter, Injector, afterNextRender, ANIMATION_MODULE_TYPE, numberAttribute, Output, ContentChildren, forwardRef, QueryList, Attribute, NgModule } from '@angular/core';\nimport { MatRipple, MAT_RIPPLE_GLOBAL_OPTIONS, MatCommonModule } from '@angular/material/core';\nimport { CdkPortal, TemplatePortal, CdkPortalOutlet } from '@angular/cdk/portal';\nimport { Subject, fromEvent, of, merge, EMPTY, Observable, timer, Subscription, BehaviorSubject } from 'rxjs';\nimport * as i1 from '@angular/cdk/scrolling';\nimport { CdkScrollable } from '@angular/cdk/scrolling';\nimport * as i3 from '@angular/cdk/platform';\nimport { normalizePassiveListenerOptions, Platform } from '@angular/cdk/platform';\nimport * as i2 from '@angular/cdk/bidi';\nimport * as i4 from '@angular/cdk/a11y';\nimport { FocusKeyManager, CdkMonitorFocus } from '@angular/cdk/a11y';\nimport { hasModifierKey, SPACE, ENTER } from '@angular/cdk/keycodes';\nimport { SharedResizeObserver } from '@angular/cdk/observers/private';\nimport { takeUntil, debounceTime, startWith, switchMap, skip, filter, distinctUntilChanged } from 'rxjs/operators';\nimport { CdkObserveContent } from '@angular/cdk/observers';\nimport { DOCUMENT } from '@angular/common';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\n\n/**\n * Injection token that can be used to reference instances of `MatTabContent`. It serves as\n * alternative token to the actual `MatTabContent` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst MAT_TAB_CONTENT = new InjectionToken('MatTabContent');\n/** Decorates the `ng-template` tags and reads out the template from it. */\nclass MatTabContent {\n    constructor(/** Content for the tab. */ template) {\n        this.template = template;\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabContent, deps: [{ token: i0.TemplateRef }], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"18.2.0-next.2\", type: MatTabContent, isStandalone: true, selector: \"[matTabContent]\", providers: [{ provide: MAT_TAB_CONTENT, useExisting: MatTabContent }], ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabContent, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[matTabContent]',\n                    providers: [{ provide: MAT_TAB_CONTENT, useExisting: MatTabContent }],\n                    standalone: true,\n                }]\n        }], ctorParameters: () => [{ type: i0.TemplateRef }] });\n\n/**\n * Injection token that can be used to reference instances of `MatTabLabel`. It serves as\n * alternative token to the actual `MatTabLabel` class which could cause unnecessary\n * retention of the class and its directive metadata.\n */\nconst MAT_TAB_LABEL = new InjectionToken('MatTabLabel');\n/**\n * Used to provide a tab label to a tab without causing a circular dependency.\n * @docs-private\n */\nconst MAT_TAB = new InjectionToken('MAT_TAB');\n/** Used to flag tab labels for use with the portal directive */\nclass MatTabLabel extends CdkPortal {\n    constructor(templateRef, viewContainerRef, _closestTab) {\n        super(templateRef, viewContainerRef);\n        this._closestTab = _closestTab;\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabLabel, deps: [{ token: i0.TemplateRef }, { token: i0.ViewContainerRef }, { token: MAT_TAB, optional: true }], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"18.2.0-next.2\", type: MatTabLabel, isStandalone: true, selector: \"[mat-tab-label], [matTabLabel]\", providers: [{ provide: MAT_TAB_LABEL, useExisting: MatTabLabel }], usesInheritance: true, ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabLabel, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[mat-tab-label], [matTabLabel]',\n                    providers: [{ provide: MAT_TAB_LABEL, useExisting: MatTabLabel }],\n                    standalone: true,\n                }]\n        }], ctorParameters: () => [{ type: i0.TemplateRef }, { type: i0.ViewContainerRef }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [MAT_TAB]\n                }, {\n                    type: Optional\n                }] }] });\n\n/**\n * Used to provide a tab group to a tab without causing a circular dependency.\n * @docs-private\n */\nconst MAT_TAB_GROUP = new InjectionToken('MAT_TAB_GROUP');\nclass MatTab {\n    /** Content for the tab label given by `<ng-template mat-tab-label>`. */\n    get templateLabel() {\n        return this._templateLabel;\n    }\n    set templateLabel(value) {\n        this._setTemplateLabelInput(value);\n    }\n    /** @docs-private */\n    get content() {\n        return this._contentPortal;\n    }\n    constructor(_viewContainerRef, _closestTabGroup) {\n        this._viewContainerRef = _viewContainerRef;\n        this._closestTabGroup = _closestTabGroup;\n        /** whether the tab is disabled. */\n        this.disabled = false;\n        /**\n         * Template provided in the tab content that will be used if present, used to enable lazy-loading\n         */\n        this._explicitContent = undefined;\n        /** Plain text label for the tab, used when there is no template label. */\n        this.textLabel = '';\n        /** Portal that will be the hosted content of the tab */\n        this._contentPortal = null;\n        /** Emits whenever the internal state of the tab changes. */\n        this._stateChanges = new Subject();\n        /**\n         * The relatively indexed position where 0 represents the center, negative is left, and positive\n         * represents the right.\n         */\n        this.position = null;\n        /**\n         * The initial relatively index origin of the tab if it was created and selected after there\n         * was already a selected tab. Provides context of what position the tab should originate from.\n         */\n        this.origin = null;\n        /**\n         * Whether the tab is currently active.\n         */\n        this.isActive = false;\n    }\n    ngOnChanges(changes) {\n        if (changes.hasOwnProperty('textLabel') || changes.hasOwnProperty('disabled')) {\n            this._stateChanges.next();\n        }\n    }\n    ngOnDestroy() {\n        this._stateChanges.complete();\n    }\n    ngOnInit() {\n        this._contentPortal = new TemplatePortal(this._explicitContent || this._implicitContent, this._viewContainerRef);\n    }\n    /**\n     * This has been extracted to a util because of TS 4 and VE.\n     * View Engine doesn't support property rename inheritance.\n     * TS 4.0 doesn't allow properties to override accessors or vice-versa.\n     * @docs-private\n     */\n    _setTemplateLabelInput(value) {\n        // Only update the label if the query managed to find one. This works around an issue where a\n        // user may have manually set `templateLabel` during creation mode, which would then get\n        // clobbered by `undefined` when the query resolves. Also note that we check that the closest\n        // tab matches the current one so that we don't pick up labels from nested tabs.\n        if (value && value._closestTab === this) {\n            this._templateLabel = value;\n        }\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTab, deps: [{ token: i0.ViewContainerRef }, { token: MAT_TAB_GROUP, optional: true }], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"16.1.0\", version: \"18.2.0-next.2\", type: MatTab, isStandalone: true, selector: \"mat-tab\", inputs: { disabled: [\"disabled\", \"disabled\", booleanAttribute], textLabel: [\"label\", \"textLabel\"], ariaLabel: [\"aria-label\", \"ariaLabel\"], ariaLabelledby: [\"aria-labelledby\", \"ariaLabelledby\"], labelClass: \"labelClass\", bodyClass: \"bodyClass\" }, host: { attributes: { \"hidden\": \"\" } }, providers: [{ provide: MAT_TAB, useExisting: MatTab }], queries: [{ propertyName: \"templateLabel\", first: true, predicate: MatTabLabel, descendants: true }, { propertyName: \"_explicitContent\", first: true, predicate: MatTabContent, descendants: true, read: TemplateRef, static: true }], viewQueries: [{ propertyName: \"_implicitContent\", first: true, predicate: TemplateRef, descendants: true, static: true }], exportAs: [\"matTab\"], usesOnChanges: true, ngImport: i0, template: \"<!-- Create a template for the content of the <mat-tab> so that we can grab a reference to this\\n    TemplateRef and use it in a Portal to render the tab content in the appropriate place in the\\n    tab-group. -->\\n<ng-template><ng-content></ng-content></ng-template>\\n\", changeDetection: i0.ChangeDetectionStrategy.Default, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTab, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-tab', changeDetection: ChangeDetectionStrategy.Default, encapsulation: ViewEncapsulation.None, exportAs: 'matTab', providers: [{ provide: MAT_TAB, useExisting: MatTab }], standalone: true, host: {\n                        // This element will be rendered on the server in order to support hydration.\n                        // Hide it so it doesn't cause a layout shift when it's removed on the client.\n                        'hidden': '',\n                    }, template: \"<!-- Create a template for the content of the <mat-tab> so that we can grab a reference to this\\n    TemplateRef and use it in a Portal to render the tab content in the appropriate place in the\\n    tab-group. -->\\n<ng-template><ng-content></ng-content></ng-template>\\n\" }]\n        }], ctorParameters: () => [{ type: i0.ViewContainerRef }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [MAT_TAB_GROUP]\n                }, {\n                    type: Optional\n                }] }], propDecorators: { disabled: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }], templateLabel: [{\n                type: ContentChild,\n                args: [MatTabLabel]\n            }], _explicitContent: [{\n                type: ContentChild,\n                args: [MatTabContent, { read: TemplateRef, static: true }]\n            }], _implicitContent: [{\n                type: ViewChild,\n                args: [TemplateRef, { static: true }]\n            }], textLabel: [{\n                type: Input,\n                args: ['label']\n            }], ariaLabel: [{\n                type: Input,\n                args: ['aria-label']\n            }], ariaLabelledby: [{\n                type: Input,\n                args: ['aria-labelledby']\n            }], labelClass: [{\n                type: Input\n            }], bodyClass: [{\n                type: Input\n            }] } });\n\n/** Class that is applied when a tab indicator is active. */\nconst ACTIVE_CLASS = 'mdc-tab-indicator--active';\n/** Class that is applied when the tab indicator should not transition. */\nconst NO_TRANSITION_CLASS = 'mdc-tab-indicator--no-transition';\n/**\n * Abstraction around the MDC tab indicator that acts as the tab header's ink bar.\n * @docs-private\n */\nclass MatInkBar {\n    constructor(_items) {\n        this._items = _items;\n    }\n    /** Hides the ink bar. */\n    hide() {\n        this._items.forEach(item => item.deactivateInkBar());\n    }\n    /** Aligns the ink bar to a DOM node. */\n    alignToElement(element) {\n        const correspondingItem = this._items.find(item => item.elementRef.nativeElement === element);\n        const currentItem = this._currentItem;\n        if (correspondingItem === currentItem) {\n            return;\n        }\n        currentItem?.deactivateInkBar();\n        if (correspondingItem) {\n            const domRect = currentItem?.elementRef.nativeElement.getBoundingClientRect?.();\n            // The ink bar won't animate unless we give it the `DOMRect` of the previous item.\n            correspondingItem.activateInkBar(domRect);\n            this._currentItem = correspondingItem;\n        }\n    }\n}\nclass InkBarItem {\n    constructor() {\n        this._elementRef = inject(ElementRef);\n        this._fitToContent = false;\n    }\n    /** Whether the ink bar should fit to the entire tab or just its content. */\n    get fitInkBarToContent() {\n        return this._fitToContent;\n    }\n    set fitInkBarToContent(newValue) {\n        if (this._fitToContent !== newValue) {\n            this._fitToContent = newValue;\n            if (this._inkBarElement) {\n                this._appendInkBarElement();\n            }\n        }\n    }\n    /** Aligns the ink bar to the current item. */\n    activateInkBar(previousIndicatorClientRect) {\n        const element = this._elementRef.nativeElement;\n        // Early exit if no indicator is present to handle cases where an indicator\n        // may be activated without a prior indicator state\n        if (!previousIndicatorClientRect ||\n            !element.getBoundingClientRect ||\n            !this._inkBarContentElement) {\n            element.classList.add(ACTIVE_CLASS);\n            return;\n        }\n        // This animation uses the FLIP approach. You can read more about it at the link below:\n        // https://aerotwist.com/blog/flip-your-animations/\n        // Calculate the dimensions based on the dimensions of the previous indicator\n        const currentClientRect = element.getBoundingClientRect();\n        const widthDelta = previousIndicatorClientRect.width / currentClientRect.width;\n        const xPosition = previousIndicatorClientRect.left - currentClientRect.left;\n        element.classList.add(NO_TRANSITION_CLASS);\n        this._inkBarContentElement.style.setProperty('transform', `translateX(${xPosition}px) scaleX(${widthDelta})`);\n        // Force repaint before updating classes and transform to ensure the transform properly takes effect\n        element.getBoundingClientRect();\n        element.classList.remove(NO_TRANSITION_CLASS);\n        element.classList.add(ACTIVE_CLASS);\n        this._inkBarContentElement.style.setProperty('transform', '');\n    }\n    /** Removes the ink bar from the current item. */\n    deactivateInkBar() {\n        this._elementRef.nativeElement.classList.remove(ACTIVE_CLASS);\n    }\n    /** Initializes the foundation. */\n    ngOnInit() {\n        this._createInkBarElement();\n    }\n    /** Destroys the foundation. */\n    ngOnDestroy() {\n        this._inkBarElement?.remove();\n        this._inkBarElement = this._inkBarContentElement = null;\n    }\n    /** Creates and appends the ink bar element. */\n    _createInkBarElement() {\n        const documentNode = this._elementRef.nativeElement.ownerDocument || document;\n        const inkBarElement = (this._inkBarElement = documentNode.createElement('span'));\n        const inkBarContentElement = (this._inkBarContentElement = documentNode.createElement('span'));\n        inkBarElement.className = 'mdc-tab-indicator';\n        inkBarContentElement.className =\n            'mdc-tab-indicator__content mdc-tab-indicator__content--underline';\n        inkBarElement.appendChild(this._inkBarContentElement);\n        this._appendInkBarElement();\n    }\n    /**\n     * Appends the ink bar to the tab host element or content, depending on whether\n     * the ink bar should fit to content.\n     */\n    _appendInkBarElement() {\n        if (!this._inkBarElement && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n            throw Error('Ink bar element has not been created and cannot be appended');\n        }\n        const parentElement = this._fitToContent\n            ? this._elementRef.nativeElement.querySelector('.mdc-tab__content')\n            : this._elementRef.nativeElement;\n        if (!parentElement && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n            throw Error('Missing element to host the ink bar');\n        }\n        parentElement.appendChild(this._inkBarElement);\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: InkBarItem, deps: [], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"16.1.0\", version: \"18.2.0-next.2\", type: InkBarItem, inputs: { fitInkBarToContent: [\"fitInkBarToContent\", \"fitInkBarToContent\", booleanAttribute] }, ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: InkBarItem, decorators: [{\n            type: Directive\n        }], propDecorators: { fitInkBarToContent: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }] } });\n/**\n * The default positioner function for the MatInkBar.\n * @docs-private\n */\nfunction _MAT_INK_BAR_POSITIONER_FACTORY() {\n    const method = (element) => ({\n        left: element ? (element.offsetLeft || 0) + 'px' : '0',\n        width: element ? (element.offsetWidth || 0) + 'px' : '0',\n    });\n    return method;\n}\n/** Injection token for the MatInkBar's Positioner. */\nconst _MAT_INK_BAR_POSITIONER = new InjectionToken('MatInkBarPositioner', {\n    providedIn: 'root',\n    factory: _MAT_INK_BAR_POSITIONER_FACTORY,\n});\n\n/**\n * Used in the `mat-tab-group` view to display tab labels.\n * @docs-private\n */\nclass MatTabLabelWrapper extends InkBarItem {\n    constructor(elementRef) {\n        super();\n        this.elementRef = elementRef;\n        /** Whether the tab is disabled. */\n        this.disabled = false;\n    }\n    /** Sets focus on the wrapper element */\n    focus() {\n        this.elementRef.nativeElement.focus();\n    }\n    getOffsetLeft() {\n        return this.elementRef.nativeElement.offsetLeft;\n    }\n    getOffsetWidth() {\n        return this.elementRef.nativeElement.offsetWidth;\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabLabelWrapper, deps: [{ token: i0.ElementRef }], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"16.1.0\", version: \"18.2.0-next.2\", type: MatTabLabelWrapper, isStandalone: true, selector: \"[matTabLabelWrapper]\", inputs: { disabled: [\"disabled\", \"disabled\", booleanAttribute] }, host: { properties: { \"class.mat-mdc-tab-disabled\": \"disabled\", \"attr.aria-disabled\": \"!!disabled\" } }, usesInheritance: true, ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabLabelWrapper, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[matTabLabelWrapper]',\n                    host: {\n                        '[class.mat-mdc-tab-disabled]': 'disabled',\n                        '[attr.aria-disabled]': '!!disabled',\n                    },\n                    standalone: true,\n                }]\n        }], ctorParameters: () => [{ type: i0.ElementRef }], propDecorators: { disabled: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }] } });\n\n/** Config used to bind passive event listeners */\nconst passiveEventListenerOptions = normalizePassiveListenerOptions({\n    passive: true,\n});\n/**\n * Amount of milliseconds to wait before starting to scroll the header automatically.\n * Set a little conservatively in order to handle fake events dispatched on touch devices.\n */\nconst HEADER_SCROLL_DELAY = 650;\n/**\n * Interval in milliseconds at which to scroll the header\n * while the user is holding their pointer.\n */\nconst HEADER_SCROLL_INTERVAL = 100;\n/**\n * Base class for a tab header that supported pagination.\n * @docs-private\n */\nclass MatPaginatedTabHeader {\n    /** The index of the active tab. */\n    get selectedIndex() {\n        return this._selectedIndex;\n    }\n    set selectedIndex(v) {\n        const value = isNaN(v) ? 0 : v;\n        if (this._selectedIndex != value) {\n            this._selectedIndexChanged = true;\n            this._selectedIndex = value;\n            if (this._keyManager) {\n                this._keyManager.updateActiveItem(value);\n            }\n        }\n    }\n    constructor(_elementRef, _changeDetectorRef, _viewportRuler, _dir, _ngZone, _platform, _animationMode) {\n        this._elementRef = _elementRef;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._viewportRuler = _viewportRuler;\n        this._dir = _dir;\n        this._ngZone = _ngZone;\n        this._platform = _platform;\n        this._animationMode = _animationMode;\n        /** The distance in pixels that the tab labels should be translated to the left. */\n        this._scrollDistance = 0;\n        /** Whether the header should scroll to the selected index after the view has been checked. */\n        this._selectedIndexChanged = false;\n        /** Emits when the component is destroyed. */\n        this._destroyed = new Subject();\n        /** Whether the controls for pagination should be displayed */\n        this._showPaginationControls = false;\n        /** Whether the tab list can be scrolled more towards the end of the tab label list. */\n        this._disableScrollAfter = true;\n        /** Whether the tab list can be scrolled more towards the beginning of the tab label list. */\n        this._disableScrollBefore = true;\n        /** Stream that will stop the automated scrolling. */\n        this._stopScrolling = new Subject();\n        /**\n         * Whether pagination should be disabled. This can be used to avoid unnecessary\n         * layout recalculations if it's known that pagination won't be required.\n         */\n        this.disablePagination = false;\n        this._selectedIndex = 0;\n        /** Event emitted when the option is selected. */\n        this.selectFocusedIndex = new EventEmitter();\n        /** Event emitted when a label is focused. */\n        this.indexFocused = new EventEmitter();\n        this._sharedResizeObserver = inject(SharedResizeObserver);\n        this._injector = inject(Injector);\n        // Bind the `mouseleave` event on the outside since it doesn't change anything in the view.\n        _ngZone.runOutsideAngular(() => {\n            fromEvent(_elementRef.nativeElement, 'mouseleave')\n                .pipe(takeUntil(this._destroyed))\n                .subscribe(() => {\n                this._stopInterval();\n            });\n        });\n    }\n    ngAfterViewInit() {\n        // We need to handle these events manually, because we want to bind passive event listeners.\n        fromEvent(this._previousPaginator.nativeElement, 'touchstart', passiveEventListenerOptions)\n            .pipe(takeUntil(this._destroyed))\n            .subscribe(() => {\n            this._handlePaginatorPress('before');\n        });\n        fromEvent(this._nextPaginator.nativeElement, 'touchstart', passiveEventListenerOptions)\n            .pipe(takeUntil(this._destroyed))\n            .subscribe(() => {\n            this._handlePaginatorPress('after');\n        });\n    }\n    ngAfterContentInit() {\n        const dirChange = this._dir ? this._dir.change : of('ltr');\n        // We need to debounce resize events because the alignment logic is expensive.\n        // If someone animates the width of tabs, we don't want to realign on every animation frame.\n        // Once we haven't seen any more resize events in the last 32ms (~2 animaion frames) we can\n        // re-align.\n        const resize = this._sharedResizeObserver\n            .observe(this._elementRef.nativeElement)\n            .pipe(debounceTime(32), takeUntil(this._destroyed));\n        // Note: We do not actually need to watch these events for proper functioning of the tabs,\n        // the resize events above should capture any viewport resize that we care about. However,\n        // removing this is fairly breaking for screenshot tests, so we're leaving it here for now.\n        const viewportResize = this._viewportRuler.change(150).pipe(takeUntil(this._destroyed));\n        const realign = () => {\n            this.updatePagination();\n            this._alignInkBarToSelectedTab();\n        };\n        this._keyManager = new FocusKeyManager(this._items)\n            .withHorizontalOrientation(this._getLayoutDirection())\n            .withHomeAndEnd()\n            .withWrap()\n            // Allow focus to land on disabled tabs, as per https://w3c.github.io/aria-practices/#kbd_disabled_controls\n            .skipPredicate(() => false);\n        this._keyManager.updateActiveItem(this._selectedIndex);\n        // Note: We do not need to realign after the first render for proper functioning of the tabs\n        // the resize events above should fire when we first start observing the element. However,\n        // removing this is fairly breaking for screenshot tests, so we're leaving it here for now.\n        afterNextRender(realign, { injector: this._injector });\n        // On dir change or resize, realign the ink bar and update the orientation of\n        // the key manager if the direction has changed.\n        merge(dirChange, viewportResize, resize, this._items.changes, this._itemsResized())\n            .pipe(takeUntil(this._destroyed))\n            .subscribe(() => {\n            // We need to defer this to give the browser some time to recalculate\n            // the element dimensions. The call has to be wrapped in `NgZone.run`,\n            // because the viewport change handler runs outside of Angular.\n            this._ngZone.run(() => {\n                Promise.resolve().then(() => {\n                    // Clamp the scroll distance, because it can change with the number of tabs.\n                    this._scrollDistance = Math.max(0, Math.min(this._getMaxScrollDistance(), this._scrollDistance));\n                    realign();\n                });\n            });\n            this._keyManager.withHorizontalOrientation(this._getLayoutDirection());\n        });\n        // If there is a change in the focus key manager we need to emit the `indexFocused`\n        // event in order to provide a public event that notifies about focus changes. Also we realign\n        // the tabs container by scrolling the new focused tab into the visible section.\n        this._keyManager.change.subscribe(newFocusIndex => {\n            this.indexFocused.emit(newFocusIndex);\n            this._setTabFocus(newFocusIndex);\n        });\n    }\n    /** Sends any changes that could affect the layout of the items. */\n    _itemsResized() {\n        if (typeof ResizeObserver !== 'function') {\n            return EMPTY;\n        }\n        return this._items.changes.pipe(startWith(this._items), switchMap((tabItems) => new Observable((observer) => this._ngZone.runOutsideAngular(() => {\n            const resizeObserver = new ResizeObserver(entries => observer.next(entries));\n            tabItems.forEach(item => resizeObserver.observe(item.elementRef.nativeElement));\n            return () => {\n                resizeObserver.disconnect();\n            };\n        }))), \n        // Skip the first emit since the resize observer emits when an item\n        // is observed for new items when the tab is already inserted\n        skip(1), \n        // Skip emissions where all the elements are invisible since we don't want\n        // the header to try and re-render with invalid measurements. See #25574.\n        filter(entries => entries.some(e => e.contentRect.width > 0 && e.contentRect.height > 0)));\n    }\n    ngAfterContentChecked() {\n        // If the number of tab labels have changed, check if scrolling should be enabled\n        if (this._tabLabelCount != this._items.length) {\n            this.updatePagination();\n            this._tabLabelCount = this._items.length;\n            this._changeDetectorRef.markForCheck();\n        }\n        // If the selected index has changed, scroll to the label and check if the scrolling controls\n        // should be disabled.\n        if (this._selectedIndexChanged) {\n            this._scrollToLabel(this._selectedIndex);\n            this._checkScrollingControls();\n            this._alignInkBarToSelectedTab();\n            this._selectedIndexChanged = false;\n            this._changeDetectorRef.markForCheck();\n        }\n        // If the scroll distance has been changed (tab selected, focused, scroll controls activated),\n        // then translate the header to reflect this.\n        if (this._scrollDistanceChanged) {\n            this._updateTabScrollPosition();\n            this._scrollDistanceChanged = false;\n            this._changeDetectorRef.markForCheck();\n        }\n    }\n    ngOnDestroy() {\n        this._keyManager?.destroy();\n        this._destroyed.next();\n        this._destroyed.complete();\n        this._stopScrolling.complete();\n    }\n    /** Handles keyboard events on the header. */\n    _handleKeydown(event) {\n        // We don't handle any key bindings with a modifier key.\n        if (hasModifierKey(event)) {\n            return;\n        }\n        switch (event.keyCode) {\n            case ENTER:\n            case SPACE:\n                if (this.focusIndex !== this.selectedIndex) {\n                    const item = this._items.get(this.focusIndex);\n                    if (item && !item.disabled) {\n                        this.selectFocusedIndex.emit(this.focusIndex);\n                        this._itemSelected(event);\n                    }\n                }\n                break;\n            default:\n                this._keyManager.onKeydown(event);\n        }\n    }\n    /**\n     * Callback for when the MutationObserver detects that the content has changed.\n     */\n    _onContentChanges() {\n        const textContent = this._elementRef.nativeElement.textContent;\n        // We need to diff the text content of the header, because the MutationObserver callback\n        // will fire even if the text content didn't change which is inefficient and is prone\n        // to infinite loops if a poorly constructed expression is passed in (see #14249).\n        if (textContent !== this._currentTextContent) {\n            this._currentTextContent = textContent || '';\n            // The content observer runs outside the `NgZone` by default, which\n            // means that we need to bring the callback back in ourselves.\n            this._ngZone.run(() => {\n                this.updatePagination();\n                this._alignInkBarToSelectedTab();\n                this._changeDetectorRef.markForCheck();\n            });\n        }\n    }\n    /**\n     * Updates the view whether pagination should be enabled or not.\n     *\n     * WARNING: Calling this method can be very costly in terms of performance. It should be called\n     * as infrequently as possible from outside of the Tabs component as it causes a reflow of the\n     * page.\n     */\n    updatePagination() {\n        this._checkPaginationEnabled();\n        this._checkScrollingControls();\n        this._updateTabScrollPosition();\n    }\n    /** Tracks which element has focus; used for keyboard navigation */\n    get focusIndex() {\n        return this._keyManager ? this._keyManager.activeItemIndex : 0;\n    }\n    /** When the focus index is set, we must manually send focus to the correct label */\n    set focusIndex(value) {\n        if (!this._isValidIndex(value) || this.focusIndex === value || !this._keyManager) {\n            return;\n        }\n        this._keyManager.setActiveItem(value);\n    }\n    /**\n     * Determines if an index is valid.  If the tabs are not ready yet, we assume that the user is\n     * providing a valid index and return true.\n     */\n    _isValidIndex(index) {\n        return this._items ? !!this._items.toArray()[index] : true;\n    }\n    /**\n     * Sets focus on the HTML element for the label wrapper and scrolls it into the view if\n     * scrolling is enabled.\n     */\n    _setTabFocus(tabIndex) {\n        if (this._showPaginationControls) {\n            this._scrollToLabel(tabIndex);\n        }\n        if (this._items && this._items.length) {\n            this._items.toArray()[tabIndex].focus();\n            // Do not let the browser manage scrolling to focus the element, this will be handled\n            // by using translation. In LTR, the scroll left should be 0. In RTL, the scroll width\n            // should be the full width minus the offset width.\n            const containerEl = this._tabListContainer.nativeElement;\n            const dir = this._getLayoutDirection();\n            if (dir == 'ltr') {\n                containerEl.scrollLeft = 0;\n            }\n            else {\n                containerEl.scrollLeft = containerEl.scrollWidth - containerEl.offsetWidth;\n            }\n        }\n    }\n    /** The layout direction of the containing app. */\n    _getLayoutDirection() {\n        return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n    }\n    /** Performs the CSS transformation on the tab list that will cause the list to scroll. */\n    _updateTabScrollPosition() {\n        if (this.disablePagination) {\n            return;\n        }\n        const scrollDistance = this.scrollDistance;\n        const translateX = this._getLayoutDirection() === 'ltr' ? -scrollDistance : scrollDistance;\n        // Don't use `translate3d` here because we don't want to create a new layer. A new layer\n        // seems to cause flickering and overflow in Internet Explorer. For example, the ink bar\n        // and ripples will exceed the boundaries of the visible tab bar.\n        // See: https://github.com/angular/components/issues/10276\n        // We round the `transform` here, because transforms with sub-pixel precision cause some\n        // browsers to blur the content of the element.\n        this._tabList.nativeElement.style.transform = `translateX(${Math.round(translateX)}px)`;\n        // Setting the `transform` on IE will change the scroll offset of the parent, causing the\n        // position to be thrown off in some cases. We have to reset it ourselves to ensure that\n        // it doesn't get thrown off. Note that we scope it only to IE and Edge, because messing\n        // with the scroll position throws off Chrome 71+ in RTL mode (see #14689).\n        if (this._platform.TRIDENT || this._platform.EDGE) {\n            this._tabListContainer.nativeElement.scrollLeft = 0;\n        }\n    }\n    /** Sets the distance in pixels that the tab header should be transformed in the X-axis. */\n    get scrollDistance() {\n        return this._scrollDistance;\n    }\n    set scrollDistance(value) {\n        this._scrollTo(value);\n    }\n    /**\n     * Moves the tab list in the 'before' or 'after' direction (towards the beginning of the list or\n     * the end of the list, respectively). The distance to scroll is computed to be a third of the\n     * length of the tab list view window.\n     *\n     * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n     * should be called sparingly.\n     */\n    _scrollHeader(direction) {\n        const viewLength = this._tabListContainer.nativeElement.offsetWidth;\n        // Move the scroll distance one-third the length of the tab list's viewport.\n        const scrollAmount = ((direction == 'before' ? -1 : 1) * viewLength) / 3;\n        return this._scrollTo(this._scrollDistance + scrollAmount);\n    }\n    /** Handles click events on the pagination arrows. */\n    _handlePaginatorClick(direction) {\n        this._stopInterval();\n        this._scrollHeader(direction);\n    }\n    /**\n     * Moves the tab list such that the desired tab label (marked by index) is moved into view.\n     *\n     * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n     * should be called sparingly.\n     */\n    _scrollToLabel(labelIndex) {\n        if (this.disablePagination) {\n            return;\n        }\n        const selectedLabel = this._items ? this._items.toArray()[labelIndex] : null;\n        if (!selectedLabel) {\n            return;\n        }\n        // The view length is the visible width of the tab labels.\n        const viewLength = this._tabListContainer.nativeElement.offsetWidth;\n        const { offsetLeft, offsetWidth } = selectedLabel.elementRef.nativeElement;\n        let labelBeforePos, labelAfterPos;\n        if (this._getLayoutDirection() == 'ltr') {\n            labelBeforePos = offsetLeft;\n            labelAfterPos = labelBeforePos + offsetWidth;\n        }\n        else {\n            labelAfterPos = this._tabListInner.nativeElement.offsetWidth - offsetLeft;\n            labelBeforePos = labelAfterPos - offsetWidth;\n        }\n        const beforeVisiblePos = this.scrollDistance;\n        const afterVisiblePos = this.scrollDistance + viewLength;\n        if (labelBeforePos < beforeVisiblePos) {\n            // Scroll header to move label to the before direction\n            this.scrollDistance -= beforeVisiblePos - labelBeforePos;\n        }\n        else if (labelAfterPos > afterVisiblePos) {\n            // Scroll header to move label to the after direction\n            this.scrollDistance += Math.min(labelAfterPos - afterVisiblePos, labelBeforePos - beforeVisiblePos);\n        }\n    }\n    /**\n     * Evaluate whether the pagination controls should be displayed. If the scroll width of the\n     * tab list is wider than the size of the header container, then the pagination controls should\n     * be shown.\n     *\n     * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n     * should be called sparingly.\n     */\n    _checkPaginationEnabled() {\n        if (this.disablePagination) {\n            this._showPaginationControls = false;\n        }\n        else {\n            const scrollWidth = this._tabListInner.nativeElement.scrollWidth;\n            const containerWidth = this._elementRef.nativeElement.offsetWidth;\n            // Usually checking that the scroll width is greater than the container width should be\n            // enough, but on Safari at specific widths the browser ends up rounding up when there's\n            // no pagination and rounding down once the pagination is added. This can throw the component\n            // into an infinite loop where the pagination shows up and disappears constantly. We work\n            // around it by adding a threshold to the calculation. From manual testing the threshold\n            // can be lowered to 2px and still resolve the issue, but we set a higher one to be safe.\n            // This shouldn't cause any content to be clipped, because tabs have a 24px horizontal\n            // padding. See b/316395154 for more information.\n            const isEnabled = scrollWidth - containerWidth >= 5;\n            if (!isEnabled) {\n                this.scrollDistance = 0;\n            }\n            if (isEnabled !== this._showPaginationControls) {\n                this._showPaginationControls = isEnabled;\n                this._changeDetectorRef.markForCheck();\n            }\n        }\n    }\n    /**\n     * Evaluate whether the before and after controls should be enabled or disabled.\n     * If the header is at the beginning of the list (scroll distance is equal to 0) then disable the\n     * before button. If the header is at the end of the list (scroll distance is equal to the\n     * maximum distance we can scroll), then disable the after button.\n     *\n     * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n     * should be called sparingly.\n     */\n    _checkScrollingControls() {\n        if (this.disablePagination) {\n            this._disableScrollAfter = this._disableScrollBefore = true;\n        }\n        else {\n            // Check if the pagination arrows should be activated.\n            this._disableScrollBefore = this.scrollDistance == 0;\n            this._disableScrollAfter = this.scrollDistance == this._getMaxScrollDistance();\n            this._changeDetectorRef.markForCheck();\n        }\n    }\n    /**\n     * Determines what is the maximum length in pixels that can be set for the scroll distance. This\n     * is equal to the difference in width between the tab list container and tab header container.\n     *\n     * This is an expensive call that forces a layout reflow to compute box and scroll metrics and\n     * should be called sparingly.\n     */\n    _getMaxScrollDistance() {\n        const lengthOfTabList = this._tabListInner.nativeElement.scrollWidth;\n        const viewLength = this._tabListContainer.nativeElement.offsetWidth;\n        return lengthOfTabList - viewLength || 0;\n    }\n    /** Tells the ink-bar to align itself to the current label wrapper */\n    _alignInkBarToSelectedTab() {\n        const selectedItem = this._items && this._items.length ? this._items.toArray()[this.selectedIndex] : null;\n        const selectedLabelWrapper = selectedItem ? selectedItem.elementRef.nativeElement : null;\n        if (selectedLabelWrapper) {\n            this._inkBar.alignToElement(selectedLabelWrapper);\n        }\n        else {\n            this._inkBar.hide();\n        }\n    }\n    /** Stops the currently-running paginator interval.  */\n    _stopInterval() {\n        this._stopScrolling.next();\n    }\n    /**\n     * Handles the user pressing down on one of the paginators.\n     * Starts scrolling the header after a certain amount of time.\n     * @param direction In which direction the paginator should be scrolled.\n     */\n    _handlePaginatorPress(direction, mouseEvent) {\n        // Don't start auto scrolling for right mouse button clicks. Note that we shouldn't have to\n        // null check the `button`, but we do it so we don't break tests that use fake events.\n        if (mouseEvent && mouseEvent.button != null && mouseEvent.button !== 0) {\n            return;\n        }\n        // Avoid overlapping timers.\n        this._stopInterval();\n        // Start a timer after the delay and keep firing based on the interval.\n        timer(HEADER_SCROLL_DELAY, HEADER_SCROLL_INTERVAL)\n            // Keep the timer going until something tells it to stop or the component is destroyed.\n            .pipe(takeUntil(merge(this._stopScrolling, this._destroyed)))\n            .subscribe(() => {\n            const { maxScrollDistance, distance } = this._scrollHeader(direction);\n            // Stop the timer if we've reached the start or the end.\n            if (distance === 0 || distance >= maxScrollDistance) {\n                this._stopInterval();\n            }\n        });\n    }\n    /**\n     * Scrolls the header to a given position.\n     * @param position Position to which to scroll.\n     * @returns Information on the current scroll distance and the maximum.\n     */\n    _scrollTo(position) {\n        if (this.disablePagination) {\n            return { maxScrollDistance: 0, distance: 0 };\n        }\n        const maxScrollDistance = this._getMaxScrollDistance();\n        this._scrollDistance = Math.max(0, Math.min(maxScrollDistance, position));\n        // Mark that the scroll distance has changed so that after the view is checked, the CSS\n        // transformation can move the header.\n        this._scrollDistanceChanged = true;\n        this._checkScrollingControls();\n        return { maxScrollDistance, distance: this._scrollDistance };\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatPaginatedTabHeader, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: i1.ViewportRuler }, { token: i2.Directionality, optional: true }, { token: i0.NgZone }, { token: i3.Platform }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"16.1.0\", version: \"18.2.0-next.2\", type: MatPaginatedTabHeader, inputs: { disablePagination: [\"disablePagination\", \"disablePagination\", booleanAttribute], selectedIndex: [\"selectedIndex\", \"selectedIndex\", numberAttribute] }, outputs: { selectFocusedIndex: \"selectFocusedIndex\", indexFocused: \"indexFocused\" }, ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatPaginatedTabHeader, decorators: [{\n            type: Directive\n        }], ctorParameters: () => [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: i1.ViewportRuler }, { type: i2.Directionality, decorators: [{\n                    type: Optional\n                }] }, { type: i0.NgZone }, { type: i3.Platform }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [ANIMATION_MODULE_TYPE]\n                }] }], propDecorators: { disablePagination: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }], selectedIndex: [{\n                type: Input,\n                args: [{ transform: numberAttribute }]\n            }], selectFocusedIndex: [{\n                type: Output\n            }], indexFocused: [{\n                type: Output\n            }] } });\n\n/**\n * The header of the tab group which displays a list of all the tabs in the tab group. Includes\n * an ink bar that follows the currently selected tab. When the tabs list's width exceeds the\n * width of the header container, then arrows will be displayed to allow the user to scroll\n * left and right across the header.\n * @docs-private\n */\nclass MatTabHeader extends MatPaginatedTabHeader {\n    constructor(elementRef, changeDetectorRef, viewportRuler, dir, ngZone, platform, animationMode) {\n        super(elementRef, changeDetectorRef, viewportRuler, dir, ngZone, platform, animationMode);\n        /** Whether the ripple effect is disabled or not. */\n        this.disableRipple = false;\n    }\n    ngAfterContentInit() {\n        this._inkBar = new MatInkBar(this._items);\n        super.ngAfterContentInit();\n    }\n    _itemSelected(event) {\n        event.preventDefault();\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabHeader, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: i1.ViewportRuler }, { token: i2.Directionality, optional: true }, { token: i0.NgZone }, { token: i3.Platform }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"16.1.0\", version: \"18.2.0-next.2\", type: MatTabHeader, isStandalone: true, selector: \"mat-tab-header\", inputs: { ariaLabel: [\"aria-label\", \"ariaLabel\"], ariaLabelledby: [\"aria-labelledby\", \"ariaLabelledby\"], disableRipple: [\"disableRipple\", \"disableRipple\", booleanAttribute] }, host: { properties: { \"class.mat-mdc-tab-header-pagination-controls-enabled\": \"_showPaginationControls\", \"class.mat-mdc-tab-header-rtl\": \"_getLayoutDirection() == 'rtl'\" }, classAttribute: \"mat-mdc-tab-header\" }, queries: [{ propertyName: \"_items\", predicate: MatTabLabelWrapper }], viewQueries: [{ propertyName: \"_tabListContainer\", first: true, predicate: [\"tabListContainer\"], descendants: true, static: true }, { propertyName: \"_tabList\", first: true, predicate: [\"tabList\"], descendants: true, static: true }, { propertyName: \"_tabListInner\", first: true, predicate: [\"tabListInner\"], descendants: true, static: true }, { propertyName: \"_nextPaginator\", first: true, predicate: [\"nextPaginator\"], descendants: true }, { propertyName: \"_previousPaginator\", first: true, predicate: [\"previousPaginator\"], descendants: true }], usesInheritance: true, ngImport: i0, template: \"<!--\\n Note that this intentionally uses a `div` instead of a `button`, because it's not part of\\n the regular tabs flow and is only here to support mouse users. It should also not be focusable.\\n-->\\n<div class=\\\"mat-mdc-tab-header-pagination mat-mdc-tab-header-pagination-before\\\"\\n     #previousPaginator\\n     mat-ripple\\n     [matRippleDisabled]=\\\"_disableScrollBefore || disableRipple\\\"\\n     [class.mat-mdc-tab-header-pagination-disabled]=\\\"_disableScrollBefore\\\"\\n     (click)=\\\"_handlePaginatorClick('before')\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('before', $event)\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-mdc-tab-header-pagination-chevron\\\"></div>\\n</div>\\n\\n<div\\n  class=\\\"mat-mdc-tab-label-container\\\"\\n  #tabListContainer\\n  (keydown)=\\\"_handleKeydown($event)\\\"\\n  [class._mat-animation-noopable]=\\\"_animationMode === 'NoopAnimations'\\\">\\n  <div\\n    #tabList\\n    class=\\\"mat-mdc-tab-list\\\"\\n    role=\\\"tablist\\\"\\n    [attr.aria-label]=\\\"ariaLabel || null\\\"\\n    [attr.aria-labelledby]=\\\"ariaLabelledby || null\\\"\\n    (cdkObserveContent)=\\\"_onContentChanges()\\\">\\n    <div class=\\\"mat-mdc-tab-labels\\\" #tabListInner>\\n      <ng-content></ng-content>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"mat-mdc-tab-header-pagination mat-mdc-tab-header-pagination-after\\\"\\n     #nextPaginator\\n     mat-ripple\\n     [matRippleDisabled]=\\\"_disableScrollAfter || disableRipple\\\"\\n     [class.mat-mdc-tab-header-pagination-disabled]=\\\"_disableScrollAfter\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('after', $event)\\\"\\n     (click)=\\\"_handlePaginatorClick('after')\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-mdc-tab-header-pagination-chevron\\\"></div>\\n</div>\\n\", styles: [\".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}\"], dependencies: [{ kind: \"directive\", type: MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }, { kind: \"directive\", type: CdkObserveContent, selector: \"[cdkObserveContent]\", inputs: [\"cdkObserveContentDisabled\", \"debounce\"], outputs: [\"cdkObserveContent\"], exportAs: [\"cdkObserveContent\"] }], changeDetection: i0.ChangeDetectionStrategy.Default, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabHeader, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-tab-header', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.Default, host: {\n                        'class': 'mat-mdc-tab-header',\n                        '[class.mat-mdc-tab-header-pagination-controls-enabled]': '_showPaginationControls',\n                        '[class.mat-mdc-tab-header-rtl]': \"_getLayoutDirection() == 'rtl'\",\n                    }, standalone: true, imports: [MatRipple, CdkObserveContent], template: \"<!--\\n Note that this intentionally uses a `div` instead of a `button`, because it's not part of\\n the regular tabs flow and is only here to support mouse users. It should also not be focusable.\\n-->\\n<div class=\\\"mat-mdc-tab-header-pagination mat-mdc-tab-header-pagination-before\\\"\\n     #previousPaginator\\n     mat-ripple\\n     [matRippleDisabled]=\\\"_disableScrollBefore || disableRipple\\\"\\n     [class.mat-mdc-tab-header-pagination-disabled]=\\\"_disableScrollBefore\\\"\\n     (click)=\\\"_handlePaginatorClick('before')\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('before', $event)\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-mdc-tab-header-pagination-chevron\\\"></div>\\n</div>\\n\\n<div\\n  class=\\\"mat-mdc-tab-label-container\\\"\\n  #tabListContainer\\n  (keydown)=\\\"_handleKeydown($event)\\\"\\n  [class._mat-animation-noopable]=\\\"_animationMode === 'NoopAnimations'\\\">\\n  <div\\n    #tabList\\n    class=\\\"mat-mdc-tab-list\\\"\\n    role=\\\"tablist\\\"\\n    [attr.aria-label]=\\\"ariaLabel || null\\\"\\n    [attr.aria-labelledby]=\\\"ariaLabelledby || null\\\"\\n    (cdkObserveContent)=\\\"_onContentChanges()\\\">\\n    <div class=\\\"mat-mdc-tab-labels\\\" #tabListInner>\\n      <ng-content></ng-content>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"mat-mdc-tab-header-pagination mat-mdc-tab-header-pagination-after\\\"\\n     #nextPaginator\\n     mat-ripple\\n     [matRippleDisabled]=\\\"_disableScrollAfter || disableRipple\\\"\\n     [class.mat-mdc-tab-header-pagination-disabled]=\\\"_disableScrollAfter\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('after', $event)\\\"\\n     (click)=\\\"_handlePaginatorClick('after')\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-mdc-tab-header-pagination-chevron\\\"></div>\\n</div>\\n\", styles: [\".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}\"] }]\n        }], ctorParameters: () => [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: i1.ViewportRuler }, { type: i2.Directionality, decorators: [{\n                    type: Optional\n                }] }, { type: i0.NgZone }, { type: i3.Platform }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [ANIMATION_MODULE_TYPE]\n                }] }], propDecorators: { _items: [{\n                type: ContentChildren,\n                args: [MatTabLabelWrapper, { descendants: false }]\n            }], _tabListContainer: [{\n                type: ViewChild,\n                args: ['tabListContainer', { static: true }]\n            }], _tabList: [{\n                type: ViewChild,\n                args: ['tabList', { static: true }]\n            }], _tabListInner: [{\n                type: ViewChild,\n                args: ['tabListInner', { static: true }]\n            }], _nextPaginator: [{\n                type: ViewChild,\n                args: ['nextPaginator']\n            }], _previousPaginator: [{\n                type: ViewChild,\n                args: ['previousPaginator']\n            }], ariaLabel: [{\n                type: Input,\n                args: ['aria-label']\n            }], ariaLabelledby: [{\n                type: Input,\n                args: ['aria-labelledby']\n            }], disableRipple: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }] } });\n\n/** Injection token that can be used to provide the default options the tabs module. */\nconst MAT_TABS_CONFIG = new InjectionToken('MAT_TABS_CONFIG');\n\n/**\n * Animations used by the Material tabs.\n * @docs-private\n */\nconst matTabsAnimations = {\n    /** Animation translates a tab along the X axis. */\n    translateTab: trigger('translateTab', [\n        // Transitions to `none` instead of 0, because some browsers might blur the content.\n        state('center, void, left-origin-center, right-origin-center', style({ transform: 'none', visibility: 'visible' })),\n        // If the tab is either on the left or right, we additionally add a `min-height` of 1px\n        // in order to ensure that the element has a height before its state changes. This is\n        // necessary because Chrome does seem to skip the transition in RTL mode if the element does\n        // not have a static height and is not rendered. See related issue: #9465\n        state('left', style({\n            transform: 'translate3d(-100%, 0, 0)',\n            minHeight: '1px',\n            // Normally this is redundant since we detach the content from the DOM, but if the user\n            // opted into keeping the content in the DOM, we have to hide it so it isn't focusable.\n            visibility: 'hidden',\n        })),\n        state('right', style({\n            transform: 'translate3d(100%, 0, 0)',\n            minHeight: '1px',\n            visibility: 'hidden',\n        })),\n        transition('* => left, * => right, left => center, right => center', animate('{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)')),\n        transition('void => left-origin-center', [\n            style({ transform: 'translate3d(-100%, 0, 0)', visibility: 'hidden' }),\n            animate('{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)'),\n        ]),\n        transition('void => right-origin-center', [\n            style({ transform: 'translate3d(100%, 0, 0)', visibility: 'hidden' }),\n            animate('{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)'),\n        ]),\n    ]),\n};\n\n/**\n * The portal host directive for the contents of the tab.\n * @docs-private\n */\nclass MatTabBodyPortal extends CdkPortalOutlet {\n    constructor(componentFactoryResolver, viewContainerRef, _host, _document) {\n        super(componentFactoryResolver, viewContainerRef, _document);\n        this._host = _host;\n        /** Subscription to events for when the tab body begins centering. */\n        this._centeringSub = Subscription.EMPTY;\n        /** Subscription to events for when the tab body finishes leaving from center position. */\n        this._leavingSub = Subscription.EMPTY;\n    }\n    /** Set initial visibility or set up subscription for changing visibility. */\n    ngOnInit() {\n        super.ngOnInit();\n        this._centeringSub = this._host._beforeCentering\n            .pipe(startWith(this._host._isCenterPosition(this._host._position)))\n            .subscribe((isCentering) => {\n            if (this._host._content && isCentering && !this.hasAttached()) {\n                this.attach(this._host._content);\n            }\n        });\n        this._leavingSub = this._host._afterLeavingCenter.subscribe(() => {\n            if (!this._host.preserveContent) {\n                this.detach();\n            }\n        });\n    }\n    /** Clean up centering subscription. */\n    ngOnDestroy() {\n        super.ngOnDestroy();\n        this._centeringSub.unsubscribe();\n        this._leavingSub.unsubscribe();\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabBodyPortal, deps: [{ token: i0.ComponentFactoryResolver }, { token: i0.ViewContainerRef }, { token: forwardRef(() => MatTabBody) }, { token: DOCUMENT }], target: i0.FactoryTarget.Directive }); }\n    static { this.dir = i0.ngDeclareDirective({ minVersion: \"14.0.0\", version: \"18.2.0-next.2\", type: MatTabBodyPortal, isStandalone: true, selector: \"[matTabBodyHost]\", usesInheritance: true, ngImport: i0 }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabBodyPortal, decorators: [{\n            type: Directive,\n            args: [{\n                    selector: '[matTabBodyHost]',\n                    standalone: true,\n                }]\n        }], ctorParameters: () => [{ type: i0.ComponentFactoryResolver }, { type: i0.ViewContainerRef }, { type: MatTabBody, decorators: [{\n                    type: Inject,\n                    args: [forwardRef(() => MatTabBody)]\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [DOCUMENT]\n                }] }] });\n/**\n * Wrapper for the contents of a tab.\n * @docs-private\n */\nclass MatTabBody {\n    /** The shifted index position of the tab body, where zero represents the active center tab. */\n    set position(position) {\n        this._positionIndex = position;\n        this._computePositionAnimationState();\n    }\n    constructor(_elementRef, _dir, changeDetectorRef) {\n        this._elementRef = _elementRef;\n        this._dir = _dir;\n        /** Subscription to the directionality change observable. */\n        this._dirChangeSubscription = Subscription.EMPTY;\n        /** Emits when an animation on the tab is complete. */\n        this._translateTabComplete = new Subject();\n        /** Event emitted when the tab begins to animate towards the center as the active tab. */\n        this._onCentering = new EventEmitter();\n        /** Event emitted before the centering of the tab begins. */\n        this._beforeCentering = new EventEmitter();\n        /** Event emitted before the centering of the tab begins. */\n        this._afterLeavingCenter = new EventEmitter();\n        /** Event emitted when the tab completes its animation towards the center. */\n        this._onCentered = new EventEmitter(true);\n        // Note that the default value will always be overwritten by `MatTabBody`, but we need one\n        // anyway to prevent the animations module from throwing an error if the body is used on its own.\n        /** Duration for the tab's animation. */\n        this.animationDuration = '500ms';\n        /** Whether the tab's content should be kept in the DOM while it's off-screen. */\n        this.preserveContent = false;\n        if (_dir) {\n            this._dirChangeSubscription = _dir.change.subscribe((dir) => {\n                this._computePositionAnimationState(dir);\n                changeDetectorRef.markForCheck();\n            });\n        }\n        // Ensure that we get unique animation events, because the `.done` callback can get\n        // invoked twice in some browsers. See https://github.com/angular/angular/issues/24084.\n        this._translateTabComplete\n            .pipe(distinctUntilChanged((x, y) => {\n            return x.fromState === y.fromState && x.toState === y.toState;\n        }))\n            .subscribe(event => {\n            // If the transition to the center is complete, emit an event.\n            if (this._isCenterPosition(event.toState) && this._isCenterPosition(this._position)) {\n                this._onCentered.emit();\n            }\n            if (this._isCenterPosition(event.fromState) && !this._isCenterPosition(this._position)) {\n                this._afterLeavingCenter.emit();\n            }\n        });\n    }\n    /**\n     * After initialized, check if the content is centered and has an origin. If so, set the\n     * special position states that transition the tab from the left or right before centering.\n     */\n    ngOnInit() {\n        if (this._position == 'center' && this.origin != null) {\n            this._position = this._computePositionFromOrigin(this.origin);\n        }\n    }\n    ngOnDestroy() {\n        this._dirChangeSubscription.unsubscribe();\n        this._translateTabComplete.complete();\n    }\n    _onTranslateTabStarted(event) {\n        const isCentering = this._isCenterPosition(event.toState);\n        this._beforeCentering.emit(isCentering);\n        if (isCentering) {\n            this._onCentering.emit(this._elementRef.nativeElement.clientHeight);\n        }\n    }\n    /** The text direction of the containing app. */\n    _getLayoutDirection() {\n        return this._dir && this._dir.value === 'rtl' ? 'rtl' : 'ltr';\n    }\n    /** Whether the provided position state is considered center, regardless of origin. */\n    _isCenterPosition(position) {\n        return (position == 'center' || position == 'left-origin-center' || position == 'right-origin-center');\n    }\n    /** Computes the position state that will be used for the tab-body animation trigger. */\n    _computePositionAnimationState(dir = this._getLayoutDirection()) {\n        if (this._positionIndex < 0) {\n            this._position = dir == 'ltr' ? 'left' : 'right';\n        }\n        else if (this._positionIndex > 0) {\n            this._position = dir == 'ltr' ? 'right' : 'left';\n        }\n        else {\n            this._position = 'center';\n        }\n    }\n    /**\n     * Computes the position state based on the specified origin position. This is used if the\n     * tab is becoming visible immediately after creation.\n     */\n    _computePositionFromOrigin(origin) {\n        const dir = this._getLayoutDirection();\n        if ((dir == 'ltr' && origin <= 0) || (dir == 'rtl' && origin > 0)) {\n            return 'left-origin-center';\n        }\n        return 'right-origin-center';\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabBody, deps: [{ token: i0.ElementRef }, { token: i2.Directionality, optional: true }, { token: i0.ChangeDetectorRef }], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"18.2.0-next.2\", type: MatTabBody, isStandalone: true, selector: \"mat-tab-body\", inputs: { _content: [\"content\", \"_content\"], origin: \"origin\", animationDuration: \"animationDuration\", preserveContent: \"preserveContent\", position: \"position\" }, outputs: { _onCentering: \"_onCentering\", _beforeCentering: \"_beforeCentering\", _afterLeavingCenter: \"_afterLeavingCenter\", _onCentered: \"_onCentered\" }, host: { classAttribute: \"mat-mdc-tab-body\" }, viewQueries: [{ propertyName: \"_portalHost\", first: true, predicate: CdkPortalOutlet, descendants: true }], ngImport: i0, template: \"<div class=\\\"mat-mdc-tab-body-content\\\" #content\\n     [@translateTab]=\\\"{\\n        value: _position,\\n        params: {animationDuration: animationDuration}\\n     }\\\"\\n     (@translateTab.start)=\\\"_onTranslateTabStarted($event)\\\"\\n     (@translateTab.done)=\\\"_translateTabComplete.next($event)\\\"\\n     cdkScrollable>\\n  <ng-template matTabBodyHost></ng-template>\\n</div>\\n\", styles: [\".mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*=\\\"visibility: hidden\\\"]{display:none}\"], dependencies: [{ kind: \"directive\", type: MatTabBodyPortal, selector: \"[matTabBodyHost]\" }, { kind: \"directive\", type: CdkScrollable, selector: \"[cdk-scrollable], [cdkScrollable]\" }], animations: [matTabsAnimations.translateTab], changeDetection: i0.ChangeDetectionStrategy.Default, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabBody, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-tab-body', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.Default, animations: [matTabsAnimations.translateTab], host: {\n                        'class': 'mat-mdc-tab-body',\n                    }, standalone: true, imports: [MatTabBodyPortal, CdkScrollable], template: \"<div class=\\\"mat-mdc-tab-body-content\\\" #content\\n     [@translateTab]=\\\"{\\n        value: _position,\\n        params: {animationDuration: animationDuration}\\n     }\\\"\\n     (@translateTab.start)=\\\"_onTranslateTabStarted($event)\\\"\\n     (@translateTab.done)=\\\"_translateTabComplete.next($event)\\\"\\n     cdkScrollable>\\n  <ng-template matTabBodyHost></ng-template>\\n</div>\\n\", styles: [\".mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*=\\\"visibility: hidden\\\"]{display:none}\"] }]\n        }], ctorParameters: () => [{ type: i0.ElementRef }, { type: i2.Directionality, decorators: [{\n                    type: Optional\n                }] }, { type: i0.ChangeDetectorRef }], propDecorators: { _onCentering: [{\n                type: Output\n            }], _beforeCentering: [{\n                type: Output\n            }], _afterLeavingCenter: [{\n                type: Output\n            }], _onCentered: [{\n                type: Output\n            }], _portalHost: [{\n                type: ViewChild,\n                args: [CdkPortalOutlet]\n            }], _content: [{\n                type: Input,\n                args: ['content']\n            }], origin: [{\n                type: Input\n            }], animationDuration: [{\n                type: Input\n            }], preserveContent: [{\n                type: Input\n            }], position: [{\n                type: Input\n            }] } });\n\n/** Used to generate unique ID's for each tab component */\nlet nextId = 0;\n/** Boolean constant that determines whether the tab group supports the `backgroundColor` input */\nconst ENABLE_BACKGROUND_INPUT = true;\n/**\n * Material design tab-group component. Supports basic tab pairs (label + content) and includes\n * animated ink-bar, keyboard navigation, and screen reader.\n * See: https://material.io/design/components/tabs.html\n */\nclass MatTabGroup {\n    /** Whether the ink bar should fit its width to the size of the tab label content. */\n    get fitInkBarToContent() {\n        return this._fitInkBarToContent;\n    }\n    set fitInkBarToContent(value) {\n        this._fitInkBarToContent = value;\n        this._changeDetectorRef.markForCheck();\n    }\n    /** The index of the active tab. */\n    get selectedIndex() {\n        return this._selectedIndex;\n    }\n    set selectedIndex(value) {\n        this._indexToSelect = isNaN(value) ? null : value;\n    }\n    /** Duration for the tab animation. Will be normalized to milliseconds if no units are set. */\n    get animationDuration() {\n        return this._animationDuration;\n    }\n    set animationDuration(value) {\n        const stringValue = value + '';\n        this._animationDuration = /^\\d+$/.test(stringValue) ? value + 'ms' : stringValue;\n    }\n    /**\n     * `tabindex` to be set on the inner element that wraps the tab content. Can be used for improved\n     * accessibility when the tab does not have focusable elements or if it has scrollable content.\n     * The `tabindex` will be removed automatically for inactive tabs.\n     * Read more at https://www.w3.org/TR/wai-aria-practices/examples/tabs/tabs-2/tabs.html\n     */\n    get contentTabIndex() {\n        return this._contentTabIndex;\n    }\n    set contentTabIndex(value) {\n        this._contentTabIndex = isNaN(value) ? null : value;\n    }\n    /**\n     * Theme color of the background of the tab group. This API is supported in M2 themes only, it\n     * has no effect in M3 themes.\n     *\n     * For information on applying color variants in M3, see\n     * https://material.angular.io/guide/theming#using-component-color-variants.\n     *\n     * @deprecated The background color should be customized through Sass theming APIs.\n     * @breaking-change 20.0.0 Remove this input\n     */\n    get backgroundColor() {\n        return this._backgroundColor;\n    }\n    set backgroundColor(value) {\n        if (!ENABLE_BACKGROUND_INPUT) {\n            throw new Error(`mat-tab-group background color must be set through the Sass theming API`);\n        }\n        const classList = this._elementRef.nativeElement.classList;\n        classList.remove('mat-tabs-with-background', `mat-background-${this.backgroundColor}`);\n        if (value) {\n            classList.add('mat-tabs-with-background', `mat-background-${value}`);\n        }\n        this._backgroundColor = value;\n    }\n    constructor(_elementRef, _changeDetectorRef, defaultConfig, _animationMode) {\n        this._elementRef = _elementRef;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._animationMode = _animationMode;\n        /** All of the tabs that belong to the group. */\n        this._tabs = new QueryList();\n        /** The tab index that should be selected after the content has been checked. */\n        this._indexToSelect = 0;\n        /** Index of the tab that was focused last. */\n        this._lastFocusedTabIndex = null;\n        /** Snapshot of the height of the tab body wrapper before another tab is activated. */\n        this._tabBodyWrapperHeight = 0;\n        /** Subscription to tabs being added/removed. */\n        this._tabsSubscription = Subscription.EMPTY;\n        /** Subscription to changes in the tab labels. */\n        this._tabLabelSubscription = Subscription.EMPTY;\n        this._fitInkBarToContent = false;\n        /** Whether tabs should be stretched to fill the header. */\n        this.stretchTabs = true;\n        /** Whether the tab group should grow to the size of the active tab. */\n        this.dynamicHeight = false;\n        this._selectedIndex = null;\n        /** Position of the tab header. */\n        this.headerPosition = 'above';\n        /**\n         * Whether pagination should be disabled. This can be used to avoid unnecessary\n         * layout recalculations if it's known that pagination won't be required.\n         */\n        this.disablePagination = false;\n        /** Whether ripples in the tab group are disabled. */\n        this.disableRipple = false;\n        /**\n         * By default tabs remove their content from the DOM while it's off-screen.\n         * Setting this to `true` will keep it in the DOM which will prevent elements\n         * like iframes and videos from reloading next time it comes back into the view.\n         */\n        this.preserveContent = false;\n        /** Output to enable support for two-way binding on `[(selectedIndex)]` */\n        this.selectedIndexChange = new EventEmitter();\n        /** Event emitted when focus has changed within a tab group. */\n        this.focusChange = new EventEmitter();\n        /** Event emitted when the body animation has completed */\n        this.animationDone = new EventEmitter();\n        /** Event emitted when the tab selection has changed. */\n        this.selectedTabChange = new EventEmitter(true);\n        /** Whether the tab group is rendered on the server. */\n        this._isServer = !inject(Platform).isBrowser;\n        this._groupId = nextId++;\n        this.animationDuration =\n            defaultConfig && defaultConfig.animationDuration ? defaultConfig.animationDuration : '500ms';\n        this.disablePagination =\n            defaultConfig && defaultConfig.disablePagination != null\n                ? defaultConfig.disablePagination\n                : false;\n        this.dynamicHeight =\n            defaultConfig && defaultConfig.dynamicHeight != null ? defaultConfig.dynamicHeight : false;\n        if (defaultConfig?.contentTabIndex != null) {\n            this.contentTabIndex = defaultConfig.contentTabIndex;\n        }\n        this.preserveContent = !!defaultConfig?.preserveContent;\n        this.fitInkBarToContent =\n            defaultConfig && defaultConfig.fitInkBarToContent != null\n                ? defaultConfig.fitInkBarToContent\n                : false;\n        this.stretchTabs =\n            defaultConfig && defaultConfig.stretchTabs != null ? defaultConfig.stretchTabs : true;\n    }\n    /**\n     * After the content is checked, this component knows what tabs have been defined\n     * and what the selected index should be. This is where we can know exactly what position\n     * each tab should be in according to the new selected index, and additionally we know how\n     * a new selected tab should transition in (from the left or right).\n     */\n    ngAfterContentChecked() {\n        // Don't clamp the `indexToSelect` immediately in the setter because it can happen that\n        // the amount of tabs changes before the actual change detection runs.\n        const indexToSelect = (this._indexToSelect = this._clampTabIndex(this._indexToSelect));\n        // If there is a change in selected index, emit a change event. Should not trigger if\n        // the selected index has not yet been initialized.\n        if (this._selectedIndex != indexToSelect) {\n            const isFirstRun = this._selectedIndex == null;\n            if (!isFirstRun) {\n                this.selectedTabChange.emit(this._createChangeEvent(indexToSelect));\n                // Preserve the height so page doesn't scroll up during tab change.\n                // Fixes https://stackblitz.com/edit/mat-tabs-scroll-page-top-on-tab-change\n                const wrapper = this._tabBodyWrapper.nativeElement;\n                wrapper.style.minHeight = wrapper.clientHeight + 'px';\n            }\n            // Changing these values after change detection has run\n            // since the checked content may contain references to them.\n            Promise.resolve().then(() => {\n                this._tabs.forEach((tab, index) => (tab.isActive = index === indexToSelect));\n                if (!isFirstRun) {\n                    this.selectedIndexChange.emit(indexToSelect);\n                    // Clear the min-height, this was needed during tab change to avoid\n                    // unnecessary scrolling.\n                    this._tabBodyWrapper.nativeElement.style.minHeight = '';\n                }\n            });\n        }\n        // Setup the position for each tab and optionally setup an origin on the next selected tab.\n        this._tabs.forEach((tab, index) => {\n            tab.position = index - indexToSelect;\n            // If there is already a selected tab, then set up an origin for the next selected tab\n            // if it doesn't have one already.\n            if (this._selectedIndex != null && tab.position == 0 && !tab.origin) {\n                tab.origin = indexToSelect - this._selectedIndex;\n            }\n        });\n        if (this._selectedIndex !== indexToSelect) {\n            this._selectedIndex = indexToSelect;\n            this._lastFocusedTabIndex = null;\n            this._changeDetectorRef.markForCheck();\n        }\n    }\n    ngAfterContentInit() {\n        this._subscribeToAllTabChanges();\n        this._subscribeToTabLabels();\n        // Subscribe to changes in the amount of tabs, in order to be\n        // able to re-render the content as new tabs are added or removed.\n        this._tabsSubscription = this._tabs.changes.subscribe(() => {\n            const indexToSelect = this._clampTabIndex(this._indexToSelect);\n            // Maintain the previously-selected tab if a new tab is added or removed and there is no\n            // explicit change that selects a different tab.\n            if (indexToSelect === this._selectedIndex) {\n                const tabs = this._tabs.toArray();\n                let selectedTab;\n                for (let i = 0; i < tabs.length; i++) {\n                    if (tabs[i].isActive) {\n                        // Assign both to the `_indexToSelect` and `_selectedIndex` so we don't fire a changed\n                        // event, otherwise the consumer may end up in an infinite loop in some edge cases like\n                        // adding a tab within the `selectedIndexChange` event.\n                        this._indexToSelect = this._selectedIndex = i;\n                        this._lastFocusedTabIndex = null;\n                        selectedTab = tabs[i];\n                        break;\n                    }\n                }\n                // If we haven't found an active tab and a tab exists at the selected index, it means\n                // that the active tab was swapped out. Since this won't be picked up by the rendering\n                // loop in `ngAfterContentChecked`, we need to sync it up manually.\n                if (!selectedTab && tabs[indexToSelect]) {\n                    Promise.resolve().then(() => {\n                        tabs[indexToSelect].isActive = true;\n                        this.selectedTabChange.emit(this._createChangeEvent(indexToSelect));\n                    });\n                }\n            }\n            this._changeDetectorRef.markForCheck();\n        });\n    }\n    /** Listens to changes in all of the tabs. */\n    _subscribeToAllTabChanges() {\n        // Since we use a query with `descendants: true` to pick up the tabs, we may end up catching\n        // some that are inside of nested tab groups. We filter them out manually by checking that\n        // the closest group to the tab is the current one.\n        this._allTabs.changes.pipe(startWith(this._allTabs)).subscribe((tabs) => {\n            this._tabs.reset(tabs.filter(tab => {\n                return tab._closestTabGroup === this || !tab._closestTabGroup;\n            }));\n            this._tabs.notifyOnChanges();\n        });\n    }\n    ngOnDestroy() {\n        this._tabs.destroy();\n        this._tabsSubscription.unsubscribe();\n        this._tabLabelSubscription.unsubscribe();\n    }\n    /** Re-aligns the ink bar to the selected tab element. */\n    realignInkBar() {\n        if (this._tabHeader) {\n            this._tabHeader._alignInkBarToSelectedTab();\n        }\n    }\n    /**\n     * Recalculates the tab group's pagination dimensions.\n     *\n     * WARNING: Calling this method can be very costly in terms of performance. It should be called\n     * as infrequently as possible from outside of the Tabs component as it causes a reflow of the\n     * page.\n     */\n    updatePagination() {\n        if (this._tabHeader) {\n            this._tabHeader.updatePagination();\n        }\n    }\n    /**\n     * Sets focus to a particular tab.\n     * @param index Index of the tab to be focused.\n     */\n    focusTab(index) {\n        const header = this._tabHeader;\n        if (header) {\n            header.focusIndex = index;\n        }\n    }\n    _focusChanged(index) {\n        this._lastFocusedTabIndex = index;\n        this.focusChange.emit(this._createChangeEvent(index));\n    }\n    _createChangeEvent(index) {\n        const event = new MatTabChangeEvent();\n        event.index = index;\n        if (this._tabs && this._tabs.length) {\n            event.tab = this._tabs.toArray()[index];\n        }\n        return event;\n    }\n    /**\n     * Subscribes to changes in the tab labels. This is needed, because the @Input for the label is\n     * on the MatTab component, whereas the data binding is inside the MatTabGroup. In order for the\n     * binding to be updated, we need to subscribe to changes in it and trigger change detection\n     * manually.\n     */\n    _subscribeToTabLabels() {\n        if (this._tabLabelSubscription) {\n            this._tabLabelSubscription.unsubscribe();\n        }\n        this._tabLabelSubscription = merge(...this._tabs.map(tab => tab._stateChanges)).subscribe(() => this._changeDetectorRef.markForCheck());\n    }\n    /** Clamps the given index to the bounds of 0 and the tabs length. */\n    _clampTabIndex(index) {\n        // Note the `|| 0`, which ensures that values like NaN can't get through\n        // and which would otherwise throw the component into an infinite loop\n        // (since Math.max(NaN, 0) === NaN).\n        return Math.min(this._tabs.length - 1, Math.max(index || 0, 0));\n    }\n    /** Returns a unique id for each tab label element */\n    _getTabLabelId(i) {\n        return `mat-tab-label-${this._groupId}-${i}`;\n    }\n    /** Returns a unique id for each tab content element */\n    _getTabContentId(i) {\n        return `mat-tab-content-${this._groupId}-${i}`;\n    }\n    /**\n     * Sets the height of the body wrapper to the height of the activating tab if dynamic\n     * height property is true.\n     */\n    _setTabBodyWrapperHeight(tabHeight) {\n        if (!this.dynamicHeight || !this._tabBodyWrapperHeight) {\n            return;\n        }\n        const wrapper = this._tabBodyWrapper.nativeElement;\n        wrapper.style.height = this._tabBodyWrapperHeight + 'px';\n        // This conditional forces the browser to paint the height so that\n        // the animation to the new height can have an origin.\n        if (this._tabBodyWrapper.nativeElement.offsetHeight) {\n            wrapper.style.height = tabHeight + 'px';\n        }\n    }\n    /** Removes the height of the tab body wrapper. */\n    _removeTabBodyWrapperHeight() {\n        const wrapper = this._tabBodyWrapper.nativeElement;\n        this._tabBodyWrapperHeight = wrapper.clientHeight;\n        wrapper.style.height = '';\n        this.animationDone.emit();\n    }\n    /** Handle click events, setting new selected index if appropriate. */\n    _handleClick(tab, tabHeader, index) {\n        tabHeader.focusIndex = index;\n        if (!tab.disabled) {\n            this.selectedIndex = index;\n        }\n    }\n    /** Retrieves the tabindex for the tab. */\n    _getTabIndex(index) {\n        const targetIndex = this._lastFocusedTabIndex ?? this.selectedIndex;\n        return index === targetIndex ? 0 : -1;\n    }\n    /** Callback for when the focused state of a tab has changed. */\n    _tabFocusChanged(focusOrigin, index) {\n        // Mouse/touch focus happens during the `mousedown`/`touchstart` phase which\n        // can cause the tab to be moved out from under the pointer, interrupting the\n        // click sequence (see #21898). We don't need to scroll the tab into view for\n        // such cases anyway, because it will be done when the tab becomes selected.\n        if (focusOrigin && focusOrigin !== 'mouse' && focusOrigin !== 'touch') {\n            this._tabHeader.focusIndex = index;\n        }\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabGroup, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }, { token: MAT_TABS_CONFIG, optional: true }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"17.0.0\", version: \"18.2.0-next.2\", type: MatTabGroup, isStandalone: true, selector: \"mat-tab-group\", inputs: { color: \"color\", fitInkBarToContent: [\"fitInkBarToContent\", \"fitInkBarToContent\", booleanAttribute], stretchTabs: [\"mat-stretch-tabs\", \"stretchTabs\", booleanAttribute], dynamicHeight: [\"dynamicHeight\", \"dynamicHeight\", booleanAttribute], selectedIndex: [\"selectedIndex\", \"selectedIndex\", numberAttribute], headerPosition: \"headerPosition\", animationDuration: \"animationDuration\", contentTabIndex: [\"contentTabIndex\", \"contentTabIndex\", numberAttribute], disablePagination: [\"disablePagination\", \"disablePagination\", booleanAttribute], disableRipple: [\"disableRipple\", \"disableRipple\", booleanAttribute], preserveContent: [\"preserveContent\", \"preserveContent\", booleanAttribute], backgroundColor: \"backgroundColor\", ariaLabel: [\"aria-label\", \"ariaLabel\"], ariaLabelledby: [\"aria-labelledby\", \"ariaLabelledby\"] }, outputs: { selectedIndexChange: \"selectedIndexChange\", focusChange: \"focusChange\", animationDone: \"animationDone\", selectedTabChange: \"selectedTabChange\" }, host: { properties: { \"class\": \"\\\"mat-\\\" + (color || \\\"primary\\\")\", \"class.mat-mdc-tab-group-dynamic-height\": \"dynamicHeight\", \"class.mat-mdc-tab-group-inverted-header\": \"headerPosition === \\\"below\\\"\", \"class.mat-mdc-tab-group-stretch-tabs\": \"stretchTabs\", \"style.--mat-tab-animation-duration\": \"animationDuration\" }, classAttribute: \"mat-mdc-tab-group\" }, providers: [\n            {\n                provide: MAT_TAB_GROUP,\n                useExisting: MatTabGroup,\n            },\n        ], queries: [{ propertyName: \"_allTabs\", predicate: MatTab, descendants: true }], viewQueries: [{ propertyName: \"_tabBodyWrapper\", first: true, predicate: [\"tabBodyWrapper\"], descendants: true }, { propertyName: \"_tabHeader\", first: true, predicate: [\"tabHeader\"], descendants: true }], exportAs: [\"matTabGroup\"], ngImport: i0, template: \"<mat-tab-header #tabHeader\\n                [selectedIndex]=\\\"selectedIndex || 0\\\"\\n                [disableRipple]=\\\"disableRipple\\\"\\n                [disablePagination]=\\\"disablePagination\\\"\\n                [aria-label]=\\\"ariaLabel\\\"\\n                [aria-labelledby]=\\\"ariaLabelledby\\\"\\n                (indexFocused)=\\\"_focusChanged($event)\\\"\\n                (selectFocusedIndex)=\\\"selectedIndex = $event\\\">\\n\\n  @for (tab of _tabs; track tab; let i = $index) {\\n    <div class=\\\"mdc-tab mat-mdc-tab mat-mdc-focus-indicator\\\"\\n        #tabNode\\n        role=\\\"tab\\\"\\n        matTabLabelWrapper\\n        cdkMonitorElementFocus\\n        [id]=\\\"_getTabLabelId(i)\\\"\\n        [attr.tabIndex]=\\\"_getTabIndex(i)\\\"\\n        [attr.aria-posinset]=\\\"i + 1\\\"\\n        [attr.aria-setsize]=\\\"_tabs.length\\\"\\n        [attr.aria-controls]=\\\"_getTabContentId(i)\\\"\\n        [attr.aria-selected]=\\\"selectedIndex === i\\\"\\n        [attr.aria-label]=\\\"tab.ariaLabel || null\\\"\\n        [attr.aria-labelledby]=\\\"(!tab.ariaLabel && tab.ariaLabelledby) ? tab.ariaLabelledby : null\\\"\\n        [class.mdc-tab--active]=\\\"selectedIndex === i\\\"\\n        [class]=\\\"tab.labelClass\\\"\\n        [disabled]=\\\"tab.disabled\\\"\\n        [fitInkBarToContent]=\\\"fitInkBarToContent\\\"\\n        (click)=\\\"_handleClick(tab, tabHeader, i)\\\"\\n        (cdkFocusChange)=\\\"_tabFocusChanged($event, i)\\\">\\n      <span class=\\\"mdc-tab__ripple\\\"></span>\\n\\n      <!-- Needs to be a separate element, because we can't put\\n          `overflow: hidden` on tab due to the ink bar. -->\\n      <div\\n        class=\\\"mat-mdc-tab-ripple\\\"\\n        mat-ripple\\n        [matRippleTrigger]=\\\"tabNode\\\"\\n        [matRippleDisabled]=\\\"tab.disabled || disableRipple\\\"></div>\\n\\n      <span class=\\\"mdc-tab__content\\\">\\n        <span class=\\\"mdc-tab__text-label\\\">\\n          <!--\\n            If there is a label template, use it, otherwise fall back to the text label.\\n            Note that we don't have indentation around the text label, because it adds\\n            whitespace around the text which breaks some internal tests.\\n          -->\\n          @if (tab.templateLabel) {\\n            <ng-template [cdkPortalOutlet]=\\\"tab.templateLabel\\\"></ng-template>\\n          } @else {{{tab.textLabel}}}\\n        </span>\\n      </span>\\n    </div>\\n  }\\n</mat-tab-header>\\n\\n<!--\\n  We need to project the content somewhere to avoid hydration errors. Some observations:\\n  1. This is only necessary on the server.\\n  2. We get a hydration error if there aren't any nodes after the `ng-content`.\\n  3. We get a hydration error if `ng-content` is wrapped in another element.\\n-->\\n@if (_isServer) {\\n  <ng-content/>\\n}\\n\\n<div\\n  class=\\\"mat-mdc-tab-body-wrapper\\\"\\n  [class._mat-animation-noopable]=\\\"_animationMode === 'NoopAnimations'\\\"\\n  #tabBodyWrapper>\\n  @for (tab of _tabs; track tab; let i = $index) {\\n    <mat-tab-body role=\\\"tabpanel\\\"\\n                 [id]=\\\"_getTabContentId(i)\\\"\\n                 [attr.tabindex]=\\\"(contentTabIndex != null && selectedIndex === i) ? contentTabIndex : null\\\"\\n                 [attr.aria-labelledby]=\\\"_getTabLabelId(i)\\\"\\n                 [attr.aria-hidden]=\\\"selectedIndex !== i\\\"\\n                 [class.mat-mdc-tab-body-active]=\\\"selectedIndex === i\\\"\\n                 [class]=\\\"tab.bodyClass\\\"\\n                 [content]=\\\"tab.content!\\\"\\n                 [position]=\\\"tab.position!\\\"\\n                 [origin]=\\\"tab.origin\\\"\\n                 [animationDuration]=\\\"animationDuration\\\"\\n                 [preserveContent]=\\\"preserveContent\\\"\\n                 (_onCentered)=\\\"_removeTabBodyWrapperHeight()\\\"\\n                 (_onCentering)=\\\"_setTabBodyWrapperHeight($event)\\\">\\n    </mat-tab-body>\\n  }\\n</div>\\n\", styles: [\".mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:\\\"\\\";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}\"], dependencies: [{ kind: \"component\", type: MatTabHeader, selector: \"mat-tab-header\", inputs: [\"aria-label\", \"aria-labelledby\", \"disableRipple\"] }, { kind: \"directive\", type: MatTabLabelWrapper, selector: \"[matTabLabelWrapper]\", inputs: [\"disabled\"] }, { kind: \"directive\", type: CdkMonitorFocus, selector: \"[cdkMonitorElementFocus], [cdkMonitorSubtreeFocus]\", outputs: [\"cdkFocusChange\"], exportAs: [\"cdkMonitorFocus\"] }, { kind: \"directive\", type: MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }, { kind: \"directive\", type: CdkPortalOutlet, selector: \"[cdkPortalOutlet]\", inputs: [\"cdkPortalOutlet\"], outputs: [\"attached\"], exportAs: [\"cdkPortalOutlet\"] }, { kind: \"component\", type: MatTabBody, selector: \"mat-tab-body\", inputs: [\"content\", \"origin\", \"animationDuration\", \"preserveContent\", \"position\"], outputs: [\"_onCentering\", \"_beforeCentering\", \"_afterLeavingCenter\", \"_onCentered\"] }], changeDetection: i0.ChangeDetectionStrategy.Default, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabGroup, decorators: [{\n            type: Component,\n            args: [{ selector: 'mat-tab-group', exportAs: 'matTabGroup', encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.Default, providers: [\n                        {\n                            provide: MAT_TAB_GROUP,\n                            useExisting: MatTabGroup,\n                        },\n                    ], host: {\n                        'class': 'mat-mdc-tab-group',\n                        '[class]': '\"mat-\" + (color || \"primary\")',\n                        '[class.mat-mdc-tab-group-dynamic-height]': 'dynamicHeight',\n                        '[class.mat-mdc-tab-group-inverted-header]': 'headerPosition === \"below\"',\n                        '[class.mat-mdc-tab-group-stretch-tabs]': 'stretchTabs',\n                        '[style.--mat-tab-animation-duration]': 'animationDuration',\n                    }, standalone: true, imports: [\n                        MatTabHeader,\n                        MatTabLabelWrapper,\n                        CdkMonitorFocus,\n                        MatRipple,\n                        CdkPortalOutlet,\n                        MatTabBody,\n                    ], template: \"<mat-tab-header #tabHeader\\n                [selectedIndex]=\\\"selectedIndex || 0\\\"\\n                [disableRipple]=\\\"disableRipple\\\"\\n                [disablePagination]=\\\"disablePagination\\\"\\n                [aria-label]=\\\"ariaLabel\\\"\\n                [aria-labelledby]=\\\"ariaLabelledby\\\"\\n                (indexFocused)=\\\"_focusChanged($event)\\\"\\n                (selectFocusedIndex)=\\\"selectedIndex = $event\\\">\\n\\n  @for (tab of _tabs; track tab; let i = $index) {\\n    <div class=\\\"mdc-tab mat-mdc-tab mat-mdc-focus-indicator\\\"\\n        #tabNode\\n        role=\\\"tab\\\"\\n        matTabLabelWrapper\\n        cdkMonitorElementFocus\\n        [id]=\\\"_getTabLabelId(i)\\\"\\n        [attr.tabIndex]=\\\"_getTabIndex(i)\\\"\\n        [attr.aria-posinset]=\\\"i + 1\\\"\\n        [attr.aria-setsize]=\\\"_tabs.length\\\"\\n        [attr.aria-controls]=\\\"_getTabContentId(i)\\\"\\n        [attr.aria-selected]=\\\"selectedIndex === i\\\"\\n        [attr.aria-label]=\\\"tab.ariaLabel || null\\\"\\n        [attr.aria-labelledby]=\\\"(!tab.ariaLabel && tab.ariaLabelledby) ? tab.ariaLabelledby : null\\\"\\n        [class.mdc-tab--active]=\\\"selectedIndex === i\\\"\\n        [class]=\\\"tab.labelClass\\\"\\n        [disabled]=\\\"tab.disabled\\\"\\n        [fitInkBarToContent]=\\\"fitInkBarToContent\\\"\\n        (click)=\\\"_handleClick(tab, tabHeader, i)\\\"\\n        (cdkFocusChange)=\\\"_tabFocusChanged($event, i)\\\">\\n      <span class=\\\"mdc-tab__ripple\\\"></span>\\n\\n      <!-- Needs to be a separate element, because we can't put\\n          `overflow: hidden` on tab due to the ink bar. -->\\n      <div\\n        class=\\\"mat-mdc-tab-ripple\\\"\\n        mat-ripple\\n        [matRippleTrigger]=\\\"tabNode\\\"\\n        [matRippleDisabled]=\\\"tab.disabled || disableRipple\\\"></div>\\n\\n      <span class=\\\"mdc-tab__content\\\">\\n        <span class=\\\"mdc-tab__text-label\\\">\\n          <!--\\n            If there is a label template, use it, otherwise fall back to the text label.\\n            Note that we don't have indentation around the text label, because it adds\\n            whitespace around the text which breaks some internal tests.\\n          -->\\n          @if (tab.templateLabel) {\\n            <ng-template [cdkPortalOutlet]=\\\"tab.templateLabel\\\"></ng-template>\\n          } @else {{{tab.textLabel}}}\\n        </span>\\n      </span>\\n    </div>\\n  }\\n</mat-tab-header>\\n\\n<!--\\n  We need to project the content somewhere to avoid hydration errors. Some observations:\\n  1. This is only necessary on the server.\\n  2. We get a hydration error if there aren't any nodes after the `ng-content`.\\n  3. We get a hydration error if `ng-content` is wrapped in another element.\\n-->\\n@if (_isServer) {\\n  <ng-content/>\\n}\\n\\n<div\\n  class=\\\"mat-mdc-tab-body-wrapper\\\"\\n  [class._mat-animation-noopable]=\\\"_animationMode === 'NoopAnimations'\\\"\\n  #tabBodyWrapper>\\n  @for (tab of _tabs; track tab; let i = $index) {\\n    <mat-tab-body role=\\\"tabpanel\\\"\\n                 [id]=\\\"_getTabContentId(i)\\\"\\n                 [attr.tabindex]=\\\"(contentTabIndex != null && selectedIndex === i) ? contentTabIndex : null\\\"\\n                 [attr.aria-labelledby]=\\\"_getTabLabelId(i)\\\"\\n                 [attr.aria-hidden]=\\\"selectedIndex !== i\\\"\\n                 [class.mat-mdc-tab-body-active]=\\\"selectedIndex === i\\\"\\n                 [class]=\\\"tab.bodyClass\\\"\\n                 [content]=\\\"tab.content!\\\"\\n                 [position]=\\\"tab.position!\\\"\\n                 [origin]=\\\"tab.origin\\\"\\n                 [animationDuration]=\\\"animationDuration\\\"\\n                 [preserveContent]=\\\"preserveContent\\\"\\n                 (_onCentered)=\\\"_removeTabBodyWrapperHeight()\\\"\\n                 (_onCentering)=\\\"_setTabBodyWrapperHeight($event)\\\">\\n    </mat-tab-body>\\n  }\\n</div>\\n\", styles: [\".mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:\\\"\\\";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}\"] }]\n        }], ctorParameters: () => [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [MAT_TABS_CONFIG]\n                }, {\n                    type: Optional\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [ANIMATION_MODULE_TYPE]\n                }] }], propDecorators: { _allTabs: [{\n                type: ContentChildren,\n                args: [MatTab, { descendants: true }]\n            }], _tabBodyWrapper: [{\n                type: ViewChild,\n                args: ['tabBodyWrapper']\n            }], _tabHeader: [{\n                type: ViewChild,\n                args: ['tabHeader']\n            }], color: [{\n                type: Input\n            }], fitInkBarToContent: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }], stretchTabs: [{\n                type: Input,\n                args: [{ alias: 'mat-stretch-tabs', transform: booleanAttribute }]\n            }], dynamicHeight: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }], selectedIndex: [{\n                type: Input,\n                args: [{ transform: numberAttribute }]\n            }], headerPosition: [{\n                type: Input\n            }], animationDuration: [{\n                type: Input\n            }], contentTabIndex: [{\n                type: Input,\n                args: [{ transform: numberAttribute }]\n            }], disablePagination: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }], disableRipple: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }], preserveContent: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }], backgroundColor: [{\n                type: Input\n            }], ariaLabel: [{\n                type: Input,\n                args: ['aria-label']\n            }], ariaLabelledby: [{\n                type: Input,\n                args: ['aria-labelledby']\n            }], selectedIndexChange: [{\n                type: Output\n            }], focusChange: [{\n                type: Output\n            }], animationDone: [{\n                type: Output\n            }], selectedTabChange: [{\n                type: Output\n            }] } });\n/** A simple change event emitted on focus or selection changes. */\nclass MatTabChangeEvent {\n}\n\n// Increasing integer for generating unique ids for tab nav components.\nlet nextUniqueId = 0;\n/**\n * Navigation component matching the styles of the tab group header.\n * Provides anchored navigation with animated ink bar.\n */\nclass MatTabNav extends MatPaginatedTabHeader {\n    /** Whether the ink bar should fit its width to the size of the tab label content. */\n    get fitInkBarToContent() {\n        return this._fitInkBarToContent.value;\n    }\n    set fitInkBarToContent(value) {\n        this._fitInkBarToContent.next(value);\n        this._changeDetectorRef.markForCheck();\n    }\n    get animationDuration() {\n        return this._animationDuration;\n    }\n    set animationDuration(value) {\n        const stringValue = value + '';\n        this._animationDuration = /^\\d+$/.test(stringValue) ? value + 'ms' : stringValue;\n    }\n    /**\n     * Theme color of the background of the tab nav. This API is supported in M2 themes only, it\n     * has no effect in M3 themes.\n     *\n     * For information on applying color variants in M3, see\n     * https://material.angular.io/guide/theming#using-component-color-variants.\n     */\n    get backgroundColor() {\n        return this._backgroundColor;\n    }\n    set backgroundColor(value) {\n        const classList = this._elementRef.nativeElement.classList;\n        classList.remove('mat-tabs-with-background', `mat-background-${this.backgroundColor}`);\n        if (value) {\n            classList.add('mat-tabs-with-background', `mat-background-${value}`);\n        }\n        this._backgroundColor = value;\n    }\n    constructor(elementRef, dir, ngZone, changeDetectorRef, viewportRuler, platform, animationMode, defaultConfig) {\n        super(elementRef, changeDetectorRef, viewportRuler, dir, ngZone, platform, animationMode);\n        this._fitInkBarToContent = new BehaviorSubject(false);\n        /** Whether tabs should be stretched to fill the header. */\n        this.stretchTabs = true;\n        /** Whether the ripple effect is disabled or not. */\n        this.disableRipple = false;\n        /**\n         * Theme color of the nav bar. This API is supported in M2 themes only, it has\n         * no effect in M3 themes.\n         *\n         * For information on applying color variants in M3, see\n         * https://material.angular.io/guide/theming#using-component-color-variants.\n         */\n        this.color = 'primary';\n        this.disablePagination =\n            defaultConfig && defaultConfig.disablePagination != null\n                ? defaultConfig.disablePagination\n                : false;\n        this.fitInkBarToContent =\n            defaultConfig && defaultConfig.fitInkBarToContent != null\n                ? defaultConfig.fitInkBarToContent\n                : false;\n        this.stretchTabs =\n            defaultConfig && defaultConfig.stretchTabs != null ? defaultConfig.stretchTabs : true;\n    }\n    _itemSelected() {\n        // noop\n    }\n    ngAfterContentInit() {\n        this._inkBar = new MatInkBar(this._items);\n        // We need this to run before the `changes` subscription in parent to ensure that the\n        // selectedIndex is up-to-date by the time the super class starts looking for it.\n        this._items.changes.pipe(startWith(null), takeUntil(this._destroyed)).subscribe(() => {\n            this.updateActiveLink();\n        });\n        super.ngAfterContentInit();\n    }\n    ngAfterViewInit() {\n        if (!this.tabPanel && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n            throw new Error('A mat-tab-nav-panel must be specified via [tabPanel].');\n        }\n        super.ngAfterViewInit();\n    }\n    /** Notifies the component that the active link has been changed. */\n    updateActiveLink() {\n        if (!this._items) {\n            return;\n        }\n        const items = this._items.toArray();\n        for (let i = 0; i < items.length; i++) {\n            if (items[i].active) {\n                this.selectedIndex = i;\n                this._changeDetectorRef.markForCheck();\n                if (this.tabPanel) {\n                    this.tabPanel._activeTabId = items[i].id;\n                }\n                return;\n            }\n        }\n        // The ink bar should hide itself if no items are active.\n        this.selectedIndex = -1;\n        this._inkBar.hide();\n    }\n    _getRole() {\n        return this.tabPanel ? 'tablist' : this._elementRef.nativeElement.getAttribute('role');\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabNav, deps: [{ token: i0.ElementRef }, { token: i2.Directionality, optional: true }, { token: i0.NgZone }, { token: i0.ChangeDetectorRef }, { token: i1.ViewportRuler }, { token: i3.Platform }, { token: ANIMATION_MODULE_TYPE, optional: true }, { token: MAT_TABS_CONFIG, optional: true }], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"16.1.0\", version: \"18.2.0-next.2\", type: MatTabNav, isStandalone: true, selector: \"[mat-tab-nav-bar]\", inputs: { fitInkBarToContent: [\"fitInkBarToContent\", \"fitInkBarToContent\", booleanAttribute], stretchTabs: [\"mat-stretch-tabs\", \"stretchTabs\", booleanAttribute], animationDuration: \"animationDuration\", backgroundColor: \"backgroundColor\", disableRipple: [\"disableRipple\", \"disableRipple\", booleanAttribute], color: \"color\", tabPanel: \"tabPanel\" }, host: { properties: { \"attr.role\": \"_getRole()\", \"class.mat-mdc-tab-header-pagination-controls-enabled\": \"_showPaginationControls\", \"class.mat-mdc-tab-header-rtl\": \"_getLayoutDirection() == 'rtl'\", \"class.mat-mdc-tab-nav-bar-stretch-tabs\": \"stretchTabs\", \"class.mat-primary\": \"color !== \\\"warn\\\" && color !== \\\"accent\\\"\", \"class.mat-accent\": \"color === \\\"accent\\\"\", \"class.mat-warn\": \"color === \\\"warn\\\"\", \"class._mat-animation-noopable\": \"_animationMode === \\\"NoopAnimations\\\"\", \"style.--mat-tab-animation-duration\": \"animationDuration\" }, classAttribute: \"mat-mdc-tab-nav-bar mat-mdc-tab-header\" }, queries: [{ propertyName: \"_items\", predicate: i0.forwardRef(() => MatTabLink), descendants: true }], viewQueries: [{ propertyName: \"_tabListContainer\", first: true, predicate: [\"tabListContainer\"], descendants: true, static: true }, { propertyName: \"_tabList\", first: true, predicate: [\"tabList\"], descendants: true, static: true }, { propertyName: \"_tabListInner\", first: true, predicate: [\"tabListInner\"], descendants: true, static: true }, { propertyName: \"_nextPaginator\", first: true, predicate: [\"nextPaginator\"], descendants: true }, { propertyName: \"_previousPaginator\", first: true, predicate: [\"previousPaginator\"], descendants: true }], exportAs: [\"matTabNavBar\", \"matTabNav\"], usesInheritance: true, ngImport: i0, template: \"<!--\\n Note that this intentionally uses a `div` instead of a `button`, because it's not part of\\n the regular tabs flow and is only here to support mouse users. It should also not be focusable.\\n-->\\n<div class=\\\"mat-mdc-tab-header-pagination mat-mdc-tab-header-pagination-before\\\"\\n     #previousPaginator\\n     mat-ripple\\n     [matRippleDisabled]=\\\"_disableScrollBefore || disableRipple\\\"\\n     [class.mat-mdc-tab-header-pagination-disabled]=\\\"_disableScrollBefore\\\"\\n     (click)=\\\"_handlePaginatorClick('before')\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('before', $event)\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-mdc-tab-header-pagination-chevron\\\"></div>\\n</div>\\n\\n<div class=\\\"mat-mdc-tab-link-container\\\" #tabListContainer (keydown)=\\\"_handleKeydown($event)\\\">\\n  <div class=\\\"mat-mdc-tab-list\\\" #tabList (cdkObserveContent)=\\\"_onContentChanges()\\\">\\n    <div class=\\\"mat-mdc-tab-links\\\" #tabListInner>\\n      <ng-content></ng-content>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"mat-mdc-tab-header-pagination mat-mdc-tab-header-pagination-after\\\"\\n     #nextPaginator\\n     mat-ripple\\n     [matRippleDisabled]=\\\"_disableScrollAfter || disableRipple\\\"\\n     [class.mat-mdc-tab-header-pagination-disabled]=\\\"_disableScrollAfter\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('after', $event)\\\"\\n     (click)=\\\"_handlePaginatorClick('after')\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-mdc-tab-header-pagination-chevron\\\"></div>\\n</div>\\n\", styles: [\".mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-links{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-links,.mat-mdc-tab-links.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-focus-indicator::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab__ripple::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}\"], dependencies: [{ kind: \"directive\", type: MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }, { kind: \"directive\", type: CdkObserveContent, selector: \"[cdkObserveContent]\", inputs: [\"cdkObserveContentDisabled\", \"debounce\"], outputs: [\"cdkObserveContent\"], exportAs: [\"cdkObserveContent\"] }], changeDetection: i0.ChangeDetectionStrategy.Default, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabNav, decorators: [{\n            type: Component,\n            args: [{ selector: '[mat-tab-nav-bar]', exportAs: 'matTabNavBar, matTabNav', host: {\n                        '[attr.role]': '_getRole()',\n                        'class': 'mat-mdc-tab-nav-bar mat-mdc-tab-header',\n                        '[class.mat-mdc-tab-header-pagination-controls-enabled]': '_showPaginationControls',\n                        '[class.mat-mdc-tab-header-rtl]': \"_getLayoutDirection() == 'rtl'\",\n                        '[class.mat-mdc-tab-nav-bar-stretch-tabs]': 'stretchTabs',\n                        '[class.mat-primary]': 'color !== \"warn\" && color !== \"accent\"',\n                        '[class.mat-accent]': 'color === \"accent\"',\n                        '[class.mat-warn]': 'color === \"warn\"',\n                        '[class._mat-animation-noopable]': '_animationMode === \"NoopAnimations\"',\n                        '[style.--mat-tab-animation-duration]': 'animationDuration',\n                    }, encapsulation: ViewEncapsulation.None, changeDetection: ChangeDetectionStrategy.Default, standalone: true, imports: [MatRipple, CdkObserveContent], template: \"<!--\\n Note that this intentionally uses a `div` instead of a `button`, because it's not part of\\n the regular tabs flow and is only here to support mouse users. It should also not be focusable.\\n-->\\n<div class=\\\"mat-mdc-tab-header-pagination mat-mdc-tab-header-pagination-before\\\"\\n     #previousPaginator\\n     mat-ripple\\n     [matRippleDisabled]=\\\"_disableScrollBefore || disableRipple\\\"\\n     [class.mat-mdc-tab-header-pagination-disabled]=\\\"_disableScrollBefore\\\"\\n     (click)=\\\"_handlePaginatorClick('before')\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('before', $event)\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-mdc-tab-header-pagination-chevron\\\"></div>\\n</div>\\n\\n<div class=\\\"mat-mdc-tab-link-container\\\" #tabListContainer (keydown)=\\\"_handleKeydown($event)\\\">\\n  <div class=\\\"mat-mdc-tab-list\\\" #tabList (cdkObserveContent)=\\\"_onContentChanges()\\\">\\n    <div class=\\\"mat-mdc-tab-links\\\" #tabListInner>\\n      <ng-content></ng-content>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"mat-mdc-tab-header-pagination mat-mdc-tab-header-pagination-after\\\"\\n     #nextPaginator\\n     mat-ripple\\n     [matRippleDisabled]=\\\"_disableScrollAfter || disableRipple\\\"\\n     [class.mat-mdc-tab-header-pagination-disabled]=\\\"_disableScrollAfter\\\"\\n     (mousedown)=\\\"_handlePaginatorPress('after', $event)\\\"\\n     (click)=\\\"_handlePaginatorClick('after')\\\"\\n     (touchend)=\\\"_stopInterval()\\\">\\n  <div class=\\\"mat-mdc-tab-header-pagination-chevron\\\"></div>\\n</div>\\n\", styles: [\".mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-app-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-links{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-link-container .mat-mdc-tab-links{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-links,.mat-mdc-tab-links.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-app-surface-variant))}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background.mat-primary>.mat-mdc-tab-link-container .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-link-container .mat-mdc-tab-link:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-focus-indicator::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mdc-tab__ripple::before,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-link-container .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-nav-bar.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}\"] }]\n        }], ctorParameters: () => [{ type: i0.ElementRef }, { type: i2.Directionality, decorators: [{\n                    type: Optional\n                }] }, { type: i0.NgZone }, { type: i0.ChangeDetectorRef }, { type: i1.ViewportRuler }, { type: i3.Platform }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [ANIMATION_MODULE_TYPE]\n                }] }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [MAT_TABS_CONFIG]\n                }] }], propDecorators: { fitInkBarToContent: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }], stretchTabs: [{\n                type: Input,\n                args: [{ alias: 'mat-stretch-tabs', transform: booleanAttribute }]\n            }], animationDuration: [{\n                type: Input\n            }], _items: [{\n                type: ContentChildren,\n                args: [forwardRef(() => MatTabLink), { descendants: true }]\n            }], backgroundColor: [{\n                type: Input\n            }], disableRipple: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }], color: [{\n                type: Input\n            }], tabPanel: [{\n                type: Input\n            }], _tabListContainer: [{\n                type: ViewChild,\n                args: ['tabListContainer', { static: true }]\n            }], _tabList: [{\n                type: ViewChild,\n                args: ['tabList', { static: true }]\n            }], _tabListInner: [{\n                type: ViewChild,\n                args: ['tabListInner', { static: true }]\n            }], _nextPaginator: [{\n                type: ViewChild,\n                args: ['nextPaginator']\n            }], _previousPaginator: [{\n                type: ViewChild,\n                args: ['previousPaginator']\n            }] } });\n/**\n * Link inside a `mat-tab-nav-bar`.\n */\nclass MatTabLink extends InkBarItem {\n    /** Whether the link is active. */\n    get active() {\n        return this._isActive;\n    }\n    set active(value) {\n        if (value !== this._isActive) {\n            this._isActive = value;\n            this._tabNavBar.updateActiveLink();\n        }\n    }\n    /**\n     * Whether ripples are disabled on interaction.\n     * @docs-private\n     */\n    get rippleDisabled() {\n        return (this.disabled ||\n            this.disableRipple ||\n            this._tabNavBar.disableRipple ||\n            !!this.rippleConfig.disabled);\n    }\n    constructor(_tabNavBar, \n    /** @docs-private */ elementRef, globalRippleOptions, tabIndex, _focusMonitor, animationMode) {\n        super();\n        this._tabNavBar = _tabNavBar;\n        this.elementRef = elementRef;\n        this._focusMonitor = _focusMonitor;\n        this._destroyed = new Subject();\n        /** Whether the tab link is active or not. */\n        this._isActive = false;\n        /** Whether the tab link is disabled. */\n        this.disabled = false;\n        /** Whether ripples are disabled on the tab link. */\n        this.disableRipple = false;\n        this.tabIndex = 0;\n        /** Unique id for the tab. */\n        this.id = `mat-tab-link-${nextUniqueId++}`;\n        this.rippleConfig = globalRippleOptions || {};\n        this.tabIndex = parseInt(tabIndex) || 0;\n        if (animationMode === 'NoopAnimations') {\n            this.rippleConfig.animation = { enterDuration: 0, exitDuration: 0 };\n        }\n        _tabNavBar._fitInkBarToContent\n            .pipe(takeUntil(this._destroyed))\n            .subscribe(fitInkBarToContent => {\n            this.fitInkBarToContent = fitInkBarToContent;\n        });\n    }\n    /** Focuses the tab link. */\n    focus() {\n        this.elementRef.nativeElement.focus();\n    }\n    ngAfterViewInit() {\n        this._focusMonitor.monitor(this.elementRef);\n    }\n    ngOnDestroy() {\n        this._destroyed.next();\n        this._destroyed.complete();\n        super.ngOnDestroy();\n        this._focusMonitor.stopMonitoring(this.elementRef);\n    }\n    _handleFocus() {\n        // Since we allow navigation through tabbing in the nav bar, we\n        // have to update the focused index whenever the link receives focus.\n        this._tabNavBar.focusIndex = this._tabNavBar._items.toArray().indexOf(this);\n    }\n    _handleKeydown(event) {\n        if (event.keyCode === SPACE || event.keyCode === ENTER) {\n            if (this.disabled) {\n                event.preventDefault();\n            }\n            else if (this._tabNavBar.tabPanel) {\n                // Only prevent the default action on space since it can scroll the page.\n                // Don't prevent enter since it can break link navigation.\n                if (event.keyCode === SPACE) {\n                    event.preventDefault();\n                }\n                this.elementRef.nativeElement.click();\n            }\n        }\n    }\n    _getAriaControls() {\n        return this._tabNavBar.tabPanel\n            ? this._tabNavBar.tabPanel?.id\n            : this.elementRef.nativeElement.getAttribute('aria-controls');\n    }\n    _getAriaSelected() {\n        if (this._tabNavBar.tabPanel) {\n            return this.active ? 'true' : 'false';\n        }\n        else {\n            return this.elementRef.nativeElement.getAttribute('aria-selected');\n        }\n    }\n    _getAriaCurrent() {\n        return this.active && !this._tabNavBar.tabPanel ? 'page' : null;\n    }\n    _getRole() {\n        return this._tabNavBar.tabPanel ? 'tab' : this.elementRef.nativeElement.getAttribute('role');\n    }\n    _getTabIndex() {\n        if (this._tabNavBar.tabPanel) {\n            return this._isActive && !this.disabled ? 0 : -1;\n        }\n        else {\n            return this.disabled ? -1 : this.tabIndex;\n        }\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabLink, deps: [{ token: MatTabNav }, { token: i0.ElementRef }, { token: MAT_RIPPLE_GLOBAL_OPTIONS, optional: true }, { token: 'tabindex', attribute: true }, { token: i4.FocusMonitor }, { token: ANIMATION_MODULE_TYPE, optional: true }], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"16.1.0\", version: \"18.2.0-next.2\", type: MatTabLink, isStandalone: true, selector: \"[mat-tab-link], [matTabLink]\", inputs: { active: [\"active\", \"active\", booleanAttribute], disabled: [\"disabled\", \"disabled\", booleanAttribute], disableRipple: [\"disableRipple\", \"disableRipple\", booleanAttribute], tabIndex: [\"tabIndex\", \"tabIndex\", (value) => (value == null ? 0 : numberAttribute(value))], id: \"id\" }, host: { listeners: { \"focus\": \"_handleFocus()\", \"keydown\": \"_handleKeydown($event)\" }, properties: { \"attr.aria-controls\": \"_getAriaControls()\", \"attr.aria-current\": \"_getAriaCurrent()\", \"attr.aria-disabled\": \"disabled\", \"attr.aria-selected\": \"_getAriaSelected()\", \"attr.id\": \"id\", \"attr.tabIndex\": \"_getTabIndex()\", \"attr.role\": \"_getRole()\", \"class.mat-mdc-tab-disabled\": \"disabled\", \"class.mdc-tab--active\": \"active\" }, classAttribute: \"mdc-tab mat-mdc-tab-link mat-mdc-focus-indicator\" }, exportAs: [\"matTabLink\"], usesInheritance: true, ngImport: i0, template: \"<span class=\\\"mdc-tab__ripple\\\"></span>\\n\\n<div\\n  class=\\\"mat-mdc-tab-ripple\\\"\\n  mat-ripple\\n  [matRippleTrigger]=\\\"elementRef.nativeElement\\\"\\n  [matRippleDisabled]=\\\"rippleDisabled\\\"></div>\\n\\n<span class=\\\"mdc-tab__content\\\">\\n  <span class=\\\"mdc-tab__text-label\\\">\\n    <ng-content></ng-content>\\n  </span>\\n</span>\\n\\n\", styles: [\".mat-mdc-tab-link{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab-link.mdc-tab{flex-grow:0}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab-link:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab-link:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab-link.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab-link.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab-link.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab-link .mdc-tab__ripple::before{content:\\\"\\\";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab-link .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab-link:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab-link.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab-link.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab-link .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header.mat-mdc-tab-nav-bar-stretch-tabs .mat-mdc-tab-link{flex-grow:1}.mat-mdc-tab-link::before{margin:5px}@media(max-width: 599px){.mat-mdc-tab-link{min-width:72px}}\"], dependencies: [{ kind: \"directive\", type: MatRipple, selector: \"[mat-ripple], [matRipple]\", inputs: [\"matRippleColor\", \"matRippleUnbounded\", \"matRippleCentered\", \"matRippleRadius\", \"matRippleAnimation\", \"matRippleDisabled\", \"matRippleTrigger\"], exportAs: [\"matRipple\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabLink, decorators: [{\n            type: Component,\n            args: [{ selector: '[mat-tab-link], [matTabLink]', exportAs: 'matTabLink', changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, host: {\n                        'class': 'mdc-tab mat-mdc-tab-link mat-mdc-focus-indicator',\n                        '[attr.aria-controls]': '_getAriaControls()',\n                        '[attr.aria-current]': '_getAriaCurrent()',\n                        '[attr.aria-disabled]': 'disabled',\n                        '[attr.aria-selected]': '_getAriaSelected()',\n                        '[attr.id]': 'id',\n                        '[attr.tabIndex]': '_getTabIndex()',\n                        '[attr.role]': '_getRole()',\n                        '[class.mat-mdc-tab-disabled]': 'disabled',\n                        '[class.mdc-tab--active]': 'active',\n                        '(focus)': '_handleFocus()',\n                        '(keydown)': '_handleKeydown($event)',\n                    }, standalone: true, imports: [MatRipple], template: \"<span class=\\\"mdc-tab__ripple\\\"></span>\\n\\n<div\\n  class=\\\"mat-mdc-tab-ripple\\\"\\n  mat-ripple\\n  [matRippleTrigger]=\\\"elementRef.nativeElement\\\"\\n  [matRippleDisabled]=\\\"rippleDisabled\\\"></div>\\n\\n<span class=\\\"mdc-tab__content\\\">\\n  <span class=\\\"mdc-tab__text-label\\\">\\n    <ng-content></ng-content>\\n  </span>\\n</span>\\n\\n\", styles: [\".mat-mdc-tab-link{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-app-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-app-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-tab-link.mdc-tab{flex-grow:0}.mat-mdc-tab-link .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab-link:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab-link:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab-link.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab-link.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab-link.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-app-primary))}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-app-on-surface))}.mat-mdc-tab-link.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-app-primary))}.mat-mdc-tab-link.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab-link.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab-link.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab-link .mdc-tab__ripple::before{content:\\\"\\\";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-link .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-app-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab-link .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab-link:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab-link.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab-link.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab-link .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-app-on-surface))}.mat-mdc-tab-header.mat-mdc-tab-nav-bar-stretch-tabs .mat-mdc-tab-link{flex-grow:1}.mat-mdc-tab-link::before{margin:5px}@media(max-width: 599px){.mat-mdc-tab-link{min-width:72px}}\"] }]\n        }], ctorParameters: () => [{ type: MatTabNav }, { type: i0.ElementRef }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [MAT_RIPPLE_GLOBAL_OPTIONS]\n                }] }, { type: undefined, decorators: [{\n                    type: Attribute,\n                    args: ['tabindex']\n                }] }, { type: i4.FocusMonitor }, { type: undefined, decorators: [{\n                    type: Optional\n                }, {\n                    type: Inject,\n                    args: [ANIMATION_MODULE_TYPE]\n                }] }], propDecorators: { active: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }], disabled: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }], disableRipple: [{\n                type: Input,\n                args: [{ transform: booleanAttribute }]\n            }], tabIndex: [{\n                type: Input,\n                args: [{\n                        transform: (value) => (value == null ? 0 : numberAttribute(value)),\n                    }]\n            }], id: [{\n                type: Input\n            }] } });\n/**\n * Tab panel component associated with MatTabNav.\n */\nclass MatTabNavPanel {\n    constructor() {\n        /** Unique id for the tab panel. */\n        this.id = `mat-tab-nav-panel-${nextUniqueId++}`;\n    }\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabNavPanel, deps: [], target: i0.FactoryTarget.Component }); }\n    static { this.cmp = i0.ngDeclareComponent({ minVersion: \"14.0.0\", version: \"18.2.0-next.2\", type: MatTabNavPanel, isStandalone: true, selector: \"mat-tab-nav-panel\", inputs: { id: \"id\" }, host: { attributes: { \"role\": \"tabpanel\" }, properties: { \"attr.aria-labelledby\": \"_activeTabId\", \"attr.id\": \"id\" }, classAttribute: \"mat-mdc-tab-nav-panel\" }, exportAs: [\"matTabNavPanel\"], ngImport: i0, template: '<ng-content></ng-content>', isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabNavPanel, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'mat-tab-nav-panel',\n                    exportAs: 'matTabNavPanel',\n                    template: '<ng-content></ng-content>',\n                    host: {\n                        '[attr.aria-labelledby]': '_activeTabId',\n                        '[attr.id]': 'id',\n                        'class': 'mat-mdc-tab-nav-panel',\n                        'role': 'tabpanel',\n                    },\n                    encapsulation: ViewEncapsulation.None,\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    standalone: true,\n                }]\n        }], propDecorators: { id: [{\n                type: Input\n            }] } });\n\nclass MatTabsModule {\n    static { this.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabsModule, deps: [], target: i0.FactoryTarget.NgModule }); }\n    static { this.mod = i0.ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabsModule, imports: [MatCommonModule,\n            MatTabContent,\n            MatTabLabel,\n            MatTab,\n            MatTabGroup,\n            MatTabNav,\n            MatTabNavPanel,\n            MatTabLink], exports: [MatCommonModule,\n            MatTabContent,\n            MatTabLabel,\n            MatTab,\n            MatTabGroup,\n            MatTabNav,\n            MatTabNavPanel,\n            MatTabLink] }); }\n    static { this.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabsModule, imports: [MatCommonModule, MatCommonModule] }); }\n}\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"18.2.0-next.2\", ngImport: i0, type: MatTabsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        MatCommonModule,\n                        MatTabContent,\n                        MatTabLabel,\n                        MatTab,\n                        MatTabGroup,\n                        MatTabNav,\n                        MatTabNavPanel,\n                        MatTabLink,\n                    ],\n                    exports: [\n                        MatCommonModule,\n                        MatTabContent,\n                        MatTabLabel,\n                        MatTab,\n                        MatTabGroup,\n                        MatTabNav,\n                        MatTabNavPanel,\n                        MatTabLink,\n                    ],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_TAB, MAT_TABS_CONFIG, MAT_TAB_CONTENT, MAT_TAB_GROUP, MAT_TAB_LABEL, MatInkBar, MatPaginatedTabHeader, MatTab, MatTabBody, MatTabBodyPortal, MatTabChangeEvent, MatTabContent, MatTabGroup, MatTabHeader, MatTabLabel, MatTabLabelWrapper, MatTabLink, MatTabNav, MatTabNavPanel, MatTabsModule, _MAT_INK_BAR_POSITIONER, _MAT_INK_BAR_POSITIONER_FACTORY, matTabsAnimations };\n","import { Component, Inject, Output, EventEmitter, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { Observable } from 'rxjs';\n\nimport { AsyncHandler, DialogEvent, HashMap, unique } from '@placeos/common';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringOrder } from './catering-order.class';\nimport { CateringOption } from './catering.interfaces';\nimport { OrganisationService } from '@placeos/organisation';\nimport { cateringItemAvailable } from './utilities';\nimport { AttachedResourceRuleset } from '@placeos/components';\n\nexport interface CateringOrderModalData {\n    order: CateringOrder;\n    code: string;\n    menu: Observable<CateringItem[]>;\n    loading: Observable<boolean>;\n    getCateringConfig: (_: string) => Promise<AttachedResourceRuleset[]>;\n    selectOptions: (_: CateringOption[]) => Promise<CateringOption[]>;\n}\n\n// TODO: Split template into 2 children components. Order menu and Order Confirm;\n\n@Component({\n    selector: 'app-catering-order-modal',\n    template: `\n        <div class=\"main min-w-[20rem]\" *ngIf=\"!loading; else load_state\">\n            <ng-container *ngIf=\"!show_order_details; else order_details\">\n                <mat-tab-group>\n                    <ng-container *ngFor=\"let cat of categories\">\n                        <mat-tab\n                            *ngIf=\"(menu_items || {})[cat].length\"\n                            [label]=\"cat\"\n                        >\n                            <div class=\"list\">\n                                <div\n                                    item\n                                    class=\"flex items-center p-2 border-b border-base-200\"\n                                    *ngFor=\"let item of (menu_items || {})[cat]\"\n                                >\n                                    <div class=\"flex-1 w-1/2\">\n                                        <div class=\"flex-1 w-1/2\">\n                                            {{ item.name }}\n                                        </div>\n                                        <div\n                                            class=\"text-xs no-underline\"\n                                            *ngIf=\"item.options.length\"\n                                        >\n                                            Options Available\n                                        </div>\n                                    </div>\n                                    <div\n                                        class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                                    >\n                                        {{\n                                            item.unit_price / 100\n                                                | currency: code\n                                        }}\n                                    </div>\n                                    <a-counter\n                                        ngDefaultControl\n                                        [ngModel]=\"item.quantity\"\n                                        (ngModelChange)=\"\n                                            updateItemQuantity(item, $event)\n                                        \"\n                                        *ngIf=\"!item.options.length\"\n                                    ></a-counter>\n                                    <div\n                                        class=\"flex items-center\"\n                                        *ngIf=\"item.options.length\"\n                                    >\n                                        <div\n                                            [matTooltip]=\"\n                                                item.quantity\n                                                    ? 'Items with options must be removed from order confirmation page'\n                                                    : ''\n                                            \"\n                                        >\n                                            <button\n                                                icon\n                                                matRipple\n                                                [disabled]=\"true\"\n                                            >\n                                                <app-icon>remove</app-icon>\n                                            </button>\n                                        </div>\n                                        <div\n                                            class=\"count h-12 w-12 flex items-center justify-center\"\n                                        >\n                                            {{ item.quantity }}\n                                        </div>\n                                        <button\n                                            icon\n                                            matRipple\n                                            (click)=\"addItem(item)\"\n                                        >\n                                            <app-icon>add</app-icon>\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </mat-tab>\n                    </ng-container>\n                </mat-tab-group>\n            </ng-container>\n        </div>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex items-center justify-center space-x-2 p-2 border-t border-base-200\"\n        >\n            <ng-container *ngIf=\"!show_order_details; else order_actions\">\n                <button btn matRipple class=\"inverse\" mat-dialog-close>\n                    Cancel\n                </button>\n                <button\n                    confirm\n                    btn\n                    matRipple\n                    [disabled]=\"!order.item_count\"\n                    [matBadge]=\"order.item_count\"\n                    [matBadgeHidden]=\"!order.item_count\"\n                    matBadgeColor=\"warn\"\n                    (click)=\"show_order_details = true\"\n                >\n                    Confirm\n                </button>\n            </ng-container>\n            <ng-template #order_actions>\n                <button\n                    matRipple\n                    class=\"inverse\"\n                    (click)=\"show_order_details = false\"\n                >\n                    Back\n                </button>\n                <button save btn matRipple (click)=\"saveOrder()\">\n                    Save Order\n                </button>\n            </ng-template>\n        </footer>\n        <ng-template #load_state>\n            <div class=\"flex flex-col w-64 p-8 items-center space-y-2\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </div>\n        </ng-template>\n        <ng-template #order_details>\n            <header class=\"h-[3.25rem]\">\n                <h3>Confirm Order</h3>\n            </header>\n            <div class=\"list\">\n                <div\n                    item\n                    class=\"flex items-center p-2 border-b border-base-200\"\n                    *ngFor=\"let item of order.items\"\n                >\n                    <div class=\"flex-1 w-1/2\">\n                        <div class=\"flex-1 w-1/2\">{{ item.name }}</div>\n                        <div\n                            class=\"text-xs underline\"\n                            *ngIf=\"item.options.length\"\n                            [matTooltip]=\"optionsFor(item)\"\n                        >\n                            {{ item.options.length }} option{{\n                                item.options.length === 1 ? '' : 's'\n                            }}\n                            selected\n                        </div>\n                    </div>\n                    <div\n                        class=\"bg-primary text-xs rounded px-4 py-2 mx-2 text-white font-medium\"\n                    >\n                        {{ item.total_cost / 100 | currency: code }}\n                    </div>\n                    <a-counter\n                        [ngModel]=\"item.quantity\"\n                        (ngModelChange)=\"updateItemQuantity(item, $event)\"\n                    ></a-counter>\n                </div>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            .list {\n                height: 24em;\n                min-width: 32em;\n                max-width: calc(100vw - 1em);\n            }\n\n            footer button {\n                min-width: 12em;\n            }\n\n            input {\n                position: relative;\n                width: 100%;\n                padding: 1em;\n                border: none;\n                border-radius: 0 !important;\n                border-top: 1px solid #ccc;\n                border-bottom: 1px solid #ccc;\n                outline: none;\n                font-size: 1em;\n            }\n\n            input:focus {\n                border: none;\n                border-top: 2px solid var(--s);\n                border-bottom: 2px solid var(--s);\n                box-shadow: none;\n            }\n\n            input.error::placeholder {\n                color: rgba(var(--error), 0.45);\n            }\n        `,\n    ],\n})\nexport class CateringOrderModalComponent\n    extends AsyncHandler\n    implements OnInit\n{\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Whether changes are being saved */\n    public loading = '';\n    /** Current order */\n    public order: CateringOrder;\n    /** Name of the active category */\n    public category: string;\n    /** Whether order details should be shown */\n    public show_order_details: boolean;\n    /** Catering rules for selected space */\n    public rules: readonly AttachedResourceRuleset[];\n    /** List of menu items to show */\n    public menu_items: HashMap<CateringItem[]> = {};\n    /** List of categories for the active menu */\n    public categories: string[] = [];\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        @Inject(MAT_DIALOG_DATA) private _data: CateringOrderModalData\n    ) {\n        super();\n        this.loading = 'Loading menu...';\n    }\n\n    public async ngOnInit() {\n        this.loading = 'Loading menu...';\n        this.order = new CateringOrder(this._data.order);\n        this.rules = await this._data.getCateringConfig(\n            this.order.event?.space?.level?.parent_id\n        );\n        this._data.menu.subscribe((list) => {\n            this.loading = 'Loading menu...';\n            const categories = unique(list.map((item) => item.category));\n            const map = {};\n            for (const cat of categories) {\n                map[cat] = list.filter((item) => {\n                    return (\n                        item.category === cat &&\n                        cateringItemAvailable(\n                            item,\n                            this.rules as any,\n                            this.order.event\n                        )\n                    );\n                });\n            }\n            this.categories = categories;\n            this.menu_items = map;\n            this.updateMenuQuantities();\n            this.timeout('clear_loading', () => (this.loading = ''), 1000);\n        });\n    }\n\n    public addItem(item: CateringItem, choose_options: boolean = true) {\n        const old_item = this.order.items.find(\n            (itm) =>\n                itm.id === item.id &&\n                itm.options.length ===\n                    itm.options.reduce(\n                        (c, o) =>\n                            c +\n                            (item.options.find((opt) => o.id === opt.id)\n                                ? 1\n                                : 0),\n                        0\n                    )\n        );\n        if (choose_options && item.options?.length) {\n            this._data.selectOptions(item.options).then((options) => {\n                const new_item = new CateringItem({ ...item, options });\n                this.addItem(new_item, false);\n            });\n        } else if (old_item) {\n            this.order = new CateringOrder({\n                ...this.order,\n                items: this.order.items\n                    .filter(\n                        (i) =>\n                            !(\n                                i.id === item.id &&\n                                i.options_string === item.options_string\n                            )\n                    )\n                    .concat([\n                        new CateringItem({\n                            ...item,\n                            quantity: old_item.quantity + 1,\n                        }),\n                    ]),\n            });\n        } else {\n            this.order = new CateringOrder({\n                ...this.order,\n                items: this.order.items.concat([\n                    new CateringItem({ ...item, quantity: 1 }),\n                ]),\n            });\n        }\n        this.updateMenuQuantities();\n    }\n\n    public removeItem(item: CateringItem) {\n        this.order = new CateringOrder({\n            ...this.order,\n            items: this.order.items.filter(\n                (_) =>\n                    _.id !== item.id && _.options_string === item.options_string\n            ),\n        });\n        this.updateMenuQuantities();\n    }\n\n    public updateItemQuantity(item: CateringItem, amount: number) {\n        const old_item = this.order.items.find(\n            (itm) =>\n                itm.id === item.id && itm.options_string === item.options_string\n        );\n        let items = [...this.order.items];\n        if (old_item) {\n            items = this.order.items\n                .filter(\n                    (i) =>\n                        !(\n                            i.id === item.id &&\n                            i.options_string === item.options_string\n                        )\n                )\n                .concat([new CateringItem({ ...item, quantity: amount })]);\n        } else {\n            items = this.order.items.concat([\n                new CateringItem({ ...item, quantity: amount }),\n            ]);\n        }\n        items.sort((a, b) => a.name.localeCompare(b.name));\n        this.order = new CateringOrder({\n            ...this.order,\n            items,\n        });\n        this.updateMenuQuantities();\n    }\n\n    public updateMenuQuantities() {\n        for (const cat in this.menu_items) {\n            for (const item of this.menu_items[cat]) {\n                (item as any).quantity = this.order.items.reduce(\n                    (c, i) => (i.id === item.id ? c + i.quantity : c),\n                    0\n                );\n            }\n        }\n    }\n\n    public optionsFor(item: CateringItem) {\n        return item.options.map((i) => i.name).join('\\n');\n    }\n\n    public saveOrder() {\n        this.event.emit({\n            reason: 'done',\n            metadata: { order: this.order },\n        });\n    }\n\n    public confirmOrder() {\n        this.show_order_details = true;\n    }\n}\n","import { Component, Inject, Output, EventEmitter } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { DialogEvent, HashMap } from 'libs/common/src/lib/types';\nimport { unique } from 'libs/common/src/lib/general';\n\nimport { CateringOption, CateringOptionGroup } from './catering.interfaces';\n\nexport interface CateringOrderOptionsModalData {\n    code: string;\n    options: CateringOption[];\n}\n\n@Component({\n    selector: 'app-catering-options-modal',\n    template: `\n        <header>\n            <h3>Select options</h3>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"overflow-auto\">\n            <div\n                class=\"pt-1 pb-2 border-b border-base-200\"\n                *ngFor=\"let group of groups\"\n                [attr.group]=\"group.name\"\n            >\n                <div class=\"font-medium p-2 capitalize\">{{ group.name }}</div>\n                <div class=\"flex flex-col pl-6\">\n                    <ng-container *ngIf=\"!group.multiple; else multi_options\">\n                        <mat-radio-group\n                            class=\"flex flex-col\"\n                            aria-label=\"Select an option\"\n                            ngModel\n                            (ngModelChange)=\"updateGroupOption(group, $event)\"\n                        >\n                            <mat-radio-button class=\"my-1 mx-0\" value=\"\">\n                                <span class=\"font-medium p-2\">None</span>\n                            </mat-radio-button>\n                            <mat-radio-button\n                                class=\"my-1 mx-0\"\n                                *ngFor=\"let opt of group?.options\"\n                                [value]=\"opt.id\"\n                            >\n                                <div class=\"flex items-center justify-center\">\n                                    <div class=\"font-medium p-2 flex-1 w-1/2\">\n                                        {{ opt.name }}\n                                    </div>\n                                    <div\n                                        class=\"opacity-60 text-xs\"\n                                        *ngIf=\"opt.unit_price\"\n                                    >\n                                        +{{\n                                            opt.unit_price / 100\n                                                | currency: code\n                                        }}\n                                    </div>\n                                </div>\n                            </mat-radio-button>\n                        </mat-radio-group>\n                    </ng-container>\n                    <ng-template #multi_options>\n                        <mat-checkbox\n                            *ngFor=\"let opt of group?.options\"\n                            [(ngModel)]=\"option_state[opt.id]\"\n                        >\n                            <div class=\"flex items-center justify-center\">\n                                <div class=\"font-medium p-2 flex-1 w-1/2\">\n                                    {{ opt.name }}\n                                </div>\n                                <div\n                                    class=\"opacity-60 text-xs\"\n                                    *ngIf=\"opt.unit_price\"\n                                >\n                                    +{{ opt.unit_price / 100 | currency: code }}\n                                </div>\n                            </div>\n                        </mat-checkbox>\n                    </ng-template>\n                </div>\n            </div>\n        </main>\n        <footer class=\"p-2\">\n            <button btn matRipple class=\"w-32\" (click)=\"saveOptions()\">\n                Save\n            </button>\n        </footer>\n    `,\n    styles: [\n        `\n            main {\n                min-height: 24em;\n                width: 24rem;\n                max-width: calc(100vw - 2rem);\n            }\n        `,\n    ],\n})\nexport class CateringOrderOptionsModalComponent {\n    /** Emitter for events on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** List of option groups */\n    public readonly groups: CateringOptionGroup[];\n    /** Mapping of options to their active state */\n    public option_state: HashMap<boolean> = {};\n    public readonly code = this._data.code;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: CateringOrderOptionsModalData\n    ) {\n        const groups = unique(\n            this._data.options.map((i) => i.group || 'Other')\n        );\n        const group_list = [];\n        for (const group of groups) {\n            const options = this._data.options.filter((i) => i.group === group);\n            group_list.push({\n                name: group,\n                multiple: !!options.find((i) => i.multiple),\n                options,\n            });\n        }\n        this.groups = group_list;\n    }\n\n    public updateGroupOption(group: CateringOptionGroup, id: string) {\n        for (const option of group.options) {\n            this.option_state[option.id] = option.id === id;\n        }\n    }\n\n    public saveOptions() {\n        const options = this._data.options.filter(\n            (opt) => this.option_state[opt.id]\n        );\n        this.event.emit({ reason: 'done', metadata: { options } });\n    }\n}\n","import { Component, EventEmitter, Output } from '@angular/core';\nimport { csvToJson, DialogEvent, downloadFile } from '@placeos/common';\nimport { CateringItem } from './catering-item.class';\n\n@Component({\n    selector: 'catering-import-menu-modal',\n    template: `\n        <header class=\"h-12 bg-primary flex items-center justify-between px-4\">\n            <h2>Import Catering Menu</h2>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main *ngIf=\"!loading; else load_state\">\n            <div\n                class=\"relative flex flex-col items-center justify-center space-y-2 h-[24rem] w-[24rem] border-4 border-base-200 border-dashed rounded-xl hover:bg-base-200 m-4 p-4 cursor-pointer\"\n            >\n                <app-icon class=\"text-4xl\">upload</app-icon>\n                <p>Click to select file or Drag and drop files</p>\n                <input\n                    type=\"file\"\n                    class=\"absolute inset-0 opacity-0\"\n                    (change)=\"handleFileEvent($event)\"\n                />\n            </div>\n            <div class=\"flex items-center justify-center px-4 pb-4\">\n                <button\n                    matRipple\n                    class=\"clear underline w-48\"\n                    (click)=\"downloadTemplate()\"\n                >\n                    Download Template\n                </button>\n            </div>\n        </main>\n        <ng-template #load_state>\n            <main\n                class=\"flex flex-col items-center justify-center space-y-2 p-8 h-[24rem] w-[24rem]\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class CateringImportMenuModalComponent {\n    @Output() public event = new EventEmitter<DialogEvent>();\n    public loading: string;\n\n    /** Upload the image to the cloud */\n    public handleFileEvent(event: DragEvent) {\n        this.loading = 'Processing menu data...';\n        const element: HTMLInputElement = event.target as any;\n        if (!element?.files) return (this.loading = '');\n        const files: FileList = element.files;\n        if (!files.length) return (this.loading = '');\n        const file = files[0];\n        const fileReader = new FileReader();\n        fileReader.addEventListener('loadend', (e: any) => {\n            const contents = e.target.result;\n            const data = csvToJson(contents);\n            this.loading = '';\n            this.event.emit({\n                reason: 'done',\n                metadata: data\n                    .filter((_) => (_.type || '').toLowerCase() === 'item')\n                    .map(\n                        (i) =>\n                            new CateringItem({\n                                ...i,\n                                options: data\n                                    .filter(\n                                        (_) =>\n                                            (_.type || '').toLowerCase() ===\n                                                'option' && _.tags === i.id\n                                    )\n                                    .map((_) => ({\n                                        id: _.id,\n                                        name: _.name,\n                                        group: _.category,\n                                        multiple: _.multiple,\n                                        unit_price: _.unit_price,\n                                    })),\n                            })\n                    ),\n            });\n        });\n        fileReader.readAsText(file);\n    }\n\n    public downloadTemplate() {\n        const template = `ID,Type,Name,Unit Price,Category,Description,Tags,Multiple\nitem-1,item,Coffee,200,Drink,Wake Up,,\noption-1,option,1 Sugar,20,Sugars,,item-1,false`;\n        downloadFile('import-menu-template.csv', template);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n    updateMetadata,\n    showMetadata,\n    PlaceMetadata,\n} from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    first,\n    map,\n    shareReplay,\n    switchMap,\n    take,\n    tap,\n} from 'rxjs/operators';\n\nimport {\n    AsyncHandler,\n    flatten,\n    notifyError,\n    notifySuccess,\n    openConfirmModal,\n    SettingsService,\n    unique,\n} from '@placeos/common';\nimport { Building, OrganisationService } from '@placeos/organisation';\n\nimport {\n    CateringItemModalComponent,\n    CateringItemModalData,\n} from './catering-item-modal.component';\nimport {\n    CateringItemOptionModalComponent,\n    CateringItemOptionModalData,\n} from './catering-option-modal.component';\nimport {\n    AttachedResourceConfigModalComponent,\n    AttachedResourceRuleset,\n    AttachedResourceConfigModalData,\n} from '@placeos/components';\nimport { CateringItem } from './catering-item.class';\nimport { CateringOrder } from './catering-order.class';\nimport {\n    CateringOrderModalComponent,\n    CateringOrderModalData,\n} from './catering-order-modal.component';\nimport { CateringOption } from './catering.interfaces';\nimport {\n    CateringOrderOptionsModalComponent,\n    CateringOrderOptionsModalData,\n} from './catering-order-options-modal.component';\nimport { CateringImportMenuModalComponent } from './catering-import-menu-modal.component';\n\nexport interface CateringSettings {\n    require_notes?: boolean;\n    charge_codes?: string[];\n    disabled_rooms?: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class CateringStateService extends AsyncHandler {\n    private _updated = new BehaviorSubject(0);\n    /** Active menu */\n    private _menu = new BehaviorSubject<CateringItem[]>([]);\n    /** Whether the menu for the active building is loading */\n    private _loading = new BehaviorSubject<boolean>(false);\n    /** Currency code for the active building */\n    private _currency = new BehaviorSubject<string>('USD');\n\n    private _change = new BehaviorSubject(0);\n    /** Observable for the active menu */\n    public readonly menu = this._menu.asObservable();\n    /** Observable for whether the menu for the active building is loadingg */\n    public readonly loading = this._loading.asObservable();\n    /** Observable for the currency code of the active building */\n    public readonly currency = this._currency.asObservable();\n\n    public readonly settings = combineLatest([\n        this._org.active_building,\n        this._change,\n    ]).pipe(\n        filter(([_]) => !!_),\n        switchMap(([_]) =>\n            showMetadata(_.id, 'catering-settings').pipe(\n                catchError((_) => of({} as PlaceMetadata))\n            )\n        ),\n        map((_) => (_.details as CateringSettings) || {}),\n        tap((_) =>\n            this._settings.post('require_catering_notes', !!_?.require_notes)\n        ),\n        shareReplay(1)\n    );\n\n    public readonly charge_codes = this.settings.pipe(\n        map((_) => _.charge_codes || [])\n    );\n    public readonly availability = this.settings.pipe(\n        map((_) => _.disabled_rooms || [])\n    );\n\n    public zone = '';\n\n    public get is_editable() {\n        return !this.zone || this.zone === this._org.building?.id;\n    }\n\n    public get categories() {\n        const menu = this._menu.getValue();\n        return unique(menu.map((i) => i.category));\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _dialog: MatDialog,\n        private _settings: SettingsService\n    ) {\n        super();\n        this.subscription(\n            'building',\n            this._org.active_building.subscribe(async (bld: Building) => {\n                if (bld) {\n                    const menu = (await this.getCateringForZone(bld.id)).map(\n                        (i) => new CateringItem(i)\n                    );\n                    this._currency.next(\n                        this._settings.get('app.currency') ||\n                            bld.currency ||\n                            'USD'\n                    );\n                    this._menu.next(menu);\n                }\n            })\n        );\n    }\n\n    /**\n     * Create/Edit catering order\n     * @param order Order to manipulate\n     */\n    public async manageCateringOrder(order: CateringOrder) {\n        const ref = this._dialog.open<\n            CateringOrderModalComponent,\n            CateringOrderModalData\n        >(CateringOrderModalComponent, {\n            data: {\n                code: this._currency.getValue(),\n                order,\n                menu: this.menu,\n                loading: this.loading,\n                getCateringConfig: (_) => this.getCateringConfig(_),\n                selectOptions: (_) => this.selectOptions(_),\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        ref.close();\n        return details?.metadata?.order || order;\n    }\n\n    public async addItem(item: CateringItem = new CateringItem()) {\n        const ref = this._dialog.open<\n            CateringItemModalComponent,\n            CateringItemModalData\n        >(CateringItemModalComponent, {\n            data: {\n                item,\n                categories: this.categories,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) {\n            menu.splice(index, 1, details.metadata.item);\n        } else {\n            menu.push(details.metadata.item);\n        }\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                ref.close();\n            },\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public updateItem(item: CateringItem) {\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) menu.splice(index, 1, item);\n        else menu.push(item);\n        this.updateMenu(this._org.building.id, menu).then(() =>\n            this._menu.next([...menu])\n        );\n    }\n\n    public async addOption(\n        item: CateringItem,\n        option: CateringOption = {} as any\n    ) {\n        const types = unique(item.options.map((i) => i.group));\n        const ref = this._dialog.open<\n            CateringItemOptionModalComponent,\n            CateringItemOptionModalData\n        >(CateringItemOptionModalComponent, {\n            data: {\n                parent: item,\n                option,\n                types,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        const menu = this._menu.getValue();\n        const index = menu.findIndex((itm) => itm.id === item.id);\n        if (index >= 0) {\n            menu.splice(index, 1, details.metadata.item);\n        } else {\n            menu.push(details.metadata.item);\n        }\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                ref.close();\n            },\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public async selectOptions(options: CateringOption[]) {\n        const ref = this._dialog.open<\n            CateringOrderOptionsModalComponent,\n            CateringOrderOptionsModalData\n        >(CateringOrderOptionsModalComponent, {\n            data: {\n                code: this._currency.getValue(),\n                options,\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return [];\n        ref.close();\n        return details.metadata.options;\n    }\n\n    public async deleteItem(item: CateringItem) {\n        const details = await openConfirmModal(\n            {\n                title: 'Delete Catering Item',\n                content: `Are you sure you wish to remove the catering item ${item.name} from the menu?`,\n                icon: {\n                    type: 'icon',\n                    class: 'material-icons',\n                    content: 'delete',\n                },\n            },\n            this._dialog\n        );\n        if (details.reason !== 'done') return;\n        details.loading('Removing catering item...');\n        const menu = this._menu.getValue().filter((itm) => item.id !== itm.id);\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                details.close();\n            },\n            () => details.loading('')\n        );\n    }\n\n    public async deleteOption(item: CateringItem, option: CateringOption) {\n        const details = await openConfirmModal(\n            {\n                title: 'Delete Catering Item Option',\n                content: `Are you sure you wish to remove the catering option \"${option.name}\" from \"${item.name}\"?`,\n                icon: {\n                    type: 'icon',\n                    class: 'material-icons',\n                    content: 'delete',\n                },\n            },\n            this._dialog\n        );\n        if (details.reason !== 'done') return;\n        details.loading('Removing catering item option...');\n        const menu = this._menu.getValue();\n        menu.splice(\n            menu.findIndex((itm) => itm.id === item.id),\n            1,\n            new CateringItem({\n                ...item,\n                options: item.options.filter((opt) => opt.id !== option.id),\n            })\n        );\n        this.updateMenu(this._org.building.id, menu).then(\n            () => {\n                this._menu.next([...menu]);\n                details.close();\n            },\n            () => details.loading('')\n        );\n    }\n\n    public async editConfig() {\n        const config = await this.getCateringConfig(this._org.building.id);\n        const { require_notes } = await this.settings.pipe(take(1)).toPromise();\n        const menu = this._menu.getValue();\n        const types = unique(flatten(menu.map((i) => [i.category, ...i.tags])));\n        const ref = this._dialog.open<\n            AttachedResourceConfigModalComponent,\n            AttachedResourceConfigModalData\n        >(AttachedResourceConfigModalComponent, {\n            data: {\n                config,\n                types,\n                require_notes,\n                saveNotes: (b) => this.saveSettings({ require_notes: b }),\n            },\n        });\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        this.updateConfig(this._org.building.id, details.metadata).then(\n            () => ref.close(),\n            () => (ref.componentInstance.loading = false)\n        );\n    }\n\n    public async importMenu() {\n        const ref = this._dialog.open(CateringImportMenuModalComponent);\n        const details = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details?.reason !== 'done') return;\n        ref.componentInstance.loading = 'Updating menu...';\n        const menu = this._menu.getValue();\n        const bld = this._org.building;\n        const updated_menu = unique(details.metadata.concat(menu), 'id');\n        await this.updateMenu(bld.id, updated_menu).catch((_) => {\n            notifyError('Error importing catering menu');\n            ref.close();\n            throw _;\n        });\n        notifySuccess(\n            `Successfully imported catering menu. ${details.metadata.length} item(s) added.`\n        );\n        ref.close();\n    }\n\n    private updateMenu(zone_id: string, menu: CateringItem[]) {\n        return updateMetadata(zone_id, {\n            id: zone_id,\n            name: 'catering',\n            details: menu,\n            description: `Catering menu for ${zone_id}`,\n        }).toPromise();\n    }\n\n    public async saveSettings(settings: CateringSettings) {\n        const old_settings = await this.settings.pipe(take(1)).toPromise();\n        const result = await updateMetadata(this._org.building.id, {\n            id: this._org.building.id,\n            name: 'catering-settings',\n            details: { ...old_settings, ...settings },\n            description: `Catering settings for ${this._org.building.id}`,\n        }).toPromise();\n        this._change.next(Date.now());\n        return result;\n    }\n\n    private async getCateringForZone(zone_id: string): Promise<CateringItem[]> {\n        const menu = (await showMetadata(zone_id, 'catering').toPromise())\n            .details;\n        return menu instanceof Array ? menu : [];\n    }\n\n    public async getCateringConfig(\n        zone_id: string = this._org.building.id\n    ): Promise<AttachedResourceRuleset[]> {\n        const rules = (\n            await showMetadata(zone_id, 'catering_config').toPromise()\n        ).details;\n        return rules instanceof Array ? (rules as any) : [];\n    }\n\n    private updateConfig(zone_id: string, config: AttachedResourceRuleset[]) {\n        return updateMetadata(zone_id, {\n            id: zone_id,\n            name: 'catering_config',\n            details: config,\n            description: `Catering menu config for ${zone_id}`,\n        }).toPromise();\n    }\n\n    public addItemToOrder(order: CateringOrder, new_item: CateringItem) {\n        let items = order.items;\n        const match = items.find(\n            (item) =>\n                item.id === new_item.id &&\n                new_item.options?.length ===\n                    item.options?.reduce(\n                        (c, o) =>\n                            c +\n                            (new_item.options.find((opt) => o.id === opt.id)\n                                ? 1\n                                : 0),\n                        0\n                    )\n        );\n        match\n            ? ((match as any).quantity += 1)\n            : (items = items.concat([\n                  new CateringItem({ ...new_item, quantity: 1 }),\n              ]));\n        const new_order = new CateringOrder({\n            ...order,\n            items,\n            event: null,\n        });\n        return new_order;\n    }\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { CateringItem, CateringStateService } from '@placeos/catering';\nimport { notifyError, notifySuccess } from '@placeos/common';\nimport { first, map } from 'rxjs/operators';\nimport { CheckinStateService } from './checkin-state.service';\n\n@Component({\n    selector: 'checkin-preferences',\n    template: `\n        <div\n            class=\"bg-base-100 rounded shadow overflow-hidden relative flex flex-col items-center w-[36rem] p-4\"\n        >\n            <h3 class=\"text-xl mb-2 w-full\">Would you like a drink?</h3>\n            <div class=\"w-full\">\n                <mat-form-field appearance=\"outline\" class=\"w-full\">\n                    <mat-select\n                        [(ngModel)]=\"beverage\"\n                        placeholder=\"Select beverage\"\n                    >\n                        <mat-option\n                            *ngFor=\"let item of menu | async\"\n                            [value]=\"item\"\n                        >\n                            {{ item.name }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <button btn matRipple class=\"w-32\" (click)=\"update()\">\n                {{ beverage ? 'Update' : 'Continue' }}\n            </button>\n            <a\n                icon\n                matRipple\n                class=\"absolute top-0 right-0\"\n                [routerLink]=\"['/welcome']\"\n            >\n                <app-icon>close</app-icon>\n            </a>\n        </div>\n    `,\n    styles: [\n        `\n            :host > div {\n                max-width: calc(100vw - 2rem);\n            }\n        `,\n    ],\n})\nexport class CheckinPreferencesComponent {\n    public beverage: CateringItem;\n\n    public readonly menu = this._catering.menu.pipe(\n        map((l) => {\n            return l.filter((_) =>\n                _.tags.find(\n                    (_) =>\n                        _.toLowerCase() === 'drink' ||\n                        _.toLowerCase() === 'drinks' ||\n                        _.toLowerCase() === 'beverage'\n                )\n            );\n        })\n    );\n\n    constructor(\n        private _router: Router,\n        private _checkin: CheckinStateService,\n        private _catering: CateringStateService\n    ) {}\n\n    public async update() {\n        if (!this.beverage) return this.next();\n        const event = await this._checkin.event\n            .pipe(first((_) => !!_))\n            .toPromise();\n        if (!event) return notifyError('Unable to load event data.');\n        // const order =\n        //     (event.ext('catering') ? event.ext('catering')[0] : null) ||\n        //     new CateringOrder();\n        // await updateEvent(\n        //     event.id,\n        //     new CalendarEvent({\n        //         ...event,\n        //         extension_data: {\n        //             ...event.extension_data,\n        //             catering: [\n        //                 ...(event.extension_data.catering?.filter(\n        //                     (_) => _.id !== order.id\n        //                 ) || []),\n        //                 new CateringOrder({\n        //                     ...order,\n        //                     items: [\n        //                         ...order.items,\n        //                         new CateringItem({\n        //                             ...this.beverage,\n        //                             quantity: 1,\n        //                         }),\n        //                     ],\n        //                 }),\n        //             ],\n        //         },\n        //     })\n        // ).toPromise();\n        notifySuccess('Successfully update event.');\n        this.next();\n    }\n\n    public next() {\n        this._router.navigate(['/welcome']);\n    }\n}\n","class e{constructor(a,b,c,d,f){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE;this._preferredCamera=\"environment\";this._maxScansPerSecond=25;this._lastScanTimestamp=-1;this._destroyed=this._flashOn=this._paused=this._active=!1;this.$video=a;this.$canvas=document.createElement(\"canvas\");c&&\"object\"===typeof c?this._onDecode=b:(c||d||f?console.warn(\"You're using a deprecated version of the QrScanner constructor which will be removed in the future\"):console.warn(\"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\"),\nthis._legacyOnDecode=b);b=\"object\"===typeof c?c:{};this._onDecodeError=b.onDecodeError||(\"function\"===typeof c?c:this._onDecodeError);this._calculateScanRegion=b.calculateScanRegion||(\"function\"===typeof d?d:this._calculateScanRegion);this._preferredCamera=b.preferredCamera||f||this._preferredCamera;this._legacyCanvasSize=\"number\"===typeof c?c:\"number\"===typeof d?d:this._legacyCanvasSize;this._maxScansPerSecond=b.maxScansPerSecond||this._maxScansPerSecond;this._onPlay=this._onPlay.bind(this);this._onLoadedMetaData=\nthis._onLoadedMetaData.bind(this);this._onVisibilityChange=this._onVisibilityChange.bind(this);this._updateOverlay=this._updateOverlay.bind(this);a.disablePictureInPicture=!0;a.playsInline=!0;a.muted=!0;let h=!1;a.hidden&&(a.hidden=!1,h=!0);document.body.contains(a)||(document.body.appendChild(a),h=!0);c=a.parentElement;if(b.highlightScanRegion||b.highlightCodeOutline){d=!!b.overlay;this.$overlay=b.overlay||document.createElement(\"div\");f=this.$overlay.style;f.position=\"absolute\";f.display=\"none\";\nf.pointerEvents=\"none\";this.$overlay.classList.add(\"scan-region-highlight\");if(!d&&b.highlightScanRegion){this.$overlay.innerHTML='<svg class=\"scan-region-highlight-svg\" viewBox=\"0 0 238 238\" preserveAspectRatio=\"none\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round\"><path d=\"M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21\"/></svg>';try{this.$overlay.firstElementChild.animate({transform:[\"scale(.98)\",\n\"scale(1.01)\"]},{duration:400,iterations:Infinity,direction:\"alternate\",easing:\"ease-in-out\"})}catch(m){}c.insertBefore(this.$overlay,this.$video.nextSibling)}b.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML(\"beforeend\",'<svg class=\"code-outline-highlight\" preserveAspectRatio=\"none\" style=\"display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round\"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=\nthis._calculateScanRegion(a);requestAnimationFrame(()=>{let m=window.getComputedStyle(a);\"none\"===m.display&&(a.style.setProperty(\"display\",\"block\",\"important\"),h=!0);\"visible\"!==m.visibility&&(a.style.setProperty(\"visibility\",\"visible\",\"important\"),h=!0);h&&(console.warn(\"QrScanner has overwritten the video hiding style to avoid Safari stopping the playback.\"),a.style.opacity=\"0\",a.style.width=\"0\",a.style.height=\"0\",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),\ndelete this.$overlay,delete this.$codeOutlineHighlight);this.$overlay&&this._updateOverlay()});a.addEventListener(\"play\",this._onPlay);a.addEventListener(\"loadedmetadata\",this._onLoadedMetaData);document.addEventListener(\"visibilitychange\",this._onVisibilityChange);window.addEventListener(\"resize\",this._updateOverlay);this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(a){console.warn(\"Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.\")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch(a){return!1}}static async listCameras(a=\n!1){if(!navigator.mediaDevices)return[];let b=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(d=>\"videoinput\"===d.kind),c;try{a&&(await b()).every(d=>!d.label)&&(c=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(d){}try{return(await b()).map((d,f)=>({id:d.deviceId,label:d.label||(0===f?\"Default Camera\":`Camera ${f+1}`)}))}finally{c&&(console.warn(\"Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream\"),e._stopVideoStream(c))}}async hasFlash(){let a;\ntry{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;a=this.$video.srcObject}else a=(await this._getCameraStream()).stream;return\"torch\"in a.getVideoTracks()[0].getSettings()}catch(b){return!1}finally{a&&a!==this.$video.srcObject&&(console.warn(\"Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream\"),e._stopVideoStream(a))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&\n!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw\"No flash available\";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(a){throw this._flashOn=!1,a;}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener(\"loadedmetadata\",this._onLoadedMetaData);this.$video.removeEventListener(\"play\",this._onPlay);document.removeEventListener(\"visibilitychange\",\nthis._onVisibilityChange);window.removeEventListener(\"resize\",this._updateOverlay);this._destroyed=!0;this._flashOn=!1;this.stop();e._postWorkerMessage(this._qrEnginePromise,\"close\")}async start(){if(this._destroyed)throw Error(\"The QR scanner can not be started as it had been destroyed.\");if(!this._active||this._paused)if(\"https:\"!==window.location.protocol&&console.warn(\"The camera stream is only accessible if the page is transferred via https.\"),this._active=!0,!document.hidden)if(this._paused=\n!1,this.$video.srcObject)await this.$video.play();else try{let {stream:a,facingMode:b}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(a):(this._setVideoMirror(b),this.$video.srcObject=a,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(a){if(!this._paused)throw this._active=!1,a;}}stop(){this.pause();this._active=!1}async pause(a=!1){this._paused=!0;if(!this._active)return!0;this.$video.pause();this.$overlay&&(this.$overlay.style.display=\n\"none\");let b=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};if(a)return b(),!0;await new Promise(c=>setTimeout(c,300));if(!this._paused)return!1;b();return!0}async setCamera(a){a!==this._preferredCamera&&(this._preferredCamera=a,await this._restartVideoStream())}static async scanImage(a,b,c,d,f=!1,h=!1){let m,n=!1;b&&(\"scanRegion\"in b||\"qrEngine\"in b||\"canvas\"in b||\"disallowCanvasResizing\"in b||\"alsoTryWithoutScanRegion\"in\nb||\"returnDetailedScanResult\"in b)?(m=b.scanRegion,c=b.qrEngine,d=b.canvas,f=b.disallowCanvasResizing||!1,h=b.alsoTryWithoutScanRegion||!1,n=!0):b||c||d||f||h?console.warn(\"You're using a deprecated api for scanImage which will be removed in the future.\"):console.warn(\"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true.\");b=!!c;try{let p,k;[c,p]=await Promise.all([c||e.createQrEngine(),e._loadImage(a)]);\n[d,k]=e._drawToCanvas(p,m,d,f);let q;if(c instanceof Worker){let g=c;b||e._postWorkerMessageSync(g,\"inversionMode\",\"both\");q=await new Promise((l,v)=>{let w,u,r,y=-1;u=t=>{t.data.id===y&&(g.removeEventListener(\"message\",u),g.removeEventListener(\"error\",r),clearTimeout(w),null!==t.data.data?l({data:t.data.data,cornerPoints:e._convertPoints(t.data.cornerPoints,m)}):v(e.NO_QR_CODE_FOUND))};r=t=>{g.removeEventListener(\"message\",u);g.removeEventListener(\"error\",r);clearTimeout(w);v(\"Scanner error: \"+(t?\nt.message||t:\"Unknown Error\"))};g.addEventListener(\"message\",u);g.addEventListener(\"error\",r);w=setTimeout(()=>r(\"timeout\"),1E4);let x=k.getImageData(0,0,d.width,d.height);y=e._postWorkerMessageSync(g,\"decode\",x,[x.data.buffer])})}else q=await Promise.race([new Promise((g,l)=>window.setTimeout(()=>l(\"Scanner error: timeout\"),1E4)),(async()=>{try{var [g]=await c.detect(d);if(!g)throw e.NO_QR_CODE_FOUND;return{data:g.rawValue,cornerPoints:e._convertPoints(g.cornerPoints,m)}}catch(l){g=l.message||l;\nif(/not implemented|service unavailable/.test(g))return e._disableBarcodeDetector=!0,e.scanImage(a,{scanRegion:m,canvas:d,disallowCanvasResizing:f,alsoTryWithoutScanRegion:h});throw`Scanner error: ${g}`;}})()]);return n?q:q.data}catch(p){if(!m||!h)throw p;let k=await e.scanImage(a,{qrEngine:c,canvas:d,disallowCanvasResizing:f});return n?k:k.data}finally{b||e._postWorkerMessage(c,\"close\")}}setGrayscaleWeights(a,b,c,d=!0){e._postWorkerMessage(this._qrEnginePromise,\"grayscaleWeights\",{red:a,green:b,\nblue:c,useIntegerApproximation:d})}setInversionMode(a){e._postWorkerMessage(this._qrEnginePromise,\"inversionMode\",a)}static async createQrEngine(a){a&&console.warn(\"Specifying a worker path is not required and not supported anymore.\");a=()=>import(\"./qr-scanner-worker.min.js\").then(c=>c.createWorker());if(!(!e._disableBarcodeDetector&&\"BarcodeDetector\"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes(\"qr_code\")))return a();let b=navigator.userAgentData;\nreturn b&&b.brands.some(({brand:c})=>/Chromium/i.test(c))&&/mac ?OS/i.test(b.platform)&&await b.getHighEntropyValues([\"architecture\",\"platformVersion\"]).then(({architecture:c,platformVersion:d})=>/arm/i.test(c||\"arm\")&&13<=parseInt(d||\"13\")).catch(()=>!0)?a():new BarcodeDetector({formats:[\"qr_code\"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video);this._updateOverlay();this.$overlay&&(this.$overlay.style.display=\"\");this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video);\nthis._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(a){let b=Math.round(2/3*Math.min(a.videoWidth,a.videoHeight));return{x:Math.round((a.videoWidth-b)/2),y:Math.round((a.videoHeight-b)/2),width:b,height:b,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var a=this.$video,b=a.videoWidth,c=a.videoHeight,d=a.offsetWidth,f=a.offsetHeight,h=a.offsetLeft,\nm=a.offsetTop,n=window.getComputedStyle(a),p=n.objectFit,k=b/c,q=d/f;switch(p){case \"none\":var g=b;var l=c;break;case \"fill\":g=d;l=f;break;default:(\"cover\"===p?k>q:k<q)?(l=f,g=l*k):(g=d,l=g/k),\"scale-down\"===p&&(g=Math.min(g,b),l=Math.min(l,c))}var [v,w]=n.objectPosition.split(\" \").map((r,y)=>{const x=parseFloat(r);return r.endsWith(\"%\")?(y?f-l:d-g)*x/100:x});n=this._scanRegion.width||b;q=this._scanRegion.height||c;p=this._scanRegion.x||0;var u=this._scanRegion.y||0;k=this.$overlay.style;k.width=\n`${n/b*g}px`;k.height=`${q/c*l}px`;k.top=`${m+w+u/c*l}px`;c=/scaleX\\(-1\\)/.test(a.style.transform);k.left=`${h+(c?d-v-g:v)+(c?b-p-n:p)/b*g}px`;k.transform=a.style.transform}})}static _convertPoints(a,b){if(!b)return a;let c=b.x||0,d=b.y||0,f=b.width&&b.downScaledWidth?b.width/b.downScaledWidth:1;b=b.height&&b.downScaledHeight?b.height/b.downScaledHeight:1;for(let h of a)h.x=h.x*f+c,h.y=h.y*b+d;return a}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||(\"requestVideoFrameCallback\"in\nthis.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var a=Date.now()-this._lastScanTimestamp,b=1E3/this._maxScansPerSecond;a<b&&await new Promise(d=>setTimeout(d,b-a));this._lastScanTimestamp=Date.now();try{var c=await e.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(d){if(!this._active)return;this._onDecodeError(d)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof\nWorker||(this._qrEnginePromise=e.createQrEngine());c?(this._onDecode?this._onDecode(c):this._legacyOnDecode&&this._legacyOnDecode(c.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute(\"viewBox\",`${this._scanRegion.x||0} `+`${this._scanRegion.y||0} `+`${this._scanRegion.width||this.$video.videoWidth} `+`${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute(\"points\",\nc.cornerPoints.map(({x:d,y:f})=>`${d},${f}`).join(\" \")),this.$codeOutlineHighlight.style.display=\"\")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display=\"none\",100))}this._scanFrame()})}_onDecodeError(a){a!==e.NO_QR_CODE_FOUND&&console.log(a)}async _getCameraStream(){if(!navigator.mediaDevices)throw\"Camera not found.\";let a=/^(environment|user)$/.test(this._preferredCamera)?\"facingMode\":\n\"deviceId\",b=[{width:{min:1024}},{width:{min:768}},{}],c=b.map(d=>Object.assign({},d,{[a]:{exact:this._preferredCamera}}));for(let d of[...c,...b])try{let f=await navigator.mediaDevices.getUserMedia({video:d,audio:!1}),h=this._getFacingMode(f)||(d.facingMode?this._preferredCamera:\"environment\"===this._preferredCamera?\"user\":\"environment\");return{stream:f,facingMode:h}}catch(f){}throw\"Camera not found.\";}async _restartVideoStream(){let a=this._paused;await this.pause(!0)&&!a&&this._active&&await this.start()}static _stopVideoStream(a){for(let b of a.getTracks())b.stop(),\na.removeTrack(b)}_setVideoMirror(a){this.$video.style.transform=\"scaleX(\"+(\"user\"===a?-1:1)+\")\"}_getFacingMode(a){return(a=a.getVideoTracks()[0])?/rear|back|environment/i.test(a.label)?\"environment\":/front|user|face/i.test(a.label)?\"user\":null:null}static _drawToCanvas(a,b,c,d=!1){c=c||document.createElement(\"canvas\");let f=b&&b.x?b.x:0,h=b&&b.y?b.y:0,m=b&&b.width?b.width:a.videoWidth||a.width,n=b&&b.height?b.height:a.videoHeight||a.height;d||(d=b&&b.downScaledWidth?b.downScaledWidth:m,b=b&&b.downScaledHeight?\nb.downScaledHeight:n,c.width!==d&&(c.width=d),c.height!==b&&(c.height=b));b=c.getContext(\"2d\",{alpha:!1});b.imageSmoothingEnabled=!1;b.drawImage(a,f,h,m,n,0,0,c.width,c.height);return[c,b]}static async _loadImage(a){if(a instanceof Image)return await e._awaitImageLoad(a),a;if(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement||a instanceof SVGImageElement||\"OffscreenCanvas\"in window&&a instanceof OffscreenCanvas||\"ImageBitmap\"in window&&a instanceof ImageBitmap)return a;if(a instanceof\nFile||a instanceof Blob||a instanceof URL||\"string\"===typeof a){let b=new Image;b.src=a instanceof File||a instanceof Blob?URL.createObjectURL(a):a.toString();try{return await e._awaitImageLoad(b),b}finally{(a instanceof File||a instanceof Blob)&&URL.revokeObjectURL(b.src)}}else throw\"Unsupported image type.\";}static async _awaitImageLoad(a){a.complete&&0!==a.naturalWidth||await new Promise((b,c)=>{let d=f=>{a.removeEventListener(\"load\",d);a.removeEventListener(\"error\",d);f instanceof ErrorEvent?\nc(\"Image load error\"):b()};a.addEventListener(\"load\",d);a.addEventListener(\"error\",d)})}static async _postWorkerMessage(a,b,c,d){return e._postWorkerMessageSync(await a,b,c,d)}static _postWorkerMessageSync(a,b,c,d){if(!(a instanceof Worker))return-1;let f=e._workerMessageId++;a.postMessage({id:f,type:b,data:c},d);return f}}e.DEFAULT_CANVAS_SIZE=400;e.NO_QR_CODE_FOUND=\"No QR code found\";e._disableBarcodeDetector=!1;e._workerMessageId=0;export default e\n","import {\n    AfterViewInit,\n    Component,\n    ElementRef,\n    OnDestroy,\n    ViewChild,\n} from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AsyncHandler, SettingsService, notifyError } from '@placeos/common';\nimport QrScanner from 'qr-scanner';\n\nimport { CheckinStateService } from './checkin-state.service';\nimport { take } from 'rxjs/operators';\n\n@Component({\n    selector: '[checkin-qr-scan]',\n    template: `\n        <div\n            class=\"bg-base-100 rounded shadow overflow-hidden relative flex flex-col items-center w-[36rem] p-4\"\n            [class.hidden]=\"checking_code\"\n        >\n            <p class=\"my-4\">\n                Please enter your email address or scan your QR code\n            </p>\n            <div class=\"flex items-center space-x-2 w-full\">\n                <mat-form-field\n                    appearance=\"outline\"\n                    class=\"w-px flex-1 no-subscript\"\n                >\n                    <input\n                        matInput\n                        [(ngModel)]=\"email\"\n                        placeholder=\"Enter email...\"\n                        type=\"email\"\n                        autocomplete=\"off\"\n                        (blur)=\"checkEmail(email)\"\n                        (keyup.enter)=\"checkEmail(email)\"\n                    />\n                    <mat-error>Invalid email format</mat-error>\n                </mat-form-field>\n                <button btn matRipple (click)=\"checkEmail(email)\">\n                    Find Details\n                </button>\n            </div>\n            <div\n                class=\"relative rounded mt-4 bg-base-200 border border-base-200 overflow-hidden\"\n            >\n                <div\n                    class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-30 flex flex-col items-center space-y-2 z-0\"\n                >\n                    <app-icon class=\"text-6xl\">videocam_off</app-icon>\n                    <p class=\"text-center\">\n                        Camera feed loading or is not available\n                    </p>\n                </div>\n                <video\n                    #video\n                    id=\"qr-stream\"\n                    playsinline\n                    width=\"640\"\n                    height=\"480\"\n                    autoplay\n                    class=\"object-cover relative z-10\"\n                ></video>\n            </div>\n            <a\n                icon\n                matRipple\n                class=\"absolute top-0 right-0\"\n                [routerLink]=\"['/welcome']\"\n            >\n                <app-icon>close</app-icon>\n            </a>\n        </div>\n        <div\n            class=\"bg-base-100 rounded shadow overflow-hidden relative flex flex-col items-center p-16\"\n            [class.hidden]=\"!checking_code\"\n        >\n            <mat-spinner diameter=\"32\"></mat-spinner>\n            <p class=\"my-4\">Loading visitor information...</p>\n        </div>\n    `,\n    styles: [\n        `\n            video {\n                width: 34rem;\n                height: 24rem;\n            }\n\n            a {\n                position: absolute;\n            }\n        `,\n    ],\n})\nexport class CheckinQRScanComponent\n    extends AsyncHandler\n    implements AfterViewInit, OnDestroy\n{\n    public checking_code = false;\n    /** Email address of the visitor */\n    public email: string;\n    /** Video element to emit camera feed */\n    @ViewChild('video', { static: true })\n    private _video_el: ElementRef<HTMLVideoElement>;\n    /** QR Reader */\n    private _reader;\n\n    public get is_induction_enabled() {\n        return (\n            this._settings.get('app.induction_enabled') &&\n            this._settings.get('app.induction_details')\n        );\n    }\n\n    public get induction_after_details() {\n        return this._settings.get('app.induction_after_details');\n    }\n\n    constructor(\n        private _checkin: CheckinStateService,\n        private _router: Router,\n        private _settings: SettingsService,\n    ) {\n        super();\n    }\n\n    public ngAfterViewInit() {\n        this.setupQRReader();\n    }\n\n    public ngOnDestroy() {\n        if (this._video_el.nativeElement.srcObject) {\n            (this._video_el.nativeElement.srcObject as any)\n                .getTracks()\n                .forEach((track) => track?.stop());\n        }\n        this._reader?.stop();\n    }\n\n    public async checkQRCode(raw_text: string) {\n        if (this.checking_code) return;\n        this.timeout('check_qr_code', async () => {\n            this._reader?.stop();\n            this.checking_code = true;\n            const chunks = raw_text.split(',');\n            let [visit_block, system_id, event_id, host_email] = chunks;\n            const [_, visitor_email] = visit_block.split(':');\n            if (!visitor_email && !event_id) {\n                notifyError('Invalid QRCode');\n                this.setupQRReader();\n                this.checking_code = false;\n                return;\n            }\n            if (!/^\\d+$/.test(event_id)) event_id = undefined;\n            await this._checkin\n                .loadGuestAndEvent(visitor_email, event_id)\n                .catch((err) => {\n                    this.handleError(err.message || err);\n                    this.checking_code = false;\n                    throw err;\n                });\n            const event = await this._checkin.event.pipe(take(1)).toPromise();\n            if (event.rejected) {\n                this.handleError('Your meeting has been rejected.');\n                this.checking_code = false;\n                return;\n            }\n            if (this.is_induction_enabled && event?.induction !== 'accepted') {\n                this._router.navigate(['/checkin', 'induction']);\n            } else {\n                this._router.navigate(['/checkin', 'details']);\n            }\n            this.checking_code = false;\n        });\n    }\n\n    public async checkEmail(email: string) {\n        if (!email || !email.includes('@') || email.length < 5) return;\n        await this._checkin.loadGuestAndEvent(email).catch((err) => {\n            this.handleError(\n                'Unable to find visitor or a meeting associated with the given email address.',\n            );\n            throw err;\n        });\n        const event = await this._checkin.event.pipe(take(1)).toPromise();\n        if (\n            event.induction !== 'accepted' &&\n            this.is_induction_enabled &&\n            !this.induction_after_details\n        ) {\n            this._router.navigate(['/checkin', 'induction']);\n        } else {\n            this._router.navigate(['/checkin', 'details']);\n        }\n    }\n\n    private setupQRReader() {\n        this.timeout('setup_qr_reader', () => {\n            if (!this._video_el?.nativeElement) return this.setupQRReader();\n            if (navigator.mediaDevices?.getUserMedia) {\n                navigator.mediaDevices\n                    .getUserMedia({ video: true })\n                    .then(\n                        (stream) =>\n                            (this._video_el.nativeElement.srcObject = stream),\n                    )\n                    .catch((e) =>\n                        console.error('Unable to fetch media devices!', e),\n                    );\n            }\n            if (!QrScanner) return;\n            this._reader = new QrScanner(this._video_el.nativeElement, (r) =>\n                this.checkQRCode(r),\n            );\n            this._reader.start();\n        });\n    }\n\n    private handleError(message: any) {\n        this._checkin.setError(message?.statusText || message);\n        this._router.navigate(['/checkin', 'error']);\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { filter, first, map, startWith } from 'rxjs/operators';\nimport { CheckinStateService } from './checkin-state.service';\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { combineLatest } from 'rxjs';\nimport { roundToNearestMinutes, startOfMinute } from 'date-fns';\nimport { DatePipe } from '@angular/common';\n\nconst DEFAULT_TEMPLATE = `\n<p class=\"text-center\">\n    Welcome, you have a meeting at {{ time }} with {{ host_name }}.\n    <br />{{ host_name }} has been notified and will be with you shortly.\n</p>\n<p>{{ can_use_lift }}</p>\n`;\n\n@Component({\n    selector: 'checkin-results',\n    template: `\n        <div\n            class=\"bg-base-100 rounded shadow overflow-hidden relative flex flex-col items-center w-[36rem] p-4 space-y-4\"\n            *ngIf=\"event | async\"\n        >\n            <h3 class=\"text-xl\">You are checked in!</h3>\n            <div\n                class=\"\"\n                [innerHTML]=\"result_template | async | sanitize: 'html'\"\n            ></div>\n            <div\n                printable\n                class=\"relative w-[24rem] h-[14rem] rounded-xl border border-neutral m-4 p-4 bg-base-100 print-only\"\n            >\n                <div class=\"flex flex-col h-full\">\n                    <div\n                        class=\"h-[4.75rem] w-[4.75rem] rounded-full bg-base-200 flex items-center justify-center\"\n                    >\n                        <a-user-avatar\n                            class=\"text-3xl\"\n                            [user]=\"{}\"\n                        ></a-user-avatar>\n                    </div>\n                    <div class=\"text-2xl\">\n                        {{ (event | async)?.asset_name }}\n                    </div>\n                    <div class=\"text-sm mt-1\">\n                        For: {{ (event | async)?.title }}\n                    </div>\n                    <div class=\"text-sm opacity-60\">\n                        Seeing {{ (event | async)?.user_name }}\n                    </div>\n                    <div\n                        class=\"rounded-lg bg-black text-white px-2 py-1 text-sm mt-2 w-32 text-center\"\n                    >\n                        Visitor\n                    </div>\n                </div>\n                <div class=\"absolute top-4 right-4 flex flex-col items-end\">\n                    <img logo class=\"h-10\" [src]=\"logo?.src\" alt=\"Logo\" />\n                    <div class=\"text-xs text-right\" *ngIf=\"level | async\">\n                        Cleared for\n                        {{\n                            (level | async)?.display_name ||\n                                (level | async)?.name\n                        }}\n                    </div>\n                    <pre class=\"text-right\">\n                        {{ (event | async)?.extension_data?.extra_details }}\n                    </pre\n                    >\n                </div>\n                <div class=\"absolute bottom-4 right-4 flex items-end space-x-2\">\n                    <div class=\"text-right font-medium leading-tight\">\n                        <div>\n                            {{\n                                (event | async)?.date || '' | date: 'shortTime'\n                            }}\n                        </div>\n                        <div>\n                            {{\n                                (event | async)?.date || '' | date: 'mediumDate'\n                            }}\n                        </div>\n                    </div>\n                    <div\n                        class=\"h-16 w-16 rounded-lg border border-base-200\"\n                    ></div>\n                </div>\n            </div>\n            <div class=\"flex items-center space-x-2\">\n                <button\n                    btn\n                    matRipple\n                    class=\"w-32\"\n                    *ngIf=\"allow_printing_label\"\n                    (click)=\"print()\"\n                >\n                    Print Label\n                </button>\n                <button btn matRipple class=\"w-32\" (click)=\"next()\">\n                    Done\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host > div {\n                max-width: calc(100vw - 2rem);\n            }\n        `,\n    ],\n    providers: [DatePipe],\n})\nexport class CheckinResultsComponent implements OnInit {\n    public readonly event = this._checkin.event;\n    public readonly guest = this._checkin.guest;\n    public readonly level = combineLatest([\n        this.event,\n        this._org.initialised,\n    ]).pipe(map(([_]) => (_ ? this._org.levelWithID(_.zones) : null)));\n\n    public readonly result_template = combineLatest([\n        this.event,\n        this.guest,\n    ]).pipe(\n        filter(([event, guest]) => !!event && !!guest),\n        map(([event, guest]) => {\n            let template = this._settings.get('app.checked_in_template');\n            if (!template) template = DEFAULT_TEMPLATE;\n            let updated_template = template\n                .replace(/{{ title }}/g, event?.title || '')\n                .replace(\n                    /{{ room_name }}/g,\n                    event.extension_data?.location_id || ''\n                )\n                .replace(/{{ host_name }}/g, event?.user_name || '')\n                .replace(/{{ host_email }}/g, event?.user_email || '')\n                .replace(/{{ visitor_name }}/g, guest?.name || '')\n                .replace(/{{ visitor_email }}/g, guest?.email || '')\n                .replace(\n                    /{{ can_use_lift }}/g,\n                    event.extension_data.can_use_lift\n                        ? `Please use the vistor access lift over there`\n                        : `Please wait in the lobby.`\n                );\n            try {\n                const date =\n                    event.date ||\n                    (event as any).event_start * 1000 ||\n                    event.booking_start * 1000 ||\n                    startOfMinute(Date.now());\n                updated_template = updated_template\n                    .replace(\n                        /{{ date }}/g,\n                        this._date.transform(date, 'mediumDate')\n                    )\n                    .replace(\n                        /{{ time }}/g,\n                        this._date.transform(date, this.time_format)\n                    );\n            } catch {}\n            return updated_template;\n        }),\n        startWith(DEFAULT_TEMPLATE)\n    );\n\n    public readonly print = () => window.print();\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    public get now() {\n        return startOfMinute(\n            roundToNearestMinutes(Date.now(), { nearestTo: 5 })\n        );\n    }\n\n    /** Application logo to display */\n    public get logo() {\n        return this._settings.get('app.logo_light');\n    }\n    public get allow_printing_label() {\n        return this._settings.get('app.allow_printing_label') !== false;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _checkin: CheckinStateService,\n        private _settings: SettingsService,\n        private _router: Router,\n        private _date: DatePipe\n    ) {}\n\n    public ngOnInit(): void {\n        this.event.pipe(first()).subscribe((_) => (!_ ? this.previous() : ''));\n    }\n\n    public previous(): void {\n        this._router.navigate(['/checkin']);\n    }\n\n    public next(): void {\n        // this._settings.get('app.allow_beverages')\n        //     ? this._router.navigate(['/checkin', 'preferences']) :\n        this._router.navigate(['/welcome']);\n    }\n}\n","import { Component } from '@angular/core';\nimport { CheckinStateService } from './checkin-state.service';\n\n@Component({\n    selector: 'checkin-error',\n    template: `\n        <div\n            class=\"bg-base-100 rounded shadow overflow-hidden relative flex flex-col items-center m-4 py-4 px-16 text-center space-y-4\"\n        >\n            <h3 class=\"text-2xl pb-2\">Please see reception.</h3>\n            <p *ngIf=\"error | async\">{{ error | async }}</p>\n            <p>Our staff at reception will assist you.</p>\n            <a btn matRipple class=\"w-32\" [routerLink]=\"['/welcome']\"> Back </a>\n        </div>\n    `,\n    styles: [\n        `\n            :host > div {\n                width: 28rem;\n                max-width: calc(100vw - 2rem);\n            }\n        `,\n    ],\n})\nexport class CheckinErrorComponent {\n    public readonly error = this._checkin.error;\n\n    constructor(private _checkin: CheckinStateService) {}\n}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { notifyError } from '@placeos/common';\nimport { CheckinStateService } from './checkin-state.service';\n\n@Component({\n    selector: '[checkin-covid]',\n    template: `\n        <div\n            class=\"bg-base-100 rounded p-4 relative overflow-y-auto overflow-x-hidden\"\n        >\n            <h3 class=\"text-xl font-medium mb-4\">COVID Disclaimer</h3>\n            <ol class=\"list-decimal list-inside\">\n                <li>\n                    Do you have any of the following symptoms?<br /><br />\n                    <ul class=\"list-disc list-inside px-4 mb-4\">\n                        <li>Fever</li>\n                        <li>Cough</li>\n                        <li>Shortness of breath</li>\n                        <li>Chills</li>\n                        <li>Body aches</li>\n                        <li>Sore or scratchy throat</li>\n                        <li>Headache</li>\n                        <li>Runny nose</li>\n                        <li>Muscle pain</li>\n                        <li>Vomitting</li>\n                        <li>Nausea</li>\n                        <li>Diarrhoa</li>\n                        <li>Loss of taste or smell</li>\n                    </ul>\n                    <mat-radio-group\n                        aria-label=\"Has Symptoms\"\n                        [(ngModel)]=\"symptoms\"\n                    >\n                        <mat-radio-button value=\"true\">Yes</mat-radio-button>\n                        <mat-radio-button value=\"false\" class=\"ml-4\"\n                            >No</mat-radio-button\n                        >\n                    </mat-radio-group>\n                </li>\n                <hr class=\"my-4\" />\n                <li>\n                    Have you been in contact with a COVID-19 case in the last 14\n                    days or been asked to self-isolate by a health offical?<br /><br />\n                    <mat-radio-group\n                        aria-label=\"COVID contact or self-isolated\"\n                        [(ngModel)]=\"contact\"\n                    >\n                        <mat-radio-button value=\"true\">Yes</mat-radio-button>\n                        <mat-radio-button value=\"false\" class=\"ml-4\"\n                            >No</mat-radio-button\n                        >\n                    </mat-radio-group>\n                </li>\n            </ol>\n            <button btn matRipple (click)=\"confirm()\">Confirm</button>\n            <a\n                icon\n                matRipple\n                [attr.disabled]=\"!symptoms && !contact\"\n                class=\"absolute top-0 right-0\"\n                [routerLink]=\"['/welcome']\"\n            >\n                <app-icon>close</app-icon>\n            </a>\n        </div>\n    `,\n    styles: [\n        `\n            :host > div {\n                width: 32rem;\n                max-width: calc(100vw - 2rem);\n                max-height: calc(100% - 2rem);\n            }\n\n            button {\n                margin: 1rem 11rem 0;\n                width: 8rem;\n            }\n        `,\n    ],\n})\nexport class CheckinCovidComponent {\n    public contact: string;\n    public symptoms: string;\n\n    constructor(\n        private _router: Router,\n        private _checkin: CheckinStateService\n    ) {}\n\n    public confirm() {\n        if (!this.symptoms || !this.contact)\n            return notifyError('Please select yes or no for each question');\n        this._checkin.updateGuest({\n            covid: this.contact === 'true',\n            symptoms: this.symptoms === 'true',\n        });\n        if (this.symptoms === 'false' && this.contact === 'false') {\n            this._router.navigate(['/checkin', 'results']);\n        } else {\n            this._checkin.setError(\n                'Please get tested for COVID-19 and self-isolate at home for 14 days'\n            );\n            this._router.navigate(['/checkin', 'error']);\n        }\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule, Route } from '@angular/router';\nimport { SharedComponentsModule } from '../components/shared-components.module';\n\nimport { CheckinDetailsComponent } from './checkin-details.component';\nimport { CheckinPhotoComponent } from './checkin-photo.component';\nimport { CheckinPreferencesComponent } from './checkin-preferences.component';\nimport { CheckinQRScanComponent } from './checkin-qr-scan.component';\nimport { CheckinResultsComponent } from './checkin-result.component';\nimport { CheckinErrorComponent } from './checkin-error.component';\nimport { CheckinCovidComponent } from './checkin-covid.component';\nimport { CheckinComponent } from './checkin.component';\nimport { CheckinInductionComponent } from './checkin-induction.component';\n\nconst ROUTES: Route[] = [\n    {\n        path: '',\n        component: CheckinComponent,\n        children: [\n            { path: 'scan', component: CheckinQRScanComponent },\n            { path: 'details', component: CheckinDetailsComponent },\n            { path: 'preferences', component: CheckinPreferencesComponent },\n            { path: 'photo', component: CheckinPhotoComponent },\n            { path: 'results', component: CheckinResultsComponent },\n            { path: 'error', component: CheckinErrorComponent },\n            { path: 'covid', component: CheckinCovidComponent },\n            { path: 'induction', component: CheckinInductionComponent },\n            { path: '**', redirectTo: 'scan' },\n        ],\n    },\n    { path: '**', redirectTo: '' },\n];\n\n@NgModule({\n    declarations: [\n        CheckinComponent,\n        CheckinResultsComponent,\n        CheckinQRScanComponent,\n        CheckinPreferencesComponent,\n        CheckinPhotoComponent,\n        CheckinDetailsComponent,\n        CheckinErrorComponent,\n        CheckinCovidComponent,\n        CheckinInductionComponent,\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        SharedComponentsModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class VisitorCheckinModule {}\n","import { Component } from '@angular/core';\nimport { SettingsService } from '@placeos/common';\nimport { startOfMinute } from 'date-fns';\n\n@Component({\n    selector: '[app-checkin]',\n    template: `\n        <!-- <a-topbar-header class=\"w-full screen-only\"></a-topbar-header> -->\n        <div\n            class=\"absolute inset-0 p-8 flex items-center\"\n            [style.background-image]=\"'url(' + background + ')'\"\n        >\n            <div class=\"flex flex-col justify-center space-y-8 z-10 w-full\">\n                <router-outlet></router-outlet>\n            </div>\n            <div class=\"absolute top-4 right-4 text-2xl text-white\">\n                {{ now | date: 'mediumDate' }} {{ now | date: 'shortTime' }}\n            </div>\n            <img\n                src=\"assets/img/building.png\"\n                class=\"absolute w-[60%] bottom-0 right-0\"\n            />\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class CheckinComponent {\n    public get now() {\n        return startOfMinute(new Date());\n    }\n\n    public get background() {\n        return this._settings.get('app.home.background');\n    }\n\n    constructor(private _settings: SettingsService) {}\n}\n","import { Component } from '@angular/core';\nimport { CheckinStateService } from './checkin-state.service';\nimport { Router } from '@angular/router';\nimport {\n    SettingsService,\n    notifyError,\n    notifyInfo,\n    notifySuccess,\n} from '@placeos/common';\nimport { first } from 'rxjs/operators';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: '[checkin-induction]',\n    template: `\n        <div\n            class=\"relative bg-base-100 rounded shadow overflow-hidden flex flex-col items-center w-[32rem] p-4\"\n        >\n            <p class=\"my-4\">\n                Please read the induction information below before proceeding\n            </p>\n            <div\n                class=\"rounded border border-base-300 w-full p-4 opacity-60 text-sm overflow-y-auto overflow-x-hidden max-h-[50vh] whitespace-pre-wrap\"\n            >\n                {{ induction_details }}\n            </div>\n            <mat-checkbox [(ngModel)]=\"agree\" class=\"my-4\">\n                I agree\n            </mat-checkbox>\n            <div class=\"flex items-center justify-center space-x-2\">\n                <button\n                    btn\n                    matRipple\n                    class=\"w-32 clear underline\"\n                    (click)=\"decline()\"\n                >\n                    Decline\n                </button>\n                <button\n                    btn\n                    matRipple\n                    class=\"w-32\"\n                    [disabled]=\"!agree\"\n                    (click)=\"continue()\"\n                >\n                    Accept\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [],\n})\nexport class CheckinInductionComponent {\n    public readonly event = this._checkin.event;\n    public agree = false;\n    public loading = false;\n\n    public get induction_details() {\n        return this._settings.get('app.induction_details');\n    }\n\n    public get induction_after_details() {\n        return this._settings.get('app.induction_after_details');\n    }\n\n    public get is_enabled() {\n        return (\n            this._settings.get('app.induction_enabled') &&\n            this._settings.get('app.induction_details')\n        );\n    }\n\n    constructor(\n        private _checkin: CheckinStateService,\n        private _router: Router,\n        private _settings: SettingsService,\n        private _org: OrganisationService,\n    ) {}\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        const event = await this.event.pipe(first()).toPromise();\n        if (!event) this._router.navigate(['/checkin']);\n        if (!this.is_enabled || event.induction === 'accepted') {\n            if (this.induction_after_details) {\n                this._router.navigate(['/checkin', 'results']);\n            } else {\n                this._router.navigate(['/checkin', 'details']);\n            }\n        }\n    }\n\n    public async decline() {\n        this.loading = true;\n        await this._checkin.declineInduction().catch((err) => {\n            notifyError('Error declining induction', err);\n            throw err;\n        });\n        this._checkin.setError('You have declined the induction.');\n        notifyInfo('Induction declined successfully');\n        this._router.navigate(['/checkin', 'error']);\n    }\n\n    public async continue() {\n        this.loading = true;\n        await this._checkin.completeInduction().catch((err) => {\n            notifyError('Error completing induction', err);\n            throw err;\n        });\n        notifySuccess('Induction completed successfully');\n        this._router.navigate(['/checkin', 'details']);\n    }\n}\n"],"x_google_ignoreList":[0,7,13]}