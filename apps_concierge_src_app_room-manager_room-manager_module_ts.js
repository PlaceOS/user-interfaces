"use strict";(self.webpackChunkconcierge=self.webpackChunkconcierge||[]).push([["apps_concierge_src_app_room-manager_room-manager_module_ts"],{9909:(Ke,v,a)=>{a.r(v),a.d(v,{RoomManagerModule:()=>p});var d=a(4666),s=a(2508),T=a(9885),K=a(3045),h=a(2886),V=a(6150),e=a(2560),W=a(4945),b=a(1670),P=a(6221),m=a(308),H=a(4505),ee=a(4139),oe=a(7716),te=a(9151),ne=a(9095),C=a(6942),_e=a(7418),ae=a(9128),S=a(8456),f=a(1426),N=a(1484),E=a(5074),ie=a(1267),L=a(7371),I=a(207),le=a(4792),re=a(1708),G=a(8550),se=a(3670),x=a(5306),g=a(1169);function me(n,o){1&n&&(e.TgZ(0,"button",4)(1,"app-icon"),e._uU(2,"close"),e.qZA()())}function ce(n,o){if(1&n&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.display_name||t.name," ")}}function de(n,o){if(1&n&&(e.TgZ(0,"div",11)(1,"label",19),e.tHW(2,20),e._UZ(3,"span"),e.N_p(),e.qZA(),e.TgZ(4,"mat-form-field",13)(5,"mat-select",21),e.YNc(6,ce,2,2,"mat-option",17),e.ALo(7,"async"),e.qZA(),e.TgZ(8,"mat-error"),e._uU(9,"Level is required"),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(1),e.ekj("error",t.form.controls.zone.invalid&&t.form.controls.zone.touched),e.xp6(5),e.Q6J("ngForOf",e.lcZ(7,3,t.levels))}}function fe(n,o){1&n&&(e.TgZ(0,"mat-error"),e.SDv(1,28),e.qZA())}function pe(n,o){if(1&n&&(e.TgZ(0,"div",23)(1,"label",24),e.tHW(2,25),e._UZ(3,"span"),e.N_p(),e.qZA(),e.TgZ(4,"mat-form-field",13),e._UZ(5,"input",26),e.YNc(6,fe,2,0,"mat-error",27),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(1),e.ekj("error",t.form.controls.name.invalid&&t.form.controls.name.touched),e.xp6(5),e.Q6J("ngIf",t.form.controls.name.invalid)}}function Me(n,o){1&n&&(e.TgZ(0,"mat-error"),e.SDv(1,32),e.qZA())}function ge(n,o){if(1&n&&(e.TgZ(0,"div",23)(1,"label",29),e.SDv(2,30),e.qZA(),e.TgZ(3,"mat-form-field",13),e._UZ(4,"input",31),e.YNc(5,Me,2,0,"mat-error",27),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(1),e.ekj("error",t.form.controls.email.invalid&&t.form.controls.email.touched),e.xp6(4),e.Q6J("ngIf",t.form.controls.email.invalid)}}function ue(n,o){1&n&&(e.TgZ(0,"div",23)(1,"label",33),e.SDv(2,34),e.qZA(),e.TgZ(3,"mat-form-field",13),e._UZ(4,"input",35),e.qZA()())}function Oe(n,o){1&n&&(e.TgZ(0,"div",23)(1,"label",36),e.SDv(2,37),e.qZA(),e.TgZ(3,"mat-form-field",13),e._UZ(4,"input",38),e.qZA()())}function Ae(n,o){1&n&&(e.TgZ(0,"mat-error"),e.SDv(1,42),e.qZA())}function Re(n,o){if(1&n&&(e.TgZ(0,"div",11)(1,"label",39),e.SDv(2,40),e.qZA(),e.TgZ(3,"mat-form-field",13),e._UZ(4,"input",41),e.YNc(5,Ae,2,0,"mat-error",27),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(1),e.ekj("error",t.form.controls.support_url.invalid&&t.form.controls.support_url.touched),e.xp6(4),e.Q6J("ngIf",t.form.controls.support_url.invalid)}}function Ce(n,o){1&n&&(e.TgZ(0,"mat-error"),e.SDv(1,46),e.qZA())}function Ne(n,o){if(1&n&&(e.TgZ(0,"div",23)(1,"label",43),e.SDv(2,44),e.qZA(),e.TgZ(3,"mat-form-field",13),e._UZ(4,"input",45),e.YNc(5,Ce,2,0,"mat-error",27),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(1),e.ekj("error",t.form.controls.capacity.invalid&&t.form.controls.capacity.touched),e.xp6(4),e.Q6J("ngIf",t.form.controls.capacity.invalid)}}function Ee(n,o){1&n&&(e.TgZ(0,"div",11)(1,"mat-checkbox",47),e.SDv(2,48),e.qZA()())}function Te(n,o){1&n&&(e.TgZ(0,"div",11)(1,"label",49),e.SDv(2,50),e.qZA(),e.TgZ(3,"mat-form-field",13),e._UZ(4,"textarea",51),e.qZA()())}function Pe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-chip-row",57),e.NdJ("removed",function(){const l=e.CHM(t).$implicit,M=e.oxw(4);return e.KtG(M.removeFeature(l))}),e._uU(1),e.TgZ(2,"app-icon",58),e._uU(3,"close"),e.qZA()()}if(2&n){const t=o.$implicit;e.Q6J("selectable",!0)("removable",!0),e.xp6(1),e.hij(" ",t," ")}}function Se(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"label"),e.SDv(2,52),e.qZA(),e.TgZ(3,"mat-form-field",13)(4,"mat-chip-grid",53,54),e.YNc(6,Pe,4,3,"mat-chip-row",55),e.TgZ(7,"input",56),e.NdJ("matChipInputTokenEnd",function(i){e.CHM(t);const l=e.oxw(3);return e.KtG(l.addFeature(i))}),e.qZA()()()()}if(2&n){const t=e.MAs(5),_=e.oxw(3);e.xp6(1),e.ekj("error",_.form.controls.features.invalid&&_.form.controls.features.touched),e.xp6(5),e.Q6J("ngForOf",_.feature_list),e.xp6(1),e.Q6J("matChipInputFor",t)("matChipInputSeparatorKeyCodes",_.separators)("matChipInputAddOnBlur",!0)}}function ve(n,o){1&n&&(e.TgZ(0,"div",11)(1,"label",59),e.SDv(2,60),e.qZA(),e.TgZ(3,"mat-form-field",13),e._UZ(4,"input",61),e.qZA()())}function he(n,o){if(1&n&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function be(n,o){1&n&&(e.TgZ(0,"mat-option",62),e._uU(1," No matching timezones "),e.qZA()),2&n&&e.Q6J("disabled",!0)}function Le(n,o){1&n&&(e.TgZ(0,"div",11)(1,"label",63),e.SDv(2,64),e.qZA(),e._UZ(3,"image-list-field",65),e.qZA())}function Ie(n,o){if(1&n&&(e.TgZ(0,"form",7),e.YNc(1,de,10,5,"div",8),e.TgZ(2,"div",9),e.YNc(3,pe,7,3,"div",10),e.YNc(4,ge,6,3,"div",10),e.qZA(),e.TgZ(5,"div",9),e.YNc(6,ue,5,0,"div",10),e.YNc(7,Oe,5,0,"div",10),e.qZA(),e.YNc(8,Re,6,3,"div",8),e.TgZ(9,"div",9),e.YNc(10,Ne,6,3,"div",10),e.YNc(11,Ee,3,0,"div",8),e.qZA(),e.YNc(12,Te,5,0,"div",8),e.YNc(13,Se,8,6,"div",8),e.YNc(14,ve,5,0,"div",8),e.TgZ(15,"div",11)(16,"label",12),e._uU(17,"Timezone"),e.qZA(),e.TgZ(18,"mat-form-field",13)(19,"app-icon",14),e._uU(20,"search"),e.qZA(),e._UZ(21,"input",15),e.qZA(),e.TgZ(22,"mat-autocomplete",null,16),e.YNc(24,he,2,2,"mat-option",17),e.YNc(25,be,2,1,"mat-option",18),e.qZA()(),e.YNc(26,Le,4,0,"div",8),e.qZA()),2&n){const t=e.MAs(23),_=e.oxw(2);e.Q6J("formGroup",_.form),e.xp6(1),e.Q6J("ngIf",_.form.controls.zone),e.xp6(2),e.Q6J("ngIf",_.form.controls.name),e.xp6(1),e.Q6J("ngIf",_.form.controls.email),e.xp6(2),e.Q6J("ngIf",_.form.controls.display_name),e.xp6(1),e.Q6J("ngIf",_.form.controls.display_name),e.xp6(1),e.Q6J("ngIf",_.form.controls.support_url),e.xp6(2),e.Q6J("ngIf",_.form.controls.capacity),e.xp6(1),e.Q6J("ngIf",_.form.controls.bookable),e.xp6(1),e.Q6J("ngIf",_.form.controls.description),e.xp6(1),e.Q6J("ngIf",_.form.controls.features),e.xp6(1),e.Q6J("ngIf",_.form.controls.map_id),e.xp6(7),e.Q6J("matAutocomplete",t),e.xp6(3),e.Q6J("ngForOf",_.filtered_timezones),e.xp6(1),e.Q6J("ngIf",!_.timezones.length),e.xp6(1),e.Q6J("ngIf",_.form.controls.images)}}function Ge(n,o){if(1&n&&(e.TgZ(0,"main",5),e.YNc(1,Ie,27,16,"form",6),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form)}}function xe(n,o){1&n&&(e.TgZ(0,"footer",66)(1,"button",67),e._uU(2,"Save"),e.qZA()())}function Ze(n,o){1&n&&(e.TgZ(0,"div",68),e._UZ(1,"mat-spinner",69),e.TgZ(2,"p",70),e._uU(3,"Saving room..."),e.qZA()())}class u extends f.cx{get feature_list(){return this.form.controls.features.value}constructor(o,t,_){super(),this._data=o,this._dialog_ref=t,this._org=_,this.loading=!1,this.timezones=[],this.filtered_timezones=[],this.levels=this._org.active_levels,this.form=(0,h.ji)(this._data.room),this.encryption_levels=[{id:m.sUp.None,name:"None"},{id:m.sUp.Support,name:"Support"},{id:m.sUp.Admin,name:"Admin"},{id:m.sUp.NeverDisplay,name:"Never Display"}],this.query_fn=i=>(0,m.I0G)({q:i}).pipe((0,C.U)(l=>l.data)),this.separators=[S.K5,S.OC,S.L_]}ngOnChanges(o){o.form&&(this.updateTimezoneList(),this.subscription("tz-change",this.form.valueChanges.subscribe(({timezone:t})=>this.filtered_timezones=this.timezones.filter(_=>_.toLowerCase().includes(t.toLowerCase())))))}addFeature(o){if(!this.form||!this.form.controls.features)return;const t=o.input,_=o.value,i=this.feature_list;(_||"").trim()&&(i.push(_),this.form.controls.features.setValue(i)),t&&(t.value="")}removeFeature(o){if(!this.form||!this.form.controls.features)return;const t=this.feature_list,_=t.indexOf(o);_>=0&&(t.splice(_,1),this.form.controls.features.setValue(t))}updateTimezoneList(){const o=this.form?.value?.timezone||"";this.timezones=f.sM,this.filtered_timezones=this.timezones.filter(t=>t.toLowerCase().includes(o.toLowerCase()))}save(){var o=this;return(0,b.Z)(function*(){if(!o.form.valid)return(0,f.cB)(`Some form fields are invalid. [${(0,f.RD)(o.form).join(", ")}]`);o.form.value.id||o.form.patchValue({zones:(0,f.Tw)([o._org.organisation.id,o._org.building.parent_id,o._org.building.id,o.form.value.zone?.id])}),o.loading=!0,o._dialog_ref.disableClose=!0;const t=o.form.getRawValue();yield(t.id?(0,m.EQg)(t.id,t):(0,m.tgw)(t)).toPromise(),o._dialog_ref.disableClose=!1,o._dialog_ref.close(),o.loading=!1})()}}u.\u0275fac=function(o){return new(o||u)(e.Y36(N.WI),e.Y36(N.so),e.Y36(P.w7))},u.\u0275cmp=e.Xpm({type:u,selectors:[["room-form-modal"]],features:[e.qOj,e.TTD],decls:8,vars:5,consts:function(){let n,o,t,_,i,l,M,Z,y,$,D,F,z,U,X,J,w,Y,q,Q,j,k,B;return n=$localize`:@@zoneLabel␟805d5ab24c829f98df246a63541ee827ce04a4c4␟6308222021008136210: Level${"\ufffd#3\ufffd"}:START_TAG_SPAN:*${"\ufffd/#3\ufffd"}:CLOSE_TAG_SPAN:: `,o=$localize`:@@nameLabel␟ce22d533a3bc86b04d363cdacf055e861f719107␟253967969926135345: Name${"\ufffd#3\ufffd"}:START_TAG_SPAN:*${"\ufffd/#3\ufffd"}:CLOSE_TAG_SPAN:: `,t=$localize`:@@systemNamePlaceholder␟412d74982a750ad38d528a416090cad259267cf7␟3270670506078615677:Room Name`,_=$localize`:@@systemNameError␟a76167ad44bb224b5e970e7cdce5e03ba50bbf34␟4944106304667909261:Room name is required`,i=$localize`:@@emailLabel␟7e7d6d1958ec577b1f852c495aa8abb88a5a4e8c␟3680148548084285501: Email: `,l=$localize`:@@systemEmailPlaceholder␟796480f8af4a196dc6343cf00d09c7841f270f3a␟3140960526772549616:Room Email`,M=$localize`:@@emailError␟66a4553914df830f0bc1dd1f0a42c57fd85864de␟6407494155279173358:A valid email is required`,Z=$localize`:@@displayNameLabel␟e966586c3aadb81b0555b483a36f46776d9792c8␟6691873398244034720:Display Name: `,y=$localize`:@@displayNamePlaceholder␟e438ba78cbafdb5bcbce0820bfaad995a504f222␟3013055597615607317:Display Name`,$=$localize`:@@codeNameLabel␟61275d3a79a1234bf3fcb50f72d8dc798ef57e27␟7610172352109675938:Code: `,D=$localize`:@@codeNamePlaceholder␟68572de01b84c678be4bf8a27b990ecac2f41ce9␟8186013988289067040:Code`,F=$localize`:@@supportUrlLabel␟168d80b4bd6d50c9bf727b7c091b2328098fb9fb␟7529216744352106375: Support URL: `,z=$localize`:@@suportUrlPlaceholder␟bf9ae7f0e3cf343578967894e31ba3db4d5622c4␟5567034448630716072:Support URL`,U=$localize`:@@urlError␟2c15d675ec84f445a1ea8641feb348be27d8c0cc␟2156189077122705793: A valid URL is required `,X=$localize`:@@capacityLabel␟4fdfe5d0bf8898e5def2c3f9d5971f5e23e753d9␟255201359546348839: Capacity: `,J=$localize`:@@capacityPlaceholder␟ce9dfdc6dccb28dc75a78c704e09dc18fb02dcfa␟7825570888384392250:Capacity`,w=$localize`:@@capacityError␟dedde35e8848b99432791a4326aa103b8ec774c4␟8134498951699811316: A valid positive number is required `,Y=$localize`:@@bookableLabel␟96462a3176e48f64fd7d25d58a6d49afe4628700␟414602767324525018: Bookable `,q=$localize`:@@descriptionLabel␟4a22c6843133f0b0d7dc0d28f864f2f90c1de7ad␟6996799422725544865:Description:`,Q=$localize`:@@featuresLabel␟048b3adb78b9aabee65dbb43d9c5aadcda49015f␟1939786999396738714: Features: `,j=$localize`:@@mapIdLabel␟46a8087017d0d929ed6d398ba5d3a5ea1be7ab9b␟1613414518051599973:Map ID:`,k=$localize`:@@mapIdPlaceholder␟8936f99965a07edd4b09a0e4120f4dd5de79604d␟609514156045819245:Map SVG ID selector e.g. area-01.10-status`,B=$localize`:@@imagesLabel␟e5d9e00faa06714d7671b164cad364b26f4c585b␟5137125764814732349:Images:`,[["btn","","icon","","mat-dialog-close","",4,"ngIf"],["class","max-h-[65vh] overflow-y-auto overflow-x-hidden p-4",4,"ngIf","ngIfElse"],["class","p-2 flex justify-end border-t border-gray-200",4,"ngIf"],["load_state",""],["btn","","icon","","mat-dialog-close",""],[1,"max-h-[65vh]","overflow-y-auto","overflow-x-hidden","p-4"],["system","","class","flex flex-col w-[36rem] max-w-[calc(100vw-4rem)]",3,"formGroup",4,"ngIf"],["system","",1,"flex","flex-col","w-[36rem]","max-w-[calc(100vw-4rem)]",3,"formGroup"],["class","flex flex-col",4,"ngIf"],[1,"flex","space-x-2"],["class","flex flex-col flex-1",4,"ngIf"],[1,"flex","flex-col"],["for","timezone"],["appearance","outline"],["matPrefix","",1,"text-2xl"],["matInput","","formControlName","timezone","placeholder","Room timezone",3,"matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"disabled",4,"ngIf"],["for","zone"],n,["formControlName","zone","placeholder","Select Level"],[3,"value"],[1,"flex","flex-col","flex-1"],["for","system-name"],o,["matInput","","name","system-name","placeholder",t,"formControlName","name","required",""],[4,"ngIf"],_,["for","system-email"],i,["matInput","","name","system-email","placeholder",l,"formControlName","email"],M,["for","display-name"],Z,["matInput","","name","display-name","placeholder",y,"formControlName","display_name"],["for","code-name"],$,["matInput","","name","code-name","placeholder",D,"formControlName","code"],["for","support-url"],F,["matInput","","name","support-url","placeholder",z,"formControlName","support_url"],U,["for","capacity"],X,["matInput","","name","capacity","type","number","placeholder",J,"formControlName","capacity"],w,["name","bookable","formControlName","bookable"],Y,["for","description"],q,["matInput","","name","description","placeholder","Description","formControlName","description"],Q,["aria-label","Room features"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","New feature...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[3,"selectable","removable","removed"],["matChipRemove",""],["for","map_id"],j,["matInput","","name","map_id","placeholder",k,"formControlName","map_id"],[3,"disabled"],["for","images"],B,["name","images","formControlName","images"],[1,"p-2","flex","justify-end","border-t","border-gray-200"],["btn","",1,"w-32"],[1,"flex","flex-col","items-center","justify-center","w-64","h-64"],["diameter","32"],[1,"mt-4"]]},template:function(o,t){if(1&o&&(e.TgZ(0,"header")(1,"h2"),e._uU(2),e.qZA(),e.YNc(3,me,3,0,"button",0),e.qZA(),e.YNc(4,Ge,2,1,"main",1),e.YNc(5,xe,3,0,"footer",2),e.YNc(6,Ze,4,0,"ng-template",null,3,e.W1O)),2&o){const _=e.MAs(7);e.xp6(2),e.hij("",t.form.value.id?"Edit":"Add"," Room"),e.xp6(1),e.Q6J("ngIf",!t.loading),e.xp6(1),e.Q6J("ngIf",!t.loading)("ngIfElse",_),e.xp6(1),e.Q6J("ngIf",!t.loading)}},dependencies:[d.sg,d.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,E.KE,E.TO,E.qo,ie.Nt,L.gD,I.ey,le.oG,re.Ou,N.ZT,G.XC,G.ZL,s.sg,s.u,se.h,x.o,g.RA,g.oH,g.qH,g.z3,d.Ov],styles:["mat-checkbox[_ngcontent-%COMP%]{margin-top:2.5em;margin-bottom:1.5em}@media screen and (max-width: 640px){mat-checkbox[_ngcontent-%COMP%]{margin-top:0}}\n/*# sourceMappingURL=room-modal.component.ts-angular-inline--153.css.map*/"]});class c{constructor(o,t){this._org=o,this._dialog=t,this._options=new H.X({}),this.options=this._options.asObservable(),this.room_list=this._org.active_building.pipe((0,te.h)(_=>!!_?.id),(0,ne.w)(_=>(0,m.vIL)({zone_id:_.id}).pipe((0,C.U)(({data:i})=>i),(0,_e.K)(()=>(0,ee.of)([])))),(0,C.U)(_=>_.filter(i=>this._org.levelWithID(i.zones)).sort((i,l)=>i.name.localeCompare(l.name))),(0,ae.d)(1)),this.filtered_rooms=(0,oe.aj)([this.room_list,this._options]).pipe((0,C.U)(([_,i])=>(i.zone&&(_=_.filter(l=>l.zones.includes(i.zone))),i.search&&(_=_.filter(l=>l.name.toLowerCase().includes(i.search.toLowerCase()))),_)))}setFilters(o){this._options.next({...this._options.getValue(),...o})}setSearchString(o){this._options.next({...this._options.getValue(),search:o})}editRoom(o=new m.G6j){this._dialog.open(u,{data:{room:o}})}}c.\u0275fac=function(o){return new(o||c)(e.LFG(P.w7),e.LFG(N.uw))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"});var ye=a(5670),$e=a(9396);function De(n,o){if(1&n&&(e.TgZ(0,"mat-option",3),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.display_name||t.name," ")}}class O extends f.cx{get building(){return this._org.building}constructor(o,t,_,i){super(),this._manager=o,this._org=t,this._route=_,this._router=i,this.levels=this._org.active_levels,this.filters=this._manager.options,this.setFilters=l=>this._manager.setFilters(l),this.setSearch=l=>this._manager.setSearchString(l),this.updateZones=l=>{this._router.navigate([],{relativeTo:this._route,queryParams:{zone_id:l}}),this._manager.setFilters({zone:l})},this.newRoom=()=>this._manager.editRoom()}ngOnInit(){var o=this;return(0,b.Z)(function*(){yield o._org.initialised.pipe((0,ye.P)(t=>t)).toPromise(),o.subscription("route.query",o._route.queryParamMap.subscribe(t=>{if(t.has("zone_id")){const _=t.get("zone_id");if(_.length){const i=o._org.levelWithID([_]);if(!i)return;o._org.building=o._org.buildings.find(l=>l.id===i.parent_id),o.setFilters({zone:_})}}})),o.subscription("levels",o._org.active_levels.subscribe(t=>{var _=t.find(i=>i.id===_);!_&&t.length&&(_=t[0].id),o.updateZones(_)})),o.setSearch("")})()}}O.\u0275fac=function(o){return new(o||O)(e.Y36(c),e.Y36(P.w7),e.Y36(T.gz),e.Y36(T.F0))},O.\u0275cmp=e.Xpm({type:O,selectors:[["room-manager-topbar"]],features:[e.qOj],decls:12,vars:7,consts:[[1,"flex","items-center","bg-white","dark:bg-neutral-700","h-20","px-4","border-b","border-gray-300","dark:border-neutral-500","space-x-2"],["appearance","outline"],["placeholder","All Levels",3,"ngModel","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["btn","",1,"w-32",3,"click"],[1,"flex-1","w-2"],[1,"mr-2",3,"modelChange"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-select",2),e.NdJ("ngModelChange",function(i){return t.updateZones(i)}),e.ALo(3,"async"),e.TgZ(4,"mat-option",3),e._uU(5,"All Levels"),e.qZA(),e.YNc(6,De,2,2,"mat-option",4),e.ALo(7,"async"),e.qZA()(),e.TgZ(8,"button",5),e.NdJ("click",function(){return t.newRoom()}),e._uU(9,"New Room"),e.qZA(),e._UZ(10,"div",6),e.TgZ(11,"searchbar",7),e.NdJ("modelChange",function(i){return t.setSearch(i)}),e.qZA()()),2&o){let _;e.xp6(2),e.Q6J("ngModel",null==(_=e.lcZ(3,3,t.filters))?null:_.zone),e.xp6(2),e.Q6J("value",null==t.building?null:t.building.id),e.xp6(2),e.Q6J("ngForOf",e.lcZ(7,5,t.levels))}},dependencies:[d.sg,s.JJ,s.On,$e.U,E.KE,L.gD,I.ey,d.Ov],styles:["mat-form-field[_ngcontent-%COMP%]{height:3.25rem}\n/*# sourceMappingURL=room-manager-topbar.component.ts-angular-inline--154.css.map*/"]});var Fe=a(6896),ze=a(1110),Ue=a(3838);function Xe(n,o){if(1&n&&(e._uU(0),e.ALo(1,"level"),e.ALo(2,"level")),2&n){const t=o.data;let _;e.hij(" ",(null==(_=e.lcZ(1,1,t))?null:_.display_name)||(null==(_=e.lcZ(2,3,t))?null:_.name)," ")}}function Je(n,o){if(1&n&&(e.TgZ(0,"div",5)(1,"app-icon"),e._uU(2),e.qZA()()),2&n){const t=o.data;e.ekj("bg-red-500",!t)("bg-green-500",t),e.xp6(2),e.Oqu(t?"done":"close")}}function we(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",6)(1,"button",7),e.NdJ("click",function(){const l=e.CHM(t).row,M=e.oxw();return e.KtG(M.editRoom(l))}),e.TgZ(2,"app-icon"),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"button",8)(5,"app-icon"),e._uU(6,"more_horiz"),e.qZA()()()}}const Ye=function(){return["display_name","zones","capacity","type","bookable","actions"]},qe=function(){return["Room Name","Level","Capacity","Room Type","Bookable"," "]},Qe=function(){return["flex","8r","6r","8r","6r","12r"]},je=function(n,o,t){return{bookable:n,zones:o,actions:t}};class A{constructor(o){this._manager=o,this.rooms=this._manager.filtered_rooms,this.editRoom=t=>this._manager.editRoom(t)}}A.\u0275fac=function(o){return new(o||A)(e.Y36(c))},A.\u0275cmp=e.Xpm({type:A,selectors:[["room-list"]],decls:8,vars:12,consts:[[1,"absolute","inset-0","overflow-auto"],["empty","No rooms for selected level or building",1,"block","min-w-[56rem]","w-full","h-full",3,"dataSource","columns","display_column","column_size","template"],["level_template",""],["bool_template",""],["action_template",""],[1,"rounded","h-8","w-8","flex","items-center","justify-center","text-2xl","text-white","mx-auto"],[1,"w-full","flex","justify-end","space-x-2"],["btn","","icon","","matTooltip","Edit Room",3,"click"],["btn","","icon","","matTooltip","Room Details"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0),e._UZ(1,"custom-table",1),e.qZA(),e.YNc(2,Xe,3,5,"ng-template",null,2,e.W1O),e.YNc(4,Je,3,5,"ng-template",null,3,e.W1O),e.YNc(6,we,7,0,"ng-template",null,4,e.W1O)),2&o){const _=e.MAs(3),i=e.MAs(5),l=e.MAs(7);e.xp6(1),e.Q6J("dataSource",t.rooms)("columns",e.DdM(5,Ye))("display_column",e.DdM(6,qe))("column_size",e.DdM(7,Qe))("template",e.kEZ(8,je,i,_,l))}},dependencies:[Fe.gM,x.o,ze.C,Ue.M]});class R{}R.\u0275fac=function(o){return new(o||R)},R.\u0275cmp=e.Xpm({type:R,selectors:[["","app-weekview",""]],attrs:["app-weekview",""],decls:4,vars:0,consts:[[1,"relative","overflow-hidden","flex","flex-col"],[1,"block","w-full"],[1,"block","w-full","relative","flex-1","h-1/2"]],template:function(o,t){1&o&&(e._UZ(0,"sidebar"),e.TgZ(1,"main",0),e._UZ(2,"room-manager-topbar",1)(3,"room-list",2),e.qZA())},dependencies:[W.k,O,A],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%;background:var(--bg)}sidebar[_ngcontent-%COMP%]{height:100%}main[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:50%;height:100%}\n/*# sourceMappingURL=room-manager.component.ts-angular-inline--152.css.map*/"]});const Be=[{path:"",component:R}];class p{}p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[d.ez,s.u5,K.v,h.YR,V.PP,g.Hi,T.Bz.forChild(Be)]})}}]);
//# sourceMappingURL=apps_concierge_src_app_room-manager_room-manager_module_ts.js.map