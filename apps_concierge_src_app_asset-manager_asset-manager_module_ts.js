"use strict";(self.webpackChunkconcierge=self.webpackChunkconcierge||[]).push([["apps_concierge_src_app_asset-manager_asset-manager_module_ts"],{9967:(Sn,ne,r)=>{r.r(ne),r.d(ne,{AppAssetManangerModule:()=>L});var c=r(4666),d=r(9885),Ce=r(4218),O=r(8971),Me=r(1755),e=r(2560),B=r(2508),u=r(207);
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const we=["button"],Ze=["*"],ie=new e.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),ae=new e.OlP("MatButtonToggleGroup"),ke={provide:B.JU,useExisting:(0,e.Gpc)(()=>re),multi:!0};let oe=0;class se{constructor(n,t){this.source=n,this.value=t}}let re=(()=>{class i{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,O.Ig)(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(a=>a.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,O.Ig)(t),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,O.Ig)(t),this._markButtonsForCheck()}constructor(t,a){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+oe++,this.valueChange=new e.vpe,this.change=new e.vpe,this.appearance=a&&a.appearance?a.appearance:"standard"}ngOnInit(){this._selectionModel=new Me.Ov(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(t){const a=new se(t,this.value);this._controlValueAccessorChangeFn(a.value),this.change.emit(a)}_syncButtonToggle(t,a,o=!1,s=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?a?this._selectionModel.select(t):this._selectionModel.deselect(t):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(t,o)):this._updateModelValue(t,o)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(a=>null!=t.value&&a===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(a=>this._selectValue(a))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const a=this._buttonToggles.find(o=>null!=o.value&&o.value===t);a&&(a.checked=!0,this._selectionModel.select(a))}_updateModelValue(t,a){a&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(ie,8))},i.\u0275dir=e.lG2({type:i,selectors:[["mat-button-toggle-group"]],contentQueries:function(t,a,o){if(1&t&&e.Suo(o,le,5),2&t){let s;e.iGM(s=e.CRH())&&(a._buttonToggles=s)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(t,a){2&t&&(e.uIk("aria-disabled",a.disabled),e.ekj("mat-button-toggle-vertical",a.vertical)("mat-button-toggle-group-appearance-standard","standard"===a.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[e._Bn([ke,{provide:ae,useExisting:i}])]}),i})();const Ie=(0,u.Kr)(class{});let le=(()=>{class i extends Ie{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const a=(0,O.Ig)(t);a!==this._checked&&(this._checked=a,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=(0,O.Ig)(t)}constructor(t,a,o,s,l,m){super(),this._changeDetectorRef=a,this._elementRef=o,this._focusMonitor=s,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new e.vpe;const y=Number(l);this.tabIndex=y||0===y?y:null,this.buttonToggleGroup=t,this.appearance=m&&m.appearance?m.appearance:"standard"}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+oe++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector()||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new se(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ae,8),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(Ce.tE),e.$8M("tabindex"),e.Y36(ie,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-button-toggle"]],viewQuery:function(t,a){if(1&t&&e.Gf(we,5),2&t){let o;e.iGM(o=e.CRH())&&(a._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(t,a){1&t&&e.NdJ("focus",function(){return a.focus()}),2&t&&(e.uIk("aria-label",null)("aria-labelledby",null)("id",a.id)("name",null),e.ekj("mat-button-toggle-standalone",!a.buttonToggleGroup)("mat-button-toggle-checked",a.checked)("mat-button-toggle-disabled",a.disabled)("mat-button-toggle-appearance-standard","standard"===a.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[e.qOj],ngContentSelectors:Ze,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(t,a){if(1&t&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return a._onButtonClick()}),e.TgZ(2,"span",2),e.Hsn(3),e.qZA()(),e._UZ(4,"span",3)(5,"span",4)),2&t){const o=e.MAs(1);e.Q6J("id",a.buttonId)("disabled",a.disabled||null),e.uIk("tabindex",a.disabled?-1:a.tabIndex)("aria-pressed",a.checked)("name",a._getButtonName())("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby),e.xp6(5),e.Q6J("matRippleTrigger",o)("matRippleDisabled",a.disableRipple||a.disabled)}},dependencies:[u.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),i})(),qe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.BQ,u.si,u.BQ]}),i})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
var ce=r(1294),Le=r(7520),De=r(2867);
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Oe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[De.vT]}),i})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
var Re=r(7822),Ee=r(2218);
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */r(4851);let Y=(()=>{class i{constructor(){this.changes=new Ee.xQ,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Ge={provide:Y,deps:[[new e.FiY,new e.tp0,Y]],useFactory:function ze(i){return i||new Y}};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Ke=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[Ge,u.rD],imports:[u.BQ,c.ez,Le.eL,Oe,Re.Ps,u.si,u.BQ]}),i})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
var $e=r(3045),R=r(5892),g=r(1670),Q=r(5375),T=r(1426),We=r(2886),_e=r(1810),Xe=r(9377),et=r(3200),H=r(4505),j=r(7716),K=r(9095),tt=r(8759),me=r(9128),nt=r(823),x=r(6942),it=r(3910),f=r(2180),at=r(308);class _ extends T.cx{get form(){return this._form}constructor(n){super(),this._spaces=n,this._options=new H.X({view:"grid"}),this._change=new H.X(0),this._poll=new H.X(0),this._form=(0,f.PG)(),this._loading=new H.X(!1),this.assets=this._change.pipe((0,K.w)(()=>(this._loading.next(!0),(0,f.Q6)())),(0,tt.b)(()=>this._loading.next(!1)),(0,me.d)(1)),this.loading=this._loading.asObservable(),this.options=this._options.asObservable(),this.requests=(0,j.aj)([this._poll,this._change,this._spaces.initialised]).pipe((0,nt.b)(200),(0,K.w)(t=>(0,Q.F2)({period_start:(0,_e.Z)((0,Xe.Z)(Date.now())),period_end:(0,_e.Z)((0,et.Z)(Date.now())),type:"asset-request"})),(0,x.U)(t=>t.map(a=>new Q.$N({...a,extension_data:{...a.extension_data,space:this._spaces.find(a.extension_data.space_id)}}))),(0,me.d)(1)),this.filtered_requests=(0,j.aj)([this.requests,this._options]).pipe((0,x.U)(([t,a])=>{const o=(a.search||"").toLowerCase();return o?t.filter(s=>s.user_name.toLowerCase().includes(o)||s.extension_data.location_name.toLowerCase().includes(o)||s.extension_data.assets.find(l=>l.name.toLowerCase().includes(o))||s.status.includes(o)||s.extension_data.tracking.includes(o)):t})),this.active_asset=(0,j.aj)([this.assets,this._options]).pipe((0,x.U)(([t,a])=>t.find(o=>o.id===a.active_asset))),this.active_asset_requests=this.active_asset.pipe((0,K.w)(t=>this.requests.pipe((0,x.U)(a=>a.filter(o=>o.extension_data.assets.find(s=>s.id===t.id))))),(0,x.U)(t=>t.filter(a=>"declined"!==a.status))),this.filtered_assets=(0,j.aj)([this.assets,this._options]).pipe((0,x.U)(([t,a])=>a.search?t.filter(o=>o.name.toLowerCase().includes(a.search.toLowerCase())):t)),this.asset_mapping=this.filtered_assets.pipe((0,x.U)(t=>{const a={},o=(0,T.Tw)(t.map(s=>s.type_id));for(const s of o)a[s]=t.filter(l=>l.type_id===s);return a})),this.asset_categories=this.asset_mapping.pipe((0,x.U)(t=>Object.keys(t||{})))}startPolling(n=15e3){return this.interval("polling",()=>this._poll.next(Date.now()),n),()=>this.stopPolling()}stopPolling(){this.clearInterval("polling")}resetForm(){this._form=(0,f.PG)()}setOptions(n){this._options.next({...this._options.getValue(),...n})}setStatus(n,t){var a=this;return(0,g.Z)(function*(){const o=yield(0,Q.Wp)(n.id,{...n,approved:"approved"===t,rejected:"declined"===t}).toPromise();return a._change.next(Date.now()),o})()}setTracking(n,t){var a=this;return(0,g.Z)(function*(){const o=yield(0,Q.Wp)(n.id,{...n,extension_data:{...n.extension_data,tracking:t}}).toPromise();return a._change.next(Date.now()),o})()}clearActiveAsset(){this.setOptions({active_asset:""}),this.resetForm()}deleteActiveAsset(){var n=this;return(0,g.Z)(function*(){const t=yield n.active_asset.pipe((0,it.q)(1)).toPromise();t?.id&&(yield(0,f.mo)(t.id).toPromise(),n._change.next(Date.now()),(0,T.t5)("Successfully deleted asset"),n.clearActiveAsset())})()}postForm(){var n=this;return(0,g.Z)(function*(){if(!n.form?.valid)return;const t=n.form.value,a={...t},o=["other_data","id","name","quantity","category","purchase_date","brand","images"];for(const l of o)delete a[l];t.other_data=(0,at.sWL)(a,[void 0,null,""]);const s=yield(0,f.U)(t).toPromise();return n._change.next(Date.now()),(0,T.t5)(`Successfully ${t.id?"updated":"created"} asset`),n.resetForm(),s.id})()}}_.\u0275fac=function(n){return new(n||_)(e.LFG(We.sK))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"});var J=r(5074),ge=r(1267),E=r(5306);function ot(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"mat-button-toggle-group",7),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.setOptions({view:o}))}),e.ALo(1,"async"),e.TgZ(2,"mat-button-toggle",8)(3,"div",9)(4,"app-icon"),e._uU(5,"view_module"),e.qZA()()(),e.TgZ(6,"mat-button-toggle",10)(7,"div",9)(8,"app-icon"),e._uU(9,"view_list"),e.qZA()()()()}if(2&i){const t=e.oxw();let a;e.Q6J("ngModel",null==(a=e.lcZ(1,1,t.options))?null:a.view)}}const st=function(){return["/asset-manager","manage","group"]};class S{constructor(n){this._state=n,this.show_actions=!0,this.options=this._state.options,this.setOptions=t=>this._state.setOptions(t)}}S.\u0275fac=function(n){return new(n||S)(e.Y36(_))},S.\u0275cmp=e.Xpm({type:S,selectors:[["asset-manager-topbar"]],inputs:{show_actions:"show_actions"},decls:10,vars:6,consts:[[1,"w-full","px-4","py-2","bg-white","dark:bg-neutral-700","flex","items-center","space-x-4"],["btn","","matRipple","",1,"secondary",3,"routerLink"],[3,"ngModel","ngModelChange",4,"ngIf"],[1,"flex-1"],["appearance","outline",1,"h-[3.25rem]"],["matPrefix","",1,"text-2xl","relative","top-1","-left-1"],["matInput","","placeholder","Search for an asset or request",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","grid"],[1,"flex","items-center","justify-center","h-10","w-6","text-xl"],["value","list"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"a",1),e._uU(2," Add Group "),e.qZA(),e.YNc(3,ot,10,3,"mat-button-toggle-group",2),e._UZ(4,"div",3),e.TgZ(5,"mat-form-field",4)(6,"app-icon",5),e._uU(7,"search"),e.qZA(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(o){return t.setOptions({search:o})}),e.ALo(9,"async"),e.qZA()()()),2&n){let a;e.xp6(1),e.Q6J("routerLink",e.DdM(5,st)),e.xp6(2),e.Q6J("ngIf",t.show_actions),e.xp6(5),e.Q6J("ngModel",null==(a=e.lcZ(9,3,t.options))?null:a.search)}},dependencies:[c.O5,J.KE,J.qo,ge.Nt,u.wG,B.Fj,B.JJ,B.On,E.o,re,le,d.rH,c.Ov]});const rt=function(){return["/asset-manager","list","requests"]},lt=function(){return["/asset-manager","list","items"]};class A{constructor(n){this._router=n,this.active="requests"}ngOnInit(){this.active=this._router.url.includes("requests")?"requests":"items"}}A.\u0275fac=function(n){return new(n||A)(e.Y36(d.F0))},A.\u0275cmp=e.Xpm({type:A,selectors:[["asset-listing"]],decls:9,vars:8,consts:[[3,"show_actions"],[1,"flex","flex-col","flex-1","h-1/2","w-full","px-4"],["mat-tab-nav-bar",""],["mat-tab-link","",3,"routerLink","routerLinkActive","active","click"],["mat-tab-link","",3,"routerLink","active","click"],[1,"flex-1","h-1/2","w-full","overflow-visible"]],template:function(n,t){1&n&&(e._UZ(0,"asset-manager-topbar",0),e.TgZ(1,"div",1)(2,"nav",2)(3,"a",3),e.NdJ("click",function(){return t.active="requests"}),e._uU(4," Requests "),e.qZA(),e.TgZ(5,"a",4),e.NdJ("click",function(){return t.active="items"}),e._uU(6," Assets "),e.qZA()(),e.TgZ(7,"div",5),e._UZ(8,"router-outlet"),e.qZA()()),2&n&&(e.Q6J("show_actions","items"===t.active),e.xp6(3),e.Q6J("routerLink",e.DdM(6,rt))("routerLinkActive","active")("active","requests"===t.active),e.xp6(2),e.Q6J("routerLink",e.DdM(7,lt))("active","items"===t.active))},dependencies:[R.BU,R.Nj,d.lC,d.rH,d.Od,S],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}\n/*# sourceMappingURL=asset-listing.component.ts-angular-inline--104.css.map*/"]});var ct=r(4945);class C{}C.\u0275fac=function(n){return new(n||C)},C.\u0275cmp=e.Xpm({type:C,selectors:[["","asset-manager",""]],attrs:["asset-manager",""],decls:3,vars:0,consts:[[1,"relative","w-1/2","flex-1","bg-gray-200","dark:bg-neutral-600","overflow-hidden"]],template:function(n,t){1&n&&(e._UZ(0,"sidebar"),e.TgZ(1,"main",0),e._UZ(2,"router-outlet"),e.qZA())},dependencies:[ct.k,d.lC],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%;background:var(--bg)}\n/*# sourceMappingURL=asset-manager.component.ts-angular-inline--105.css.map*/"]});var $=r(6725),dt=r(6221),ut=r(5670),v=r(8589),he=r(1484),_t=r(9136),fe=r(1110);class b{transform(n,t="_",a=" "){return(n||"").split(t).join(a)}}function mt(i,n){if(1&i&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",(null==t.selected.extension_data||null==t.selected.extension_data.space||null==t.selected.extension_data.space.level?null:t.selected.extension_data.space.level.display_name)||(null==t.selected.extension_data||null==t.selected.extension_data.space||null==t.selected.extension_data.space.level?null:t.selected.extension_data.space.level.name)," ")}}b.\u0275fac=function(n){return new(n||b)},b.\u0275pipe=e.Yjl({name:"splitjoin",type:b,pure:!0});const ve=function(){return{display:"none"}},gt=function(i,n){return{"#Zones":i,"#zones":n}};function ht(i,n){if(1&i&&e._UZ(0,"i-map",17),2&i){const t=e.oxw();e.Q6J("src",null==t.selected.extension_data||null==t.selected.extension_data.space||null==t.selected.extension_data.space.level?null:t.selected.extension_data.space.level.map_id)("styles",e.WLB(5,gt,e.DdM(3,ve),e.DdM(4,ve)))("features",t.selected_feature)}}function ft(i,n){1&i&&(e.TgZ(0,"p",18),e._uU(1," Select a space from the list to view map location "),e.qZA())}function vt(i,n){if(1&i&&e._uU(0),2&i){const t=n.row;e.hij(" ",(null==t.extension_data||null==t.extension_data.space?null:t.extension_data.space.display_name)||(null==t.extension_data||null==t.extension_data.space?null:t.extension_data.space.name)," ")}}function xt(i,n){if(1&i&&e._uU(0),2&i){const t=n.row;e.hij(" ",(null==t.extension_data||null==t.extension_data.space||null==t.extension_data.space.level?null:t.extension_data.space.level.display_name)||(null==t.extension_data||null==t.extension_data.space||null==t.extension_data.space.level?null:t.extension_data.space.level.name)," ")}}function bt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(o){return o.stopPropagation()}),e.TgZ(1,"div",20),e._uU(2),e.ALo(3,"splitjoin"),e.qZA(),e.TgZ(4,"app-icon",21),e._uU(5,"expand_more"),e.qZA()(),e.TgZ(6,"mat-menu",22,23)(8,"button",24),e.NdJ("click",function(){const s=e.CHM(t).row,l=e.oxw();return e.KtG(l.setTracking(s,"in_storage"))}),e._uU(9," In Storage "),e.qZA(),e.TgZ(10,"button",24),e.NdJ("click",function(){const s=e.CHM(t).row,l=e.oxw();return e.KtG(l.setTracking(s,"in_transit"))}),e._uU(11," In Transit "),e.qZA(),e.TgZ(12,"button",24),e.NdJ("click",function(){const s=e.CHM(t).row,l=e.oxw();return e.KtG(l.setTracking(s,"at_location"))}),e._uU(13," At Location "),e.qZA()()}if(2&i){const t=n.row,a=e.MAs(7),o=e.oxw();e.Q6J("matMenuTriggerFor",a)("disabled",o.loading[t.id]),e.xp6(2),e.hij(" ",e.lcZ(3,3,null==t.extension_data?null:t.extension_data.tracking)," ")}}const yt=function(){return["location_floor","location_name","tracking","user_name"]},Tt=function(){return["Level","Space","Tracking","Requestee"]},St=function(){return["4r","flex","10r","6r"]},At=function(i,n,t){return{tracking:i,location_floor:n,location_name:t}};class M{updateFeatures(){const n=this.selected.extension_data?.space||{};this.selected_feature=this.selected?[{location:n.map_id,content:$.qL,z_index:99,data:{message:`${n.display_name||n.name} is here`}}]:[]}setTracking(n,t){var a=this;return(0,g.Z)(function*(){a.loading[n.id]=!0,yield a._state.setTracking(n,t),a.loading[n.id]=!1})()}constructor(n){this._state=n,this.asset=this._state.active_asset,this.requests=this._state.active_asset_requests,this.loading={}}}M.\u0275fac=function(n){return new(n||M)(e.Y36(_))},M.\u0275cmp=e.Xpm({type:M,selectors:[["asset-location-modal"]],decls:26,vars:21,consts:[[1,"p-6","relative"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-4","right-4"],[1,"font-medium","mb-2"],["appearance","outline",1,"h-[3.5rem]","mb-2"],["matPrefix",""],["matInput","","placeholder","Search..."],[1,"flex","items-center","space-x-4","w-[90vw]","text-sm"],[1,"flex-1","h-[60vh]","w-1/2","border","border-gray-300","bg-gray-50","overflow-auto"],[3,"dataSource","columns","display_column","column_size","template","row_clicked"],[1,"flex-1","h-[60vh]","w-1/2","border","border-gray-300","bg-gray-100","relative","flex","items-center","justify-center"],["class","absolute top-4 left-4 bg-white px-4 py-2 rounded-3xl border border-gray-300",4,"ngIf"],[3,"src","styles","features",4,"ngIf","ngIfElse"],["empty_state",""],["space_template",""],["level_template",""],["tracking_template",""],[1,"absolute","top-4","left-4","bg-white","px-4","py-2","rounded-3xl","border","border-gray-300"],[3,"src","styles","features"],[1,"opacity-30"],["matRipple","",1,"bg-none","w-full","flex","items-center","px-2","py-1","text-left",3,"matMenuTriggerFor","disabled","click"],[1,"capitalize","flex-1"],[1,"text-2xl"],[1,"w-36"],["tracking_menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"button",1)(2,"app-icon"),e._uU(3,"close"),e.qZA()(),e.TgZ(4,"h2",2),e._uU(5),e.ALo(6,"async"),e.ALo(7,"async"),e.qZA(),e.TgZ(8,"mat-form-field",3)(9,"app-icon",4),e._uU(10,"search"),e.qZA(),e._UZ(11,"input",5),e.qZA(),e.TgZ(12,"div",6)(13,"div",7)(14,"custom-table",8),e.NdJ("row_clicked",function(o){return t.selected=o,t.updateFeatures()}),e.qZA()(),e.TgZ(15,"div",9),e.YNc(16,mt,2,1,"div",10),e.YNc(17,ht,1,8,"i-map",11),e.qZA()()(),e.YNc(18,ft,2,0,"ng-template",null,12,e.W1O),e.YNc(20,vt,1,1,"ng-template",null,13,e.W1O),e.YNc(22,xt,1,1,"ng-template",null,14,e.W1O),e.YNc(24,bt,14,5,"ng-template",null,15,e.W1O)),2&n){const a=e.MAs(19),o=e.MAs(21),s=e.MAs(23),l=e.MAs(25);let m;e.xp6(5),e.AsE(" ",null==(m=e.lcZ(6,10,t.asset))?null:m.name," in use location: ",null==(m=e.lcZ(7,12,t.requests))?null:m.length," "),e.xp6(9),e.Q6J("dataSource",t.requests)("columns",e.DdM(14,yt))("display_column",e.DdM(15,Tt))("column_size",e.DdM(16,St))("template",e.kEZ(17,At,l,s,o)),e.xp6(2),e.Q6J("ngIf",t.selected),e.xp6(1),e.Q6J("ngIf",t.selected)("ngIfElse",a)}},dependencies:[c.O5,J.KE,J.qo,ge.Nt,v.VK,v.OP,v.p6,he.ZT,u.wG,E.o,_t.p,fe.C,c.Ov,b]});var Ct=r(1708),Mt=r(3970),wt=r(2581),Zt=r(158);function kt(i,n){1&i&&(e.TgZ(0,"h3",33),e._uU(1," Other "),e.qZA())}function It(i,n){if(1&i&&(e.TgZ(0,"div",8)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.value||"None")}}const z=function(){return[]};function qt(i,n){if(1&i&&(e.TgZ(0,"div",34),e.YNc(1,It,5,2,"div",41),e.ALo(2,"async"),e.qZA()),2&i){const t=e.oxw(2);let a;e.xp6(1),e.Q6J("ngForOf",(null==(a=e.lcZ(2,1,t.asset))?null:a.general_details)||e.DdM(3,z))}}function Lt(i,n){if(1&i&&(e.TgZ(0,"div",35)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"a",43),e.ALo(7,"safe"),e._uU(8," Download "),e.qZA()()),2&i){const t=n.$implicit,a=e.oxw(3);e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(5,3,t.price,a.code)),e.xp6(2),e.Q6J("href",e.lcZ(7,6,a.invoice.url),e.LSH)}}function Dt(i,n){if(1&i&&(e.TgZ(0,"div",34),e.YNc(1,Lt,9,8,"div",42),e.ALo(2,"async"),e.qZA()),2&i){const t=e.oxw(2);let a;e.xp6(1),e.Q6J("ngForOf",(null==(a=e.lcZ(2,1,t.asset))?null:a.invoices)||e.DdM(3,z))}}function Ot(i,n){if(1&i&&(e.TgZ(0,"div",35)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA()()),2&i){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.value)}}function Rt(i,n){if(1&i&&(e.TgZ(0,"div",34),e.YNc(1,Ot,5,2,"div",42),e.ALo(2,"async"),e.qZA()),2&i){const t=e.oxw(2);let a;e.xp6(1),e.Q6J("ngForOf",(null==(a=e.lcZ(2,1,t.asset))?null:a.consumables)||e.DdM(3,z))}}const Et=function(){return["/asset-manager","list","items"]},Ut=function(){return["/asset-manager","manage","details"]};function Ft(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"a",7)(3,"div",8)(4,"app-icon",9),e._uU(5,"arrow_back"),e.qZA(),e.TgZ(6,"div",10),e._uU(7,"Back"),e.qZA()()(),e.TgZ(8,"div",11)(9,"span"),e._uU(10,"Assets"),e.qZA(),e.TgZ(11,"span")(12,"app-icon",12),e._uU(13,"chevron_right"),e.qZA()(),e.TgZ(14,"span"),e._uU(15),e.ALo(16,"async"),e.qZA(),e.TgZ(17,"span")(18,"app-icon",12),e._uU(19,"chevron_right"),e.qZA()(),e.TgZ(20,"span"),e._uU(21),e.ALo(22,"async"),e.qZA()()(),e.TgZ(23,"div",8)(24,"div",13),e._UZ(25,"image-carousel",14),e.ALo(26,"async"),e.qZA(),e.TgZ(27,"div",15)(28,"div",16)(29,"div",17),e._uU(30),e.ALo(31,"async"),e.qZA(),e.TgZ(32,"div",18)(33,"a",19)(34,"div",20)(35,"app-icon",21),e._uU(36,"edit"),e.qZA(),e.TgZ(37,"div",10),e._uU(38,"Edit"),e.qZA()()(),e._UZ(39,"div",22),e.TgZ(40,"button",23)(41,"div",24)(42,"app-icon",21),e._uU(43,"delete"),e.qZA(),e.TgZ(44,"div",10),e._uU(45,"Delete"),e.qZA()()()()(),e.TgZ(46,"div",25),e._uU(47),e.ALo(48,"async"),e.qZA(),e.TgZ(49,"div",26)(50,"div",27)(51,"div",28),e._uU(52),e.ALo(53,"async"),e.ALo(54,"async"),e.qZA(),e.TgZ(55,"button",29),e._uU(56,"Assign to Location"),e.qZA()(),e.TgZ(57,"div",27)(58,"div",28),e._uU(59),e.ALo(60,"async"),e.qZA(),e.TgZ(61,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.viewLocations())}),e._uU(62," View Locations "),e.qZA()()()()(),e.TgZ(63,"mat-tab-group")(64,"mat-tab",31)(65,"div",32)(66,"h3",33),e._uU(67,"General"),e.qZA(),e.TgZ(68,"div",34)(69,"div",35)(70,"label"),e._uU(71,"Barcode"),e.qZA(),e.TgZ(72,"div"),e._uU(73),e.ALo(74,"async"),e.qZA()(),e.TgZ(75,"div",35)(76,"label"),e._uU(77,"Brand"),e.qZA(),e.TgZ(78,"div"),e._uU(79),e.ALo(80,"async"),e.qZA()()(),e.YNc(81,kt,2,0,"h3",36),e.ALo(82,"async"),e.YNc(83,qt,3,4,"div",37),e.ALo(84,"async"),e.qZA()(),e.TgZ(85,"mat-tab",38)(86,"div",32)(87,"h3",33),e._uU(88,"Timeline"),e.qZA(),e.TgZ(89,"div",34)(90,"div",35)(91,"label"),e._uU(92,"Purchase Date"),e.qZA(),e.TgZ(93,"div"),e._uU(94),e.ALo(95,"date"),e.ALo(96,"async"),e.qZA()(),e.TgZ(97,"div",35)(98,"label"),e._uU(99,"Good Until"),e.qZA(),e.TgZ(100,"div"),e._uU(101),e.ALo(102,"date"),e.ALo(103,"async"),e.qZA()()(),e.TgZ(104,"h3",33),e._uU(105,"Invoices"),e.qZA(),e.YNc(106,Dt,3,4,"div",39),e.ALo(107,"async"),e.qZA()(),e.TgZ(108,"mat-tab",40)(109,"div",32)(110,"h3",33),e._uU(111,"Items"),e.qZA(),e.YNc(112,Rt,3,4,"div",39),e.ALo(113,"async"),e.qZA()()()()}if(2&i){const t=e.oxw(),a=e.MAs(5),o=e.MAs(7),s=e.MAs(9);let l,m,y,G,V,h,D,ye,Te,W,X,Se,Ae,ee,te;e.xp6(2),e.Q6J("routerLink",e.DdM(58,Et)),e.xp6(13),e.Oqu(null==(l=e.lcZ(16,20,t.asset))?null:l.category),e.xp6(6),e.Oqu(null==(m=e.lcZ(22,22,t.asset))?null:m.name),e.xp6(4),e.Q6J("images",(null==(y=e.lcZ(26,24,t.asset))?null:y.images)||e.DdM(59,z)),e.xp6(5),e.hij(" ",null==(G=e.lcZ(31,26,t.asset))?null:G.name," "),e.xp6(3),e.Q6J("routerLink",e.DdM(60,Ut)),e.xp6(8),e.Q6J("content",a),e.xp6(6),e.hij(" ",(null==(V=e.lcZ(48,28,t.asset))?null:V.description)||"~No Description~"," "),e.xp6(5),e.hij(" Available: ",(null==(h=e.lcZ(53,30,t.asset))?null:h.count)-(null==(h=e.lcZ(54,32,t.asset))||null==h.locations?null:h.locations.length)||0," "),e.xp6(7),e.hij(" In Use: ",(null==(D=e.lcZ(60,34,t.asset))||null==D.locations?null:D.locations.length)||0," "),e.xp6(14),e.hij(" ",(null==(ye=e.lcZ(74,36,t.asset))?null:ye.barcode)||"~None~"," "),e.xp6(6),e.hij(" ",(null==(Te=e.lcZ(80,38,t.asset))?null:Te.brand)||"~None~"," "),e.xp6(2),e.Q6J("ngIf",null==(W=e.lcZ(82,40,t.asset))||null==W.general_details?null:W.general_details.length),e.xp6(2),e.Q6J("ngIf",null==(X=e.lcZ(84,42,t.asset))||null==X.general_details?null:X.general_details.length),e.xp6(11),e.hij(" ",e.xi3(95,44,null==(Se=e.lcZ(96,47,t.asset))?null:Se.purchase_date,"mediumDate")," "),e.xp6(7),e.hij(" ",e.xi3(102,49,null==(Ae=e.lcZ(103,52,t.asset))?null:Ae.good_until,"mediumDate")," "),e.xp6(5),e.Q6J("ngIf",null==(ee=e.lcZ(107,54,t.asset))||null==ee.invoices?null:ee.invoices.length)("ngIfElse",o),e.xp6(6),e.Q6J("ngIf",null==(te=e.lcZ(113,56,t.asset))||null==te.consumables?null:te.consumables.length)("ngIfElse",s)}}function Nt(i,n){1&i&&(e.TgZ(0,"div",44),e._UZ(1,"mat-spinner",45),e.TgZ(2,"p"),e._uU(3,"Loading asset details..."),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("diameter",32))}function Pt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",48)(1,"p"),e._uU(2,"Are you sure you want to permanently delete this asset?"),e.qZA(),e.TgZ(3,"div",49)(4,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.closeTooltip())}),e._uU(5," No "),e.qZA(),e.TgZ(6,"button",51),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.deleteAsset())}),e._uU(7," Yes, delete "),e.qZA()()()}}function Bt(i,n){1&i&&(e.TgZ(0,"div",52),e._UZ(1,"mat-spinner",45),e.TgZ(2,"p"),e._uU(3,"Deleting asset details..."),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("diameter",32))}function Qt(i,n){if(1&i&&(e.YNc(0,Pt,8,0,"div",46),e.YNc(1,Bt,4,1,"ng-template",null,47,e.W1O)),2&i){const t=e.MAs(2),a=e.oxw();e.Q6J("ngIf",!a.deleting)("ngIfElse",t)}}function Ht(i,n){1&i&&(e.TgZ(0,"div",53),e._uU(1,"No Invoices"),e.qZA())}function jt(i,n){1&i&&(e.TgZ(0,"div",53),e._uU(1,"No consumables"),e.qZA())}class w extends T.cx{deleteAsset(){var n=this;return(0,g.Z)(function*(){n.deleting=!0,yield n._state.deleteActiveAsset(),n.deleting=!1,n._router.navigate(["/asset-manager","list","items"]),n.closeTooltip()})()}closeTooltip(){this._tooltip_el?.close()}get code(){return this._org.currency_code}constructor(n,t,a,o,s){super(),this._route=n,this._router=t,this._state=a,this._dialog=o,this._org=s,this.loading=!1,this.deleting=!1,this.asset=this._state.active_asset}viewLocations(){this._dialog.open(M)}ngOnInit(){this.loading=!0,this.subscription("route.params",this._route.paramMap.subscribe(n=>{n.has("id")&&this._state.setOptions({active_asset:n.get("id")})})),this.timeout("no_asset",()=>this._router.navigate(["/asset-mananger"]),1e3),this._state.active_asset.pipe((0,ut.P)(n=>!!n)).subscribe(()=>{this.clearTimeout("no_asset"),this.loading=!1})}}w.\u0275fac=function(n){return new(n||w)(e.Y36(d.gz),e.Y36(d.F0),e.Y36(_),e.Y36(he.uw),e.Y36(dt.w7))},w.\u0275cmp=e.Xpm({type:w,selectors:[["asset-view"]],viewQuery:function(n,t){if(1&n&&e.Gf($.Xo,5),2&n){let a;e.iGM(a=e.CRH())&&(t._tooltip_el=a.first)}},features:[e.qOj],decls:10,vars:4,consts:[["class","h-full w-full",4,"ngIf","ngIfElse"],["loading_state",""],["delete_tooltip",""],["empty_invoices",""],["empty_items",""],[1,"h-full","w-full"],[1,"flex","items-center","space-x-4","p-2","bg-white","border-b","border-gray-200"],["btn","","matRipple","",1,"inverse",3,"routerLink"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-2"],[1,"flex","items-center","space-x-2","font-medium"],[1,"text-2xl"],[1,"bg-white","dark:bg-neutral-700","flex-1","w-1/2","h-[22.5rem]"],[3,"images"],[1,"w-[32rem]","h-[22.5rem]","px-4","flex","flex-col"],[1,"w-full","flex","items-center","justify-between","border-b","border-gray-300","dark:border-neutral-500"],[1,"font-medium"],[1,"flex","items-center","text-sm"],["button","","btn","","matRipple","",1,"clear",3,"routerLink"],[1,"flex","items-center","text-secondary"],[1,"text-lg"],[1,"w-px","h-4","bg-gray-300"],["btn","","matRipple","",1,"clear"],["customTooltip","",1,"flex","items-center","text-secondary",3,"content"],[1,"py-4","w-full","flex-1","h-1/2","overflow-auto"],[1,"rounded","bg-white","dark:bg-neutral-700","shadow","border","border-gray-300","dark:border-neutral-500","w-full","divide-y","divide-gray-200","dark:divide-neutral-500"],[1,"flex","items-center","justify-between","p-3"],[1,"pl-2"],["btn","","matRipple",""],["btn","","matRipple","",3,"click"],["label","Specifications"],[1,"p-8"],[1,"p-2"],["data-table","",1,"bg-white","dark:bg-neutral-700","border","border-gray-300","dark:border-neutral-500"],[1,"flex","items-center","p-2"],["class","p-2",4,"ngIf"],["data-table","","class","bg-white dark:bg-neutral-700 border border-gray-300 dark:border-neutral-500",4,"ngIf"],["label","Purchase information"],["data-table","","class","bg-white dark:bg-neutral-700 border border-gray-300 dark:border-neutral-500",4,"ngIf","ngIfElse"],["label","Consumable assets"],["class","flex items-center",4,"ngFor","ngForOf"],["class","flex items-center p-2",4,"ngFor","ngForOf"],["target","_blank","ref","noreferer noopener",1,"underline",3,"href"],[1,"h-full","w-full","flex","flex-col","items-center","justify-center"],[3,"diameter"],["class","p-4 bg-white dark:bg-neutral-700 rounded my-2 w-64 h-36 text-center",4,"ngIf","ngIfElse"],["delete_loading",""],[1,"p-4","bg-white","dark:bg-neutral-700","rounded","my-2","w-64","h-36","text-center"],[1,"flex","items-center","space-x-2","mt-6"],["matRipple","",1,"inverse","flex-1",3,"click"],["matRipple","",1,"error","flex-1",3,"click"],[1,"p-4","bg-white","dark:bg-neutral-700","rounded","my-2","w-64","h-36","flex","flex-col","items-center","justify-center","space-y-2"],[1,"p-2","opacity-30"]],template:function(n,t){if(1&n&&(e.YNc(0,Ft,114,61,"div",0),e.ALo(1,"async"),e.YNc(2,Nt,4,1,"ng-template",null,1,e.W1O),e.YNc(4,Qt,3,2,"ng-template",null,2,e.W1O),e.YNc(6,Ht,2,0,"ng-template",null,3,e.W1O),e.YNc(8,jt,2,0,"ng-template",null,4,e.W1O)),2&n){const a=e.MAs(3);e.Q6J("ngIf",!t.loading&&e.lcZ(1,2,t.asset))("ngIfElse",a)}},dependencies:[c.sg,c.O5,Ct.Ou,u.wG,E.o,Mt.X,wt.K,R.uX,R.SP,d.rH,c.Ov,c.H9,c.uU,Zt.y],styles:["[data-table]>div[_ngcontent-%COMP%]:nth-child(2n){background:#0001}label[_ngcontent-%COMP%]{width:15rem;min-width:0}\n/*# sourceMappingURL=asset-view.component.ts-angular-inline--106.css.map*/"]});var xe=r(9685),Jt=r(1799);class Z{transform(n,t=!0){let a=(0,Jt.Z)({days:Math.floor(n/1440),hours:Math.floor(n/60%24),minutes:Math.floor(n%60)});return t?a.replace(" day","d").replace(" hour","hr").replace(" minute","min"):a}}function zt(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.AsE(" ",t.amount||1,"\xd7 ",t.name," ")}}Z.\u0275fac=function(n){return new(n||Z)},Z.\u0275pipe=e.Yjl({name:"duration",type:Z,pure:!0});const Gt=function(i){return{name:i}},Vt=function(){return[]};function Yt(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.request=null,e.KtG(o.requestChange.emit(o.request))}),e.TgZ(1,"div",2),e.NdJ("click",function(o){return o.stopPropagation()}),e.TgZ(2,"button",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.request=null,e.KtG(o.requestChange.emit(o.request))}),e.TgZ(3,"app-icon"),e._uU(4,"close"),e.qZA()(),e.TgZ(5,"div",4),e._UZ(6,"a-user-avatar",5),e.TgZ(7,"div",6)(8,"div",7),e._uU(9),e.qZA(),e.TgZ(10,"div",8)(11,"app-icon"),e._uU(12,"mail"),e.qZA(),e.TgZ(13,"a",9),e._uU(14),e.qZA()(),e.TgZ(15,"div",8)(16,"app-icon"),e._uU(17,"call"),e.qZA(),e.TgZ(18,"a",9),e._uU(19),e.qZA()(),e.TgZ(20,"div",8)(21,"app-icon"),e._uU(22,"work_outline"),e.qZA(),e.TgZ(23,"div"),e._uU(24),e.qZA()()()(),e.TgZ(25,"div",10)(26,"div",11)(27,"div",12)(28,"app-icon",13),e._uU(29,"send"),e.qZA()(),e.TgZ(30,"div",7),e._uU(31,"Assets Requested"),e.qZA()(),e.TgZ(32,"div",14),e.YNc(33,zt,2,2,"div",15),e.qZA(),e.TgZ(34,"div",16)(35,"div",12)(36,"app-icon",13),e._uU(37,"event"),e.qZA()(),e.TgZ(38,"div",7),e._uU(39,"Date For"),e.qZA()(),e.TgZ(40,"div",17),e._uU(41),e.ALo(42,"date"),e.qZA(),e.TgZ(43,"div",16)(44,"div",12)(45,"app-icon",13),e._uU(46,"schedule"),e.qZA()(),e.TgZ(47,"div",7),e._uU(48,"Period"),e.qZA()(),e.TgZ(49,"div",17),e._uU(50),e.ALo(51,"date"),e.ALo(52,"date"),e.ALo(53,"duration"),e.qZA(),e.TgZ(54,"div",16)(55,"div",12)(56,"app-icon",13),e._uU(57,"place"),e.qZA()(),e.TgZ(58,"div",7),e._uU(59,"Floor"),e.qZA()(),e.TgZ(60,"div",17),e._uU(61),e.qZA(),e.TgZ(62,"div",16)(63,"div",12)(64,"app-icon",13),e._uU(65,"meeting_room"),e.qZA()(),e.TgZ(66,"div",7),e._uU(67,"Room"),e.qZA()(),e.TgZ(68,"div",17),e._uU(69),e.qZA(),e.TgZ(70,"div",18)(71,"button",19)(72,"app-icon",20),e._uU(73),e.qZA(),e.TgZ(74,"div",21),e._uU(75),e.qZA(),e.TgZ(76,"app-icon",22),e._uU(77,"expand_more"),e.qZA()(),e.TgZ(78,"mat-menu",23,24)(80,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setStatus("approved"))}),e._uU(81," Approve "),e.qZA(),e.TgZ(82,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setStatus("declined"))}),e._uU(83," Decline "),e.qZA()(),e.TgZ(84,"button",26)(85,"div",21),e._uU(86),e.ALo(87,"splitjoin"),e.qZA(),e.TgZ(88,"app-icon",22),e._uU(89,"expand_more"),e.qZA()(),e.TgZ(90,"mat-menu",23,27)(92,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setTracking("in_storage"))}),e._uU(93," In Storage "),e.qZA(),e.TgZ(94,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setTracking("in_transit"))}),e._uU(95," In Transit "),e.qZA(),e.TgZ(96,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.setTracking("at_location"))}),e._uU(97," At Location "),e.qZA()()()()()()}if(2&i){const t=e.MAs(79),a=e.MAs(91),o=e.oxw();e.xp6(6),e.Q6J("user",e.VKq(46,Gt,o.request.user_name)),e.xp6(3),e.Oqu(o.request.user_name),e.xp6(4),e.Q6J("href","mailto:"+o.request.user_email,e.LSH),e.xp6(1),e.hij(" ",o.request.user_email||"staff@place.tech"," "),e.xp6(4),e.Q6J("href","tel:"+o.request.user_phone,e.LSH),e.xp6(1),e.hij(" ",o.request.user_phone||"04 1234 5678"," "),e.xp6(5),e.Oqu(o.request.user_company||"PlaceOS"),e.xp6(9),e.Q6J("ngForOf",(null==o.request.extension_data?null:o.request.extension_data.assets)||e.DdM(48,Vt)),e.xp6(8),e.hij(" ",e.xi3(42,33,o.request.date,"mediumDate")," "),e.xp6(9),e.lnq(" ",e.xi3(51,36,o.request.date,"shortTime")," \u2013 ",e.xi3(52,39,o.request.date+60*o.request.duration*1e3,"shortTime")," (",e.lcZ(53,42,o.request.duration),") "),e.xp6(11),e.hij(" ",(null==o.request.extension_data||null==o.request.extension_data.space||null==o.request.extension_data.space.level?null:o.request.extension_data.space.level.display_name)||(null==o.request.extension_data||null==o.request.extension_data.space||null==o.request.extension_data.space.level?null:o.request.extension_data.space.level.name)," "),e.xp6(8),e.hij(" ",(null==o.request.extension_data||null==o.request.extension_data.space?null:o.request.extension_data.space.display_name)||(null==o.request.extension_data||null==o.request.extension_data.space?null:o.request.extension_data.space.name)," "),e.xp6(2),e.ekj("bg-green-600","approved"===o.request.status)("bg-red-600","declined"===o.request.status)("bg-yellow-400","tentative"===o.request.status),e.Q6J("matMenuTriggerFor",t)("disabled",o.loading),e.xp6(1),e.ekj("text-green-600","approved"===o.request.status)("text-red-600","declined"===o.request.status)("text-yellow-400","tentative"===o.request.status),e.xp6(1),e.hij(" ","approved"===o.request.status?"done":"declined"===o.request.status?"close":"warning"," "),e.xp6(2),e.hij(" ",o.request.status," "),e.xp6(9),e.Q6J("matMenuTriggerFor",a)("disabled",o.loading),e.xp6(2),e.hij(" ",e.lcZ(87,44,null==o.request.extension_data?null:o.request.extension_data.tracking)," ")}}class k{constructor(n){this._state=n,this.requestChange=new e.vpe,this.loading=!1}setStatus(n){var t=this;return(0,g.Z)(function*(){t.loading=!0,yield t._state.setStatus(t.request,n),t.request.status=n,t.loading=!1})()}setTracking(n){var t=this;return(0,g.Z)(function*(){t.loading=!0,yield t._state.setTracking(t.request,n),t.request.extension_data.tracking=n,t.loading=!1})()}}k.\u0275fac=function(n){return new(n||k)(e.Y36(_))},k.\u0275cmp=e.Xpm({type:k,selectors:[["asset-request-details"]],inputs:{request:"request"},outputs:{requestChange:"requestChange"},decls:1,vars:1,consts:[["class","fixed inset-0 bg-black/50 z-50",3,"click",4,"ngIf"],[1,"fixed","inset-0","bg-black/50","z-50",3,"click"],[1,"absolute","inset-y-0","right-0","bg-white","dark:bg-neutral-700","w-[480px]",3,"click"],["icon","","matRipple","",1,"absolute","top-1","right-1",3,"click"],[1,"border-b","border-gray-200","dark:border-neutral-500","px-2","py-4","flex","space-x-4"],[1,"text-xl",3,"user"],["details","",1,"space-y-1"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"underline",3,"href"],[1,"px-3","py-4","relative"],[1,"flex","items-center","space-x-4"],[1,"h-6","w-6","rounded-full","text-secondary","bg-gray-200","dark:bg-neutral-600","flex","items-center","justify-center"],[1,"text-sm"],[1,"pl-10","flex","flex-col","mt-1"],[4,"ngFor","ngForOf"],[1,"flex","items-center","space-x-4","mt-4"],[1,"pl-10","mt-1"],[1,"absolute","top-4","right-4","text-sm"],["matRipple","",1,"rounded-3xl","!bg-opacity-20","flex","items-center","px-2","py-1","w-full","text-left","space-x-2","mb-4",3,"matMenuTriggerFor","disabled"],[1,"text-xl"],[1,"capitalize","flex-1"],[1,"text-2xl"],[1,"w-36"],["menu","matMenu"],["mat-menu-item","",3,"click"],["matRipple","",1,"bg-none","w-full","flex","items-center","px-2","py-1","text-left","border","border-gray-200","dark:border-neutral-700","rounded-none",3,"matMenuTriggerFor","disabled"],["tracking_menu","matMenu"]],template:function(n,t){1&n&&e.YNc(0,Yt,98,49,"div",0),2&n&&e.Q6J("ngIf",t.request)},dependencies:[c.sg,c.O5,v.VK,v.OP,v.p6,u.wG,E.o,xe.k,c.uU,b,Z]});const Kt=function(i){return{name:i}};function $t(i,n){if(1&i&&(e.TgZ(0,"div",14),e._UZ(1,"a-user-avatar",15),e.TgZ(2,"div",16),e._uU(3),e.qZA()()),2&i){const t=n.row;e.xp6(1),e.Q6J("user",e.VKq(2,Kt,t.user_name)),e.xp6(2),e.Oqu(t.user_name)}}function Wt(i,n){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.AsE(" ",t.amount||1,"\xd7 ",t.name," ")}}const Xt=function(){return[]};function en(i,n){if(1&i&&(e.TgZ(0,"div",17),e.YNc(1,Wt,2,2,"div",18),e.qZA()),2&i){const t=n.row;e.xp6(1),e.Q6J("ngForOf",(null==t.extension_data?null:t.extension_data.assets)||e.DdM(1,Xt))}}function tn(i,n){1&i&&(e._uU(0),e.ALo(1,"date")),2&i&&e.hij(" ",e.xi3(1,1,n.row.date,"mediumDate")," ")}function nn(i,n){if(1&i&&e._uU(0),2&i){const t=n.row;e.hij(" ",(null==t.extension_data||null==t.extension_data.space?null:t.extension_data.space.display_name)||(null==t.extension_data||null==t.extension_data.space?null:t.extension_data.space.name)," ")}}function an(i,n){if(1&i&&e._uU(0),2&i){const t=n.row;e.hij(" ",(null==t.extension_data||null==t.extension_data.space||null==t.extension_data.space.level?null:t.extension_data.space.level.display_name)||(null==t.extension_data||null==t.extension_data.space||null==t.extension_data.space.level?null:t.extension_data.space.level.name)," ")}}function on(i,n){if(1&i&&(e._uU(0),e.ALo(1,"date"),e.ALo(2,"date")),2&i){const t=n.row;e.AsE(" ",e.xi3(1,2,t.date,"shortTime")," \u2013 ",e.xi3(2,5,t.date+60*t.duration*1e3,"shortTime")," ")}}function sn(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(o){return o.stopPropagation()}),e.TgZ(1,"app-icon",20),e._uU(2),e.qZA(),e.TgZ(3,"div",21),e._uU(4),e.qZA(),e.TgZ(5,"app-icon",22),e._uU(6,"expand_more"),e.qZA()(),e.TgZ(7,"mat-menu",23,24)(9,"button",25),e.NdJ("click",function(){const s=e.CHM(t).row,l=e.oxw();return e.KtG(l.setStatus(s,"approved"))}),e._uU(10," Approve "),e.qZA(),e.TgZ(11,"button",25),e.NdJ("click",function(){const s=e.CHM(t).row,l=e.oxw();return e.KtG(l.setStatus(s,"declined"))}),e._uU(12," Decline "),e.qZA()()}if(2&i){const t=n.row,a=e.MAs(8),o=e.oxw();e.ekj("bg-green-600","approved"===t.status)("bg-red-600","declined"===t.status)("bg-yellow-400","tentative"===t.status),e.Q6J("matMenuTriggerFor",a)("disabled",o.loading[t.id]),e.xp6(1),e.ekj("text-green-600","approved"===t.status)("text-red-600","declined"===t.status)("text-yellow-400","tentative"===t.status),e.xp6(1),e.hij(" ","approved"===t.status?"done":"declined"===t.status?"close":"warning"," "),e.xp6(2),e.Oqu(t.status)}}function rn(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(o){return o.stopPropagation()}),e.TgZ(1,"div",21),e._uU(2),e.ALo(3,"splitjoin"),e.qZA(),e.TgZ(4,"app-icon",22),e._uU(5,"expand_more"),e.qZA()(),e.TgZ(6,"mat-menu",23,27)(8,"button",25),e.NdJ("click",function(){const s=e.CHM(t).row,l=e.oxw();return e.KtG(l.setTracking(s,"in_storage"))}),e._uU(9," In Storage "),e.qZA(),e.TgZ(10,"button",25),e.NdJ("click",function(){const s=e.CHM(t).row,l=e.oxw();return e.KtG(l.setTracking(s,"in_transit"))}),e._uU(11," In Transit "),e.qZA(),e.TgZ(12,"button",25),e.NdJ("click",function(){const s=e.CHM(t).row,l=e.oxw();return e.KtG(l.setTracking(s,"at_location"))}),e._uU(13," At Location "),e.qZA()()}if(2&i){const t=n.row,a=e.MAs(7),o=e.oxw();e.Q6J("matMenuTriggerFor",a)("disabled",o.loading[t.id]),e.xp6(2),e.hij(" ",e.lcZ(3,3,null==t.extension_data?null:t.extension_data.tracking)," ")}}const ln=function(){return["user","assets","date","period","location_floor","location_name","approval","tracking"]},cn=function(){return["Requester","Assets Requested","Date for","Period","Floor","Room","Approval","Tracking"]},pn=function(){return["flex","12r","","9.5r","6r","12r","10r","10r"]},dn=function(i,n,t,a,o,s,l,m){return{user:i,assets:n,date:t,period:a,approval:o,tracking:s,location_floor:l,location_name:m}};class I extends T.cx{setStatus(n,t){var a=this;return(0,g.Z)(function*(){a.loading[n.id]=!0,yield a._state.setStatus(n,t),a.loading[n.id]=!1})()}setTracking(n,t){var a=this;return(0,g.Z)(function*(){a.loading[n.id]=!0,yield a._state.setTracking(n,t),a.loading[n.id]=!1})()}constructor(n){super(),this._state=n,this.requests=this._state.filtered_requests,this.filters=this._state.options,this.loading={}}ngOnInit(){this.subscription("polling",this._state.startPolling())}}I.\u0275fac=function(n){return new(n||I)(e.Y36(_))},I.\u0275cmp=e.Xpm({type:I,selectors:[["app-asset-request-list"]],features:[e.qOj],decls:26,vars:27,consts:[[1,"relative","-left-4","w-[calc(100%+2rem)]","mt-4","h-[calc(100%-1rem)]","flex","flex-col"],[1,"bg-white","dark:bg-neutral-700","p-4","border-t","border-b","border-gray-300","dark:border-neutral-500"],[1,"opacity-60","text-sm"],[1,"w-full","overflow-auto","h-1/2","flex-1"],["asset-requests","",1,"block","min-w-[82rem]","text-sm",3,"dataSource","columns","display_column","column_size","template","empty","row_clicked"],["user_template",""],["assets_template",""],["date_template",""],["space_template",""],["level_template",""],["period_template",""],["approval_template",""],["tracking_template",""],[3,"request","requestChange"],[1,"flex","items-center","space-x-2"],[3,"user"],[1,"flex-1"],[1,"flex","flex-col"],[4,"ngFor","ngForOf"],["matRipple","",1,"rounded-3xl","!bg-opacity-20","flex","items-center","px-2","py-1","w-full","text-left","space-x-2",3,"matMenuTriggerFor","disabled","click"],[1,"text-xl"],[1,"capitalize","flex-1"],[1,"text-2xl"],[1,"w-36"],["menu","matMenu"],["mat-menu-item","",3,"click"],["matRipple","",1,"bg-none","w-full","flex","items-center","px-2","py-1","text-left",3,"matMenuTriggerFor","disabled","click"],["tracking_menu","matMenu"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.ALo(4,"async"),e.ALo(5,"async"),e.qZA()(),e.TgZ(6,"div",3)(7,"custom-table",4),e.NdJ("row_clicked",function(o){return t.request=o}),e.ALo(8,"async"),e.qZA()()(),e.YNc(9,$t,4,4,"ng-template",null,5,e.W1O),e.YNc(11,en,2,2,"ng-template",null,6,e.W1O),e.YNc(13,tn,2,4,"ng-template",null,7,e.W1O),e.YNc(15,nn,1,1,"ng-template",null,8,e.W1O),e.YNc(17,an,1,1,"ng-template",null,9,e.W1O),e.YNc(19,on,3,8,"ng-template",null,10,e.W1O),e.YNc(21,sn,13,16,"ng-template",null,11,e.W1O),e.YNc(23,rn,14,5,"ng-template",null,12,e.W1O),e.TgZ(25,"asset-request-details",13),e.NdJ("requestChange",function(o){return t.request=o}),e.qZA()),2&n){const a=e.MAs(10),o=e.MAs(12),s=e.MAs(14),l=e.MAs(16),m=e.MAs(18),y=e.MAs(20),G=e.MAs(22),V=e.MAs(24);let h,D;e.xp6(3),e.AsE(" ",null==(h=e.lcZ(4,9,t.requests))?null:h.length," asset request","1"===(null==(h=e.lcZ(5,11,t.requests))?null:h.length)?"":"s"," "),e.xp6(4),e.Q6J("dataSource",t.requests)("columns",e.DdM(15,ln))("display_column",e.DdM(16,cn))("column_size",e.DdM(17,pn))("template",e.qlk(18,dn,a,o,s,y,G,V,m,l))("empty",null!=(D=e.lcZ(8,13,t.filters))&&D.search?"No matching asset requests":"There are no asset requests for the currently selected date."),e.xp6(18),e.Q6J("request",t.request)}},dependencies:[c.sg,v.VK,v.OP,v.p6,u.wG,E.o,xe.k,fe.C,k,c.Ov,c.uU,b],styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}\n/*# sourceMappingURL=asset-request-list.component.ts-angular-inline--107.css.map*/"]});const be=function(i){return["/asset-manager","view",i]};function un(i,n){if(1&i&&(e.TgZ(0,"a",14)(1,"div",15),e._UZ(2,"img",16),e.qZA(),e.TgZ(3,"div")(4,"div",17),e._uU(5),e.qZA(),e.TgZ(6,"div",18),e._uU(7),e.qZA()()()),2&i){const t=n.$implicit,a=e.oxw(4);e.Q6J("routerLink",e.VKq(5,be,t.id)),e.xp6(2),e.Q6J("src",null!=t.images&&t.images.length?t.images[0].url:"",e.LSH),e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.AsE(" In Storage: ",(t.count||0)-((null==t.locations?null:t.locations.length)||0),"/",a.assets.count||0," ")}}function _n(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"div",12),e.YNc(2,un,8,7,"a",13),e.ALo(3,"async"),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,a.assets)[t])}}function mn(i,n){if(1&i&&(e.TgZ(0,"a",21)(1,"div",22),e._UZ(2,"img",16),e.qZA(),e.TgZ(3,"div",23)(4,"div",17),e._uU(5),e.qZA(),e.TgZ(6,"div",18),e._uU(7),e.qZA()()()),2&i){const t=n.$implicit,a=e.oxw(4);e.Q6J("routerLink",e.VKq(5,be,t.id)),e.xp6(2),e.Q6J("src",null!=t.images&&t.images.length?t.images[0].url:"",e.LSH),e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.AsE(" In Storage: ",(t.count||0)-((null==t.locations?null:t.locations.length)||0),"/",a.assets.count||0," ")}}function gn(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"div",19),e.YNc(2,mn,8,7,"a",20),e.ALo(3,"async"),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit,a=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,a.assets)[t])}}function hn(i,n){if(1&i&&(e.TgZ(0,"div",5)(1,"h2",6)(2,"span",7),e._uU(3),e.qZA(),e.TgZ(4,"span",8),e._uU(5),e.ALo(6,"async"),e.ALo(7,"async"),e.qZA()(),e.ynx(8,9),e.ALo(9,"async"),e.YNc(10,_n,4,3,"ng-container",10),e.YNc(11,gn,4,3,"ng-container",11),e.BQk(),e.qZA()),2&i){const t=n.$implicit,a=e.oxw(2);e.xp6(3),e.Oqu(t),e.xp6(2),e.AsE(" (",null==e.lcZ(6,5,a.assets)[t]?null:e.lcZ(6,5,a.assets)[t].length," item",1===(null==e.lcZ(7,7,a.assets)[t]?null:e.lcZ(7,7,a.assets)[t].length)?"":"s",") "),e.xp6(3),e.Q6J("ngSwitch",e.lcZ(9,9,a.options).view),e.xp6(2),e.Q6J("ngSwitchCase","list")}}function fn(i,n){if(1&i&&(e.TgZ(0,"div",3),e.YNc(1,hn,12,11,"div",4),e.ALo(2,"async"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t.categories))}}function vn(i,n){1&i&&e._UZ(0,"mat-progress-bar",24)}const xn=function(){return["/asset-manager","manage","details"]};function bn(i,n){1&i&&(e.TgZ(0,"a",28),e._uU(1," Create new Asset "),e.qZA()),2&i&&e.Q6J("routerLink",e.DdM(1,xn))}function yn(i,n){if(1&i&&(e.TgZ(0,"div",25)(1,"p",26),e._uU(2),e.ALo(3,"async"),e.qZA(),e.YNc(4,bn,2,2,"a",27),e.ALo(5,"async"),e.qZA()),2&i){const t=e.oxw();let a,o;e.xp6(2),e.hij(" ",null!=(a=e.lcZ(3,2,t.options))&&a.search?"No matching assets found":"No assets available. Create a new asset with the button below"," "),e.xp6(2),e.Q6J("ngIf",!(null!=(o=e.lcZ(5,4,t.options))&&o.search))}}class q{constructor(n){this._state=n,this.loading=this._state.loading,this.options=this._state.options,this.categories=this._state.asset_categories,this.assets=this._state.asset_mapping}}q.\u0275fac=function(n){return new(n||q)(e.Y36(_))},q.\u0275cmp=e.Xpm({type:q,selectors:[["app-asset-item-list"]],decls:6,vars:7,consts:[["class","overflow-auto pb-2 w-full h-full",4,"ngIf","ngIfElse"],["mode","indeterminate",4,"ngIf"],["empty_state",""],[1,"overflow-auto","pb-2","w-full","h-full"],["class","",4,"ngFor","ngForOf"],[1,""],[1,"py-2"],[1,"font-medium"],[1,"text-xs"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"rounded","overflow-hidden","bg-white","dark:bg-neutral-700","border","border-gray-300","divide-y","divide-gray-200","dark:border-neutral-500"],["matRipple","","class","flex items-center text-left space-x-4 p-4",3,"routerLink",4,"ngFor","ngForOf"],["matRipple","",1,"flex","items-center","text-left","space-x-4","p-4",3,"routerLink"],[1,"h-12","w-12","flex","items-center","justify-center","border","border-gray-200","dark:border-neutral-500","p-2"],[1,"max-w-full","max-h-full","object-contain",3,"src"],[1,"truncate"],[1,"text-xs","opacity-60"],[1,"flex","items-center","overflow-x-auto","space-x-4","py-2"],["matRipple","","class","bg-white dark:bg-neutral-700 rounded shadow w-40 h-44 text-left",3,"routerLink",4,"ngFor","ngForOf"],["matRipple","",1,"bg-white","dark:bg-neutral-700","rounded","shadow","w-40","h-44","text-left",3,"routerLink"],[1,"w-full","h-32","flex","items-center","justify-center","p-2"],[1,"border-t","border-gray-200","dark:border-neutral-500","w-full","px-3","py-1"],["mode","indeterminate"],[1,"flex","flex-col","items-center","justify-center","p-8","space-y-4","h-full","w-full"],[1,"opacity-40"],["button","","btn","","matRipple","",3,"routerLink",4,"ngIf"],["button","","btn","","matRipple","",3,"routerLink"]],template:function(n,t){if(1&n&&(e.YNc(0,fn,3,3,"div",0),e.ALo(1,"async"),e.YNc(2,vn,1,0,"mat-progress-bar",1),e.ALo(3,"async"),e.YNc(4,yn,6,6,"ng-template",null,2,e.W1O)),2&n){const a=e.MAs(5);let o;e.Q6J("ngIf",null==(o=e.lcZ(1,3,t.categories))?null:o.length)("ngIfElse",a),e.xp6(2),e.Q6J("ngIf",e.lcZ(3,5,t.loading))}},dependencies:[c.sg,c.O5,c.RF,c.n9,c.ED,ce.pW,u.wG,d.rH,c.Ov],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}\n/*# sourceMappingURL=asset-item-list.component.ts-angular-inline--108.css.map*/"]});class U{constructor(n,t){this._state=n,this._route=t,this.form=(0,f.dY)()}}U.\u0275fac=function(n){return new(n||U)(e.Y36(_),e.Y36(d.gz))},U.\u0275cmp=e.Xpm({type:U,selectors:[["asset-purchase-order-form"]],decls:0,vars:0,template:function(n,t){}});class F{constructor(n,t){this._state=n,this._route=t,this.form=(0,f.rx)()}}F.\u0275fac=function(n){return new(n||F)(e.Y36(_),e.Y36(d.gz))},F.\u0275cmp=e.Xpm({type:F,selectors:[["asset-category-form"]],decls:0,vars:0,template:function(n,t){}});class N{constructor(n,t){this._state=n,this._route=t,this.form=(0,f.PG)()}}N.\u0275fac=function(n){return new(n||N)(e.Y36(_),e.Y36(d.gz))},N.\u0275cmp=e.Xpm({type:N,selectors:[["asset-form"]],decls:0,vars:0,template:function(n,t){}});class P{constructor(n,t){this._state=n,this._route=t,this.form=(0,f.UN)()}}P.\u0275fac=function(n){return new(n||P)(e.Y36(_),e.Y36(d.gz))},P.\u0275cmp=e.Xpm({type:P,selectors:[["asset-group-form"]],decls:0,vars:0,template:function(n,t){}});const Tn=[{path:"",component:C,children:[{path:"list",component:A,children:[{path:"items",component:q},{path:"requests",component:I},{path:"**",redirectTo:"requests"}]},{path:"view/:id",component:w},{path:"manage",children:[{path:"group",component:P},{path:"asset",component:N},{path:"category",component:F},{path:"purchase-order",component:U}]},{path:"**",redirectTo:"list/requests"}]},{path:"**",redirectTo:""}];class L{}L.\u0275fac=function(n){return new(n||L)},L.\u0275mod=e.oAB({type:L}),L.\u0275inj=e.cJS({imports:[c.ez,$e.v,$.Kk,qe,ce.Cv,R.Nh,Ke,d.Bz.forChild(Tn)]})}}]);
//# sourceMappingURL=apps_concierge_src_app_asset-manager_asset-manager_module_ts.js.map